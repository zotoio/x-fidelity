const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/tree-sitter-DEPKwoL4.js","assets/tree-sitter-BgJFHu98.js"])))=>i.map(i=>d[i]);
var l5=Object.defineProperty;var c5=(e,t,n)=>t in e?l5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ln=(e,t,n)=>c5(e,typeof t!="symbol"?t+"":t,n);import{g as ai}from"./tree-sitter-BgJFHu98.js";function u5(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Fd={exports:{}},Ts={},zd={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function d5(){if(Mg)return Te;Mg=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function w(O,I,F){this.props=O,this.context=I,this.refs=S,this.updater=F||b}w.prototype.isReactComponent={},w.prototype.setState=function(O,I){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,I,"setState")},w.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=w.prototype;function C(O,I,F){this.props=O,this.context=I,this.refs=S,this.updater=F||b}var E=C.prototype=new N;E.constructor=C,j(E,w.prototype),E.isPureReactComponent=!0;var P=Array.isArray,k=Object.prototype.hasOwnProperty,R={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function L(O,I,F){var M,A={},Z=null,ee=null;if(I!=null)for(M in I.ref!==void 0&&(ee=I.ref),I.key!==void 0&&(Z=""+I.key),I)k.call(I,M)&&!$.hasOwnProperty(M)&&(A[M]=I[M]);var ae=arguments.length-2;if(ae===1)A.children=F;else if(1<ae){for(var he=Array(ae),ge=0;ge<ae;ge++)he[ge]=arguments[ge+2];A.children=he}if(O&&O.defaultProps)for(M in ae=O.defaultProps,ae)A[M]===void 0&&(A[M]=ae[M]);return{$$typeof:e,type:O,key:Z,ref:ee,props:A,_owner:R.current}}function K(O,I){return{$$typeof:e,type:O.type,key:I,ref:O.ref,props:O.props,_owner:O._owner}}function U(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function G(O){var I={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(F){return I[F]})}var te=/\/+/g;function re(O,I){return typeof O=="object"&&O!==null&&O.key!=null?G(""+O.key):I.toString(36)}function ne(O,I,F,M,A){var Z=typeof O;(Z==="undefined"||Z==="boolean")&&(O=null);var ee=!1;if(O===null)ee=!0;else switch(Z){case"string":case"number":ee=!0;break;case"object":switch(O.$$typeof){case e:case t:ee=!0}}if(ee)return ee=O,A=A(ee),O=M===""?"."+re(ee,0):M,P(A)?(F="",O!=null&&(F=O.replace(te,"$&/")+"/"),ne(A,I,F,"",function(ge){return ge})):A!=null&&(U(A)&&(A=K(A,F+(!A.key||ee&&ee.key===A.key?"":(""+A.key).replace(te,"$&/")+"/")+O)),I.push(A)),1;if(ee=0,M=M===""?".":M+":",P(O))for(var ae=0;ae<O.length;ae++){Z=O[ae];var he=M+re(Z,ae);ee+=ne(Z,I,F,he,A)}else if(he=x(O),typeof he=="function")for(O=he.call(O),ae=0;!(Z=O.next()).done;)Z=Z.value,he=M+re(Z,ae++),ee+=ne(Z,I,F,he,A);else if(Z==="object")throw I=String(O),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return ee}function se(O,I,F){if(O==null)return O;var M=[],A=0;return ne(O,M,"","",function(Z){return I.call(F,Z,A++)}),M}function le(O){if(O._status===-1){var I=O._result;I=I(),I.then(function(F){(O._status===0||O._status===-1)&&(O._status=1,O._result=F)},function(F){(O._status===0||O._status===-1)&&(O._status=2,O._result=F)}),O._status===-1&&(O._status=0,O._result=I)}if(O._status===1)return O._result.default;throw O._result}var pe={current:null},H={transition:null},X={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:H,ReactCurrentOwner:R};function B(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:se,forEach:function(O,I,F){se(O,function(){I.apply(this,arguments)},F)},count:function(O){var I=0;return se(O,function(){I++}),I},toArray:function(O){return se(O,function(I){return I})||[]},only:function(O){if(!U(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Te.Component=w,Te.Fragment=n,Te.Profiler=i,Te.PureComponent=C,Te.StrictMode=s,Te.Suspense=p,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Te.act=B,Te.cloneElement=function(O,I,F){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var M=j({},O.props),A=O.key,Z=O.ref,ee=O._owner;if(I!=null){if(I.ref!==void 0&&(Z=I.ref,ee=R.current),I.key!==void 0&&(A=""+I.key),O.type&&O.type.defaultProps)var ae=O.type.defaultProps;for(he in I)k.call(I,he)&&!$.hasOwnProperty(he)&&(M[he]=I[he]===void 0&&ae!==void 0?ae[he]:I[he])}var he=arguments.length-2;if(he===1)M.children=F;else if(1<he){ae=Array(he);for(var ge=0;ge<he;ge++)ae[ge]=arguments[ge+2];M.children=ae}return{$$typeof:e,type:O.type,key:A,ref:Z,props:M,_owner:ee}},Te.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},Te.createElement=L,Te.createFactory=function(O){var I=L.bind(null,O);return I.type=O,I},Te.createRef=function(){return{current:null}},Te.forwardRef=function(O){return{$$typeof:d,render:O}},Te.isValidElement=U,Te.lazy=function(O){return{$$typeof:h,_payload:{_status:-1,_result:O},_init:le}},Te.memo=function(O,I){return{$$typeof:m,type:O,compare:I===void 0?null:I}},Te.startTransition=function(O){var I=H.transition;H.transition={};try{O()}finally{H.transition=I}},Te.unstable_act=B,Te.useCallback=function(O,I){return pe.current.useCallback(O,I)},Te.useContext=function(O){return pe.current.useContext(O)},Te.useDebugValue=function(){},Te.useDeferredValue=function(O){return pe.current.useDeferredValue(O)},Te.useEffect=function(O,I){return pe.current.useEffect(O,I)},Te.useId=function(){return pe.current.useId()},Te.useImperativeHandle=function(O,I,F){return pe.current.useImperativeHandle(O,I,F)},Te.useInsertionEffect=function(O,I){return pe.current.useInsertionEffect(O,I)},Te.useLayoutEffect=function(O,I){return pe.current.useLayoutEffect(O,I)},Te.useMemo=function(O,I){return pe.current.useMemo(O,I)},Te.useReducer=function(O,I,F){return pe.current.useReducer(O,I,F)},Te.useRef=function(O){return pe.current.useRef(O)},Te.useState=function(O){return pe.current.useState(O)},Te.useSyncExternalStore=function(O,I,F){return pe.current.useSyncExternalStore(O,I,F)},Te.useTransition=function(){return pe.current.useTransition()},Te.version="18.3.1",Te}var Ag;function tp(){return Ag||(Ag=1,zd.exports=d5()),zd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function f5(){if(Ig)return Ts;Ig=1;var e=tp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,p,m){var h,v={},x=null,b=null;m!==void 0&&(x=""+m),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(b=p.ref);for(h in p)s.call(p,h)&&!a.hasOwnProperty(h)&&(v[h]=p[h]);if(d&&d.defaultProps)for(h in p=d.defaultProps,p)v[h]===void 0&&(v[h]=p[h]);return{$$typeof:t,type:d,key:x,ref:b,props:v,_owner:i.current}}return Ts.Fragment=n,Ts.jsx=u,Ts.jsxs=u,Ts}var Dg;function p5(){return Dg||(Dg=1,Fd.exports=f5()),Fd.exports}var c=p5(),g=tp();const ot=ai(g),L1=u5({__proto__:null,default:ot},[g]);var ka={},Vd={exports:{}},$t={},Ud={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function m5(){return Lg||(Lg=1,(function(e){function t(H,X){var B=H.length;H.push(X);e:for(;0<B;){var O=B-1>>>1,I=H[O];if(0<i(I,X))H[O]=X,H[B]=I,B=O;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var X=H[0],B=H.pop();if(B!==X){H[0]=B;e:for(var O=0,I=H.length,F=I>>>1;O<F;){var M=2*(O+1)-1,A=H[M],Z=M+1,ee=H[Z];if(0>i(A,B))Z<I&&0>i(ee,A)?(H[O]=ee,H[Z]=B,O=Z):(H[O]=A,H[M]=B,O=M);else if(Z<I&&0>i(ee,B))H[O]=ee,H[Z]=B,O=Z;else break e}}return X}function i(H,X){var B=H.sortIndex-X.sortIndex;return B!==0?B:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var p=[],m=[],h=1,v=null,x=3,b=!1,j=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var X=n(m);X!==null;){if(X.callback===null)s(m);else if(X.startTime<=H)s(m),X.sortIndex=X.expirationTime,t(p,X);else break;X=n(m)}}function P(H){if(S=!1,E(H),!j)if(n(p)!==null)j=!0,le(k);else{var X=n(m);X!==null&&pe(P,X.startTime-H)}}function k(H,X){j=!1,S&&(S=!1,N(L),L=-1),b=!0;var B=x;try{for(E(X),v=n(p);v!==null&&(!(v.expirationTime>X)||H&&!G());){var O=v.callback;if(typeof O=="function"){v.callback=null,x=v.priorityLevel;var I=O(v.expirationTime<=X);X=e.unstable_now(),typeof I=="function"?v.callback=I:v===n(p)&&s(p),E(X)}else s(p);v=n(p)}if(v!==null)var F=!0;else{var M=n(m);M!==null&&pe(P,M.startTime-X),F=!1}return F}finally{v=null,x=B,b=!1}}var R=!1,$=null,L=-1,K=5,U=-1;function G(){return!(e.unstable_now()-U<K)}function te(){if($!==null){var H=e.unstable_now();U=H;var X=!0;try{X=$(!0,H)}finally{X?re():(R=!1,$=null)}}else R=!1}var re;if(typeof C=="function")re=function(){C(te)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,se=ne.port2;ne.port1.onmessage=te,re=function(){se.postMessage(null)}}else re=function(){w(te,0)};function le(H){$=H,R||(R=!0,re())}function pe(H,X){L=w(function(){H(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){j||b||(j=!0,le(k))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(H){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var B=x;x=X;try{return H()}finally{x=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var B=x;x=H;try{return X()}finally{x=B}},e.unstable_scheduleCallback=function(H,X,B){var O=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?O+B:O):B=O,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=B+I,H={id:h++,callback:X,priorityLevel:H,startTime:B,expirationTime:I,sortIndex:-1},B>O?(H.sortIndex=B,t(m,H),n(p)===null&&H===n(m)&&(S?(N(L),L=-1):S=!0,pe(P,B-O))):(H.sortIndex=I,t(p,H),j||b||(j=!0,le(k))),H},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(H){var X=x;return function(){var B=x;x=X;try{return H.apply(this,arguments)}finally{x=B}}}})(Hd)),Hd}var Fg;function h5(){return Fg||(Fg=1,Ud.exports=m5()),Ud.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function g5(){if(zg)return $t;zg=1;var e=tp(),t=h5();function n(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function a(r,o){u(r,o),u(r+"Capture",o)}function u(r,o){for(i[r]=o,r=0;r<o.length;r++)s.add(o[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},v={};function x(r){return p.call(v,r)?!0:p.call(h,r)?!1:m.test(r)?v[r]=!0:(h[r]=!0,!1)}function b(r,o,l,f){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function j(r,o,l,f){if(o===null||typeof o>"u"||b(r,o,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(r,o,l,f,y,_,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=l,this.propertyName=r,this.type=o,this.sanitizeURL=_,this.removeEmptyString=T}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){w[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];w[o]=new S(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){w[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){w[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){w[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){w[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){w[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){w[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){w[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(N,C);w[o]=new S(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(N,C);w[o]=new S(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(N,C);w[o]=new S(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){w[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),w.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){w[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,o,l,f){var y=w.hasOwnProperty(o)?w[o]:null;(y!==null?y.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,l,y,f)&&(l=null),f||y===null?x(o)&&(l===null?r.removeAttribute(o):r.setAttribute(o,""+l)):y.mustUseProperty?r[y.propertyName]=l===null?y.type===3?!1:"":l:(o=y.attributeName,f=y.attributeNamespace,l===null?r.removeAttribute(o):(y=y.type,l=y===3||y===4&&l===!0?"":""+l,f?r.setAttributeNS(f,o,l):r.setAttribute(o,l))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),R=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),G=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),H=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var B=Object.assign,O;function I(r){if(O===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);O=o&&o[1]||""}return`
`+O+r}var F=!1;function M(r,o){if(!r||F)return"";F=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var f=Q}Reflect.construct(r,[],o)}else{try{o.call()}catch(Q){f=Q}r.call(o.prototype)}else{try{throw Error()}catch(Q){f=Q}r()}}catch(Q){if(Q&&f&&typeof Q.stack=="string"){for(var y=Q.stack.split(`
`),_=f.stack.split(`
`),T=y.length-1,D=_.length-1;1<=T&&0<=D&&y[T]!==_[D];)D--;for(;1<=T&&0<=D;T--,D--)if(y[T]!==_[D]){if(T!==1||D!==1)do if(T--,D--,0>D||y[T]!==_[D]){var z=`
`+y[T].replace(" at new "," at ");return r.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",r.displayName)),z}while(1<=T&&0<=D);break}}}finally{F=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?I(r):""}function A(r){switch(r.tag){case 5:return I(r.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return r=M(r.type,!1),r;case 11:return r=M(r.type.render,!1),r;case 1:return r=M(r.type,!0),r;default:return""}}function Z(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case $:return"Fragment";case R:return"Portal";case K:return"Profiler";case L:return"StrictMode";case re:return"Suspense";case ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case G:return(r.displayName||"Context")+".Consumer";case U:return(r._context.displayName||"Context")+".Provider";case te:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case se:return o=r.displayName||null,o!==null?o:Z(r.type)||"Memo";case le:o=r._payload,r=r._init;try{return Z(r(o))}catch{}}return null}function ee(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(o);case 8:return o===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ae(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function he(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ge(r){var o=he(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,_=l.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(r,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function V(r){r._valueTracker||(r._valueTracker=ge(r))}function W(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return r&&(f=he(r)?r.checked?"true":"false":r.value),r=f,r!==l?(o.setValue(r),!0):!1}function oe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function de(r,o){var l=o.checked;return B({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ve(r,o){var l=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;l=ae(o.value!=null?o.value:l),r._wrapperState={initialChecked:f,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function je(r,o){o=o.checked,o!=null&&E(r,"checked",o,!1)}function Ue(r,o){je(r,o);var l=ae(o.value),f=o.type;if(l!=null)f==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?Ze(r,o.type,l):o.hasOwnProperty("defaultValue")&&Ze(r,o.type,ae(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function ht(r,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,l||o===r.value||(r.value=o),r.defaultValue=o}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ze(r,o,l){(o!=="number"||oe(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var tt=Array.isArray;function Ge(r,o,l,f){if(r=r.options,o){o={};for(var y=0;y<l.length;y++)o["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=o.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&f&&(r[l].defaultSelected=!0)}else{for(l=""+ae(l),o=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function hr(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function wt(r,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(tt(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}r._wrapperState={initialValue:ae(l)}}function Qn(r,o){var l=ae(o.value),f=ae(o.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),o.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),f!=null&&(r.defaultValue=""+f)}function eo(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function Wr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cn(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?Wr(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _n,Ko=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,f,y){MSApp.execUnsafeLocalFunction(function(){return r(o,l,f,y)})}:r})(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(_n=_n||document.createElement("div"),_n.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=_n.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Sn(r,o){if(o){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=o;return}}r.textContent=o}var Zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fw=["Webkit","ms","Moz","O"];Object.keys(Zo).forEach(function(r){fw.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),Zo[o]=Zo[r]})});function Zp(r,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Zo.hasOwnProperty(r)&&Zo[r]?(""+o).trim():o+"px"}function Yp(r,o){r=r.style;for(var l in o)if(o.hasOwnProperty(l)){var f=l.indexOf("--")===0,y=Zp(l,o[l],f);l==="float"&&(l="cssFloat"),f?r.setProperty(l,y):r[l]=y}}var pw=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jc(r,o){if(o){if(pw[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Xc(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=null;function eu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var tu=null,to=null,ro=null;function Jp(r){if(r=ys(r)){if(typeof tu!="function")throw Error(n(280));var o=r.stateNode;o&&(o=Hi(o),tu(r.stateNode,r.type,o))}}function Xp(r){to?ro?ro.push(r):ro=[r]:to=r}function Qp(){if(to){var r=to,o=ro;if(ro=to=null,Jp(r),o)for(r=0;r<o.length;r++)Jp(o[r])}}function em(r,o){return r(o)}function tm(){}var ru=!1;function rm(r,o,l){if(ru)return r(o,l);ru=!0;try{return em(r,o,l)}finally{ru=!1,(to!==null||ro!==null)&&(tm(),Qp())}}function Yo(r,o){var l=r.stateNode;if(l===null)return null;var f=Hi(l);if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var nu=!1;if(d)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){nu=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{nu=!1}function mw(r,o,l,f,y,_,T,D,z){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(l,Q)}catch(ue){this.onError(ue)}}var Xo=!1,bi=null,Ci=!1,ou=null,hw={onError:function(r){Xo=!0,bi=r}};function gw(r,o,l,f,y,_,T,D,z){Xo=!1,bi=null,mw.apply(hw,arguments)}function yw(r,o,l,f,y,_,T,D,z){if(gw.apply(this,arguments),Xo){if(Xo){var Q=bi;Xo=!1,bi=null}else throw Error(n(198));Ci||(Ci=!0,ou=Q)}}function Nn(r){var o=r,l=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(l=o.return),r=o.return;while(r)}return o.tag===3?l:null}function nm(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function om(r){if(Nn(r)!==r)throw Error(n(188))}function vw(r){var o=r.alternate;if(!o){if(o=Nn(r),o===null)throw Error(n(188));return o!==r?null:r}for(var l=r,f=o;;){var y=l.return;if(y===null)break;var _=y.alternate;if(_===null){if(f=y.return,f!==null){l=f;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===l)return om(y),r;if(_===f)return om(y),o;_=_.sibling}throw Error(n(188))}if(l.return!==f.return)l=y,f=_;else{for(var T=!1,D=y.child;D;){if(D===l){T=!0,l=y,f=_;break}if(D===f){T=!0,f=y,l=_;break}D=D.sibling}if(!T){for(D=_.child;D;){if(D===l){T=!0,l=_,f=y;break}if(D===f){T=!0,f=_,l=y;break}D=D.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:o}function sm(r){return r=vw(r),r!==null?im(r):null}function im(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=im(r);if(o!==null)return o;r=r.sibling}return null}var am=t.unstable_scheduleCallback,lm=t.unstable_cancelCallback,xw=t.unstable_shouldYield,ww=t.unstable_requestPaint,Qe=t.unstable_now,bw=t.unstable_getCurrentPriorityLevel,su=t.unstable_ImmediatePriority,cm=t.unstable_UserBlockingPriority,_i=t.unstable_NormalPriority,Cw=t.unstable_LowPriority,um=t.unstable_IdlePriority,Si=null,gr=null;function _w(r){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Si,r,void 0,(r.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:jw,Sw=Math.log,Nw=Math.LN2;function jw(r){return r>>>=0,r===0?32:31-(Sw(r)/Nw|0)|0}var Ni=64,ji=4194304;function Qo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ei(r,o){var l=r.pendingLanes;if(l===0)return 0;var f=0,y=r.suspendedLanes,_=r.pingedLanes,T=l&268435455;if(T!==0){var D=T&~y;D!==0?f=Qo(D):(_&=T,_!==0&&(f=Qo(_)))}else T=l&~y,T!==0?f=Qo(T):_!==0&&(f=Qo(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&y)===0&&(y=f&-f,_=o&-o,y>=_||y===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=l&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=f;0<o;)l=31-Xt(o),y=1<<l,f|=r[l],o&=~y;return f}function Ew(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kw(r,o){for(var l=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,_=r.pendingLanes;0<_;){var T=31-Xt(_),D=1<<T,z=y[T];z===-1?((D&l)===0||(D&f)!==0)&&(y[T]=Ew(D,o)):z<=o&&(r.expiredLanes|=D),_&=~D}}function iu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function dm(){var r=Ni;return Ni<<=1,(Ni&4194240)===0&&(Ni=64),r}function au(r){for(var o=[],l=0;31>l;l++)o.push(r);return o}function es(r,o,l){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Xt(o),r[o]=l}function Pw(r,o){var l=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<l;){var y=31-Xt(l),_=1<<y;o[y]=0,f[y]=-1,r[y]=-1,l&=~_}}function lu(r,o){var l=r.entangledLanes|=o;for(r=r.entanglements;l;){var f=31-Xt(l),y=1<<f;y&o|r[f]&o&&(r[f]|=o),l&=~y}}var ze=0;function fm(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var pm,cu,mm,hm,gm,uu=!1,ki=[],Gr=null,Kr=null,Zr=null,ts=new Map,rs=new Map,Yr=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ym(r,o){switch(r){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":ts.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(o.pointerId)}}function ns(r,o,l,f,y,_){return r===null||r.nativeEvent!==_?(r={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[y]},o!==null&&(o=ys(o),o!==null&&cu(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function $w(r,o,l,f,y){switch(o){case"focusin":return Gr=ns(Gr,r,o,l,f,y),!0;case"dragenter":return Kr=ns(Kr,r,o,l,f,y),!0;case"mouseover":return Zr=ns(Zr,r,o,l,f,y),!0;case"pointerover":var _=y.pointerId;return ts.set(_,ns(ts.get(_)||null,r,o,l,f,y)),!0;case"gotpointercapture":return _=y.pointerId,rs.set(_,ns(rs.get(_)||null,r,o,l,f,y)),!0}return!1}function vm(r){var o=jn(r.target);if(o!==null){var l=Nn(o);if(l!==null){if(o=l.tag,o===13){if(o=nm(l),o!==null){r.blockedOn=o,gm(r.priority,function(){mm(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pi(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var l=fu(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);Qc=f,l.target.dispatchEvent(f),Qc=null}else return o=ys(l),o!==null&&cu(o),r.blockedOn=l,!1;o.shift()}return!0}function xm(r,o,l){Pi(r)&&l.delete(o)}function Tw(){uu=!1,Gr!==null&&Pi(Gr)&&(Gr=null),Kr!==null&&Pi(Kr)&&(Kr=null),Zr!==null&&Pi(Zr)&&(Zr=null),ts.forEach(xm),rs.forEach(xm)}function os(r,o){r.blockedOn===o&&(r.blockedOn=null,uu||(uu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Tw)))}function ss(r){function o(y){return os(y,r)}if(0<ki.length){os(ki[0],r);for(var l=1;l<ki.length;l++){var f=ki[l];f.blockedOn===r&&(f.blockedOn=null)}}for(Gr!==null&&os(Gr,r),Kr!==null&&os(Kr,r),Zr!==null&&os(Zr,r),ts.forEach(o),rs.forEach(o),l=0;l<Yr.length;l++)f=Yr[l],f.blockedOn===r&&(f.blockedOn=null);for(;0<Yr.length&&(l=Yr[0],l.blockedOn===null);)vm(l),l.blockedOn===null&&Yr.shift()}var no=P.ReactCurrentBatchConfig,Ri=!0;function Ow(r,o,l,f){var y=ze,_=no.transition;no.transition=null;try{ze=1,du(r,o,l,f)}finally{ze=y,no.transition=_}}function Mw(r,o,l,f){var y=ze,_=no.transition;no.transition=null;try{ze=4,du(r,o,l,f)}finally{ze=y,no.transition=_}}function du(r,o,l,f){if(Ri){var y=fu(r,o,l,f);if(y===null)Pu(r,o,f,$i,l),ym(r,f);else if($w(y,r,o,l,f))f.stopPropagation();else if(ym(r,f),o&4&&-1<Rw.indexOf(r)){for(;y!==null;){var _=ys(y);if(_!==null&&pm(_),_=fu(r,o,l,f),_===null&&Pu(r,o,f,$i,l),_===y)break;y=_}y!==null&&f.stopPropagation()}else Pu(r,o,f,null,l)}}var $i=null;function fu(r,o,l,f){if($i=null,r=eu(f),r=jn(r),r!==null)if(o=Nn(r),o===null)r=null;else if(l=o.tag,l===13){if(r=nm(o),r!==null)return r;r=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return $i=r,null}function wm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bw()){case su:return 1;case cm:return 4;case _i:case Cw:return 16;case um:return 536870912;default:return 16}default:return 16}}var Jr=null,pu=null,Ti=null;function bm(){if(Ti)return Ti;var r,o=pu,l=o.length,f,y="value"in Jr?Jr.value:Jr.textContent,_=y.length;for(r=0;r<l&&o[r]===y[r];r++);var T=l-r;for(f=1;f<=T&&o[l-f]===y[_-f];f++);return Ti=y.slice(r,1<f?1-f:void 0)}function Oi(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Mi(){return!0}function Cm(){return!1}function Ot(r){function o(l,f,y,_,T){this._reactName=l,this._targetInst=y,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Mi:Cm,this.isPropagationStopped=Cm,this}return B(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),o}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=Ot(oo),is=B({},oo,{view:0,detail:0}),Aw=Ot(is),hu,gu,as,Ai=B({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==as&&(as&&r.type==="mousemove"?(hu=r.screenX-as.screenX,gu=r.screenY-as.screenY):gu=hu=0,as=r),hu)},movementY:function(r){return"movementY"in r?r.movementY:gu}}),_m=Ot(Ai),Iw=B({},Ai,{dataTransfer:0}),Dw=Ot(Iw),Lw=B({},is,{relatedTarget:0}),yu=Ot(Lw),Fw=B({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),zw=Ot(Fw),Vw=B({},oo,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Uw=Ot(Vw),Hw=B({},oo,{data:0}),Sm=Ot(Hw),qw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ww={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gw(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Ww[r])?!!o[r]:!1}function vu(){return Gw}var Kw=B({},is,{key:function(r){if(r.key){var o=qw[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Oi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Bw[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(r){return r.type==="keypress"?Oi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Oi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Zw=Ot(Kw),Yw=B({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nm=Ot(Yw),Jw=B({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),Xw=Ot(Jw),Qw=B({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),eb=Ot(Qw),tb=B({},Ai,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=Ot(tb),nb=[9,13,27,32],xu=d&&"CompositionEvent"in window,ls=null;d&&"documentMode"in document&&(ls=document.documentMode);var ob=d&&"TextEvent"in window&&!ls,jm=d&&(!xu||ls&&8<ls&&11>=ls),Em=" ",km=!1;function Pm(r,o){switch(r){case"keyup":return nb.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var so=!1;function sb(r,o){switch(r){case"compositionend":return Rm(o);case"keypress":return o.which!==32?null:(km=!0,Em);case"textInput":return r=o.data,r===Em&&km?null:r;default:return null}}function ib(r,o){if(so)return r==="compositionend"||!xu&&Pm(r,o)?(r=bm(),Ti=pu=Jr=null,so=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return jm&&o.locale!=="ko"?null:o.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!ab[r.type]:o==="textarea"}function Tm(r,o,l,f){Xp(f),o=zi(o,"onChange"),0<o.length&&(l=new mu("onChange","change",null,l,f),r.push({event:l,listeners:o}))}var cs=null,us=null;function lb(r){Ym(r,0)}function Ii(r){var o=uo(r);if(W(o))return r}function cb(r,o){if(r==="change")return o}var Om=!1;if(d){var wu;if(d){var bu="oninput"in document;if(!bu){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),bu=typeof Mm.oninput=="function"}wu=bu}else wu=!1;Om=wu&&(!document.documentMode||9<document.documentMode)}function Am(){cs&&(cs.detachEvent("onpropertychange",Im),us=cs=null)}function Im(r){if(r.propertyName==="value"&&Ii(us)){var o=[];Tm(o,us,r,eu(r)),rm(lb,o)}}function ub(r,o,l){r==="focusin"?(Am(),cs=o,us=l,cs.attachEvent("onpropertychange",Im)):r==="focusout"&&Am()}function db(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ii(us)}function fb(r,o){if(r==="click")return Ii(o)}function pb(r,o){if(r==="input"||r==="change")return Ii(o)}function mb(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Qt=typeof Object.is=="function"?Object.is:mb;function ds(r,o){if(Qt(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var l=Object.keys(r),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var y=l[f];if(!p.call(o,y)||!Qt(r[y],o[y]))return!1}return!0}function Dm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lm(r,o){var l=Dm(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=o&&f>=o)return{node:l,offset:o-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dm(l)}}function Fm(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Fm(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function zm(){for(var r=window,o=oe();o instanceof r.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)r=o.contentWindow;else break;o=oe(r.document)}return o}function Cu(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function hb(r){var o=zm(),l=r.focusedElem,f=r.selectionRange;if(o!==l&&l&&l.ownerDocument&&Fm(l.ownerDocument.documentElement,l)){if(f!==null&&Cu(l)){if(o=f.start,r=f.end,r===void 0&&(r=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(r,l.value.length);else if(r=(o=l.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var y=l.textContent.length,_=Math.min(f.start,y);f=f.end===void 0?_:Math.min(f.end,y),!r.extend&&_>f&&(y=f,f=_,_=y),y=Lm(l,_);var T=Lm(l,f);y&&T&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),r.removeAllRanges(),_>f?(r.addRange(o),r.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),r.addRange(o)))}}for(o=[],r=l;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)r=o[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var gb=d&&"documentMode"in document&&11>=document.documentMode,io=null,_u=null,fs=null,Su=!1;function Vm(r,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Su||io==null||io!==oe(f)||(f=io,"selectionStart"in f&&Cu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),fs&&ds(fs,f)||(fs=f,f=zi(_u,"onSelect"),0<f.length&&(o=new mu("onSelect","select",null,o,l),r.push({event:o,listeners:f}),o.target=io)))}function Di(r,o){var l={};return l[r.toLowerCase()]=o.toLowerCase(),l["Webkit"+r]="webkit"+o,l["Moz"+r]="moz"+o,l}var ao={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionend:Di("Transition","TransitionEnd")},Nu={},Um={};d&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Li(r){if(Nu[r])return Nu[r];if(!ao[r])return r;var o=ao[r],l;for(l in o)if(o.hasOwnProperty(l)&&l in Um)return Nu[r]=o[l];return r}var Hm=Li("animationend"),qm=Li("animationiteration"),Bm=Li("animationstart"),Wm=Li("transitionend"),Gm=new Map,Km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(r,o){Gm.set(r,o),a(o,[r])}for(var ju=0;ju<Km.length;ju++){var Eu=Km[ju],yb=Eu.toLowerCase(),vb=Eu[0].toUpperCase()+Eu.slice(1);Xr(yb,"on"+vb)}Xr(Hm,"onAnimationEnd"),Xr(qm,"onAnimationIteration"),Xr(Bm,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(Wm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function Zm(r,o,l){var f=r.type||"unknown-event";r.currentTarget=l,yw(f,o,void 0,r),r.currentTarget=null}function Ym(r,o){o=(o&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],y=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var T=f.length-1;0<=T;T--){var D=f[T],z=D.instance,Q=D.currentTarget;if(D=D.listener,z!==_&&y.isPropagationStopped())break e;Zm(y,D,Q),_=z}else for(T=0;T<f.length;T++){if(D=f[T],z=D.instance,Q=D.currentTarget,D=D.listener,z!==_&&y.isPropagationStopped())break e;Zm(y,D,Q),_=z}}}if(Ci)throw r=ou,Ci=!1,ou=null,r}function Be(r,o){var l=o[Au];l===void 0&&(l=o[Au]=new Set);var f=r+"__bubble";l.has(f)||(Jm(o,r,2,!1),l.add(f))}function ku(r,o,l){var f=0;o&&(f|=4),Jm(l,r,f,o)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function ms(r){if(!r[Fi]){r[Fi]=!0,s.forEach(function(l){l!=="selectionchange"&&(xb.has(l)||ku(l,!1,r),ku(l,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Fi]||(o[Fi]=!0,ku("selectionchange",!1,o))}}function Jm(r,o,l,f){switch(wm(o)){case 1:var y=Ow;break;case 4:y=Mw;break;default:y=du}l=y.bind(null,o,l,r),y=void 0,!nu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(o,l,{capture:!0,passive:y}):r.addEventListener(o,l,!0):y!==void 0?r.addEventListener(o,l,{passive:y}):r.addEventListener(o,l,!1)}function Pu(r,o,l,f,y){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var D=f.stateNode.containerInfo;if(D===y||D.nodeType===8&&D.parentNode===y)break;if(T===4)for(T=f.return;T!==null;){var z=T.tag;if((z===3||z===4)&&(z=T.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;T=T.return}for(;D!==null;){if(T=jn(D),T===null)return;if(z=T.tag,z===5||z===6){f=_=T;continue e}D=D.parentNode}}f=f.return}rm(function(){var Q=_,ue=eu(l),fe=[];e:{var ce=Gm.get(r);if(ce!==void 0){var ye=mu,we=r;switch(r){case"keypress":if(Oi(l)===0)break e;case"keydown":case"keyup":ye=Zw;break;case"focusin":we="focus",ye=yu;break;case"focusout":we="blur",ye=yu;break;case"beforeblur":case"afterblur":ye=yu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=_m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Dw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Xw;break;case Hm:case qm:case Bm:ye=zw;break;case Wm:ye=eb;break;case"scroll":ye=Aw;break;case"wheel":ye=rb;break;case"copy":case"cut":case"paste":ye=Uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Nm}var Ce=(o&4)!==0,et=!Ce&&r==="scroll",Y=Ce?ce!==null?ce+"Capture":null:ce;Ce=[];for(var q=Q,J;q!==null;){J=q;var me=J.stateNode;if(J.tag===5&&me!==null&&(J=me,Y!==null&&(me=Yo(q,Y),me!=null&&Ce.push(hs(q,me,J)))),et)break;q=q.return}0<Ce.length&&(ce=new ye(ce,we,null,l,ue),fe.push({event:ce,listeners:Ce}))}}if((o&7)===0){e:{if(ce=r==="mouseover"||r==="pointerover",ye=r==="mouseout"||r==="pointerout",ce&&l!==Qc&&(we=l.relatedTarget||l.fromElement)&&(jn(we)||we[Pr]))break e;if((ye||ce)&&(ce=ue.window===ue?ue:(ce=ue.ownerDocument)?ce.defaultView||ce.parentWindow:window,ye?(we=l.relatedTarget||l.toElement,ye=Q,we=we?jn(we):null,we!==null&&(et=Nn(we),we!==et||we.tag!==5&&we.tag!==6)&&(we=null)):(ye=null,we=Q),ye!==we)){if(Ce=_m,me="onMouseLeave",Y="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=Nm,me="onPointerLeave",Y="onPointerEnter",q="pointer"),et=ye==null?ce:uo(ye),J=we==null?ce:uo(we),ce=new Ce(me,q+"leave",ye,l,ue),ce.target=et,ce.relatedTarget=J,me=null,jn(ue)===Q&&(Ce=new Ce(Y,q+"enter",we,l,ue),Ce.target=J,Ce.relatedTarget=et,me=Ce),et=me,ye&&we)t:{for(Ce=ye,Y=we,q=0,J=Ce;J;J=lo(J))q++;for(J=0,me=Y;me;me=lo(me))J++;for(;0<q-J;)Ce=lo(Ce),q--;for(;0<J-q;)Y=lo(Y),J--;for(;q--;){if(Ce===Y||Y!==null&&Ce===Y.alternate)break t;Ce=lo(Ce),Y=lo(Y)}Ce=null}else Ce=null;ye!==null&&Xm(fe,ce,ye,Ce,!1),we!==null&&et!==null&&Xm(fe,et,we,Ce,!0)}}e:{if(ce=Q?uo(Q):window,ye=ce.nodeName&&ce.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ce.type==="file")var _e=cb;else if($m(ce))if(Om)_e=pb;else{_e=db;var Se=ub}else(ye=ce.nodeName)&&ye.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(_e=fb);if(_e&&(_e=_e(r,Q))){Tm(fe,_e,l,ue);break e}Se&&Se(r,ce,Q),r==="focusout"&&(Se=ce._wrapperState)&&Se.controlled&&ce.type==="number"&&Ze(ce,"number",ce.value)}switch(Se=Q?uo(Q):window,r){case"focusin":($m(Se)||Se.contentEditable==="true")&&(io=Se,_u=Q,fs=null);break;case"focusout":fs=_u=io=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Vm(fe,l,ue);break;case"selectionchange":if(gb)break;case"keydown":case"keyup":Vm(fe,l,ue)}var Ne;if(xu)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else so?Pm(r,l)&&(Ee="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(jm&&l.locale!=="ko"&&(so||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&so&&(Ne=bm()):(Jr=ue,pu="value"in Jr?Jr.value:Jr.textContent,so=!0)),Se=zi(Q,Ee),0<Se.length&&(Ee=new Sm(Ee,r,null,l,ue),fe.push({event:Ee,listeners:Se}),Ne?Ee.data=Ne:(Ne=Rm(l),Ne!==null&&(Ee.data=Ne)))),(Ne=ob?sb(r,l):ib(r,l))&&(Q=zi(Q,"onBeforeInput"),0<Q.length&&(ue=new Sm("onBeforeInput","beforeinput",null,l,ue),fe.push({event:ue,listeners:Q}),ue.data=Ne))}Ym(fe,o)})}function hs(r,o,l){return{instance:r,listener:o,currentTarget:l}}function zi(r,o){for(var l=o+"Capture",f=[];r!==null;){var y=r,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=Yo(r,l),_!=null&&f.unshift(hs(r,_,y)),_=Yo(r,o),_!=null&&f.push(hs(r,_,y))),r=r.return}return f}function lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Xm(r,o,l,f,y){for(var _=o._reactName,T=[];l!==null&&l!==f;){var D=l,z=D.alternate,Q=D.stateNode;if(z!==null&&z===f)break;D.tag===5&&Q!==null&&(D=Q,y?(z=Yo(l,_),z!=null&&T.unshift(hs(l,z,D))):y||(z=Yo(l,_),z!=null&&T.push(hs(l,z,D)))),l=l.return}T.length!==0&&r.push({event:o,listeners:T})}var wb=/\r\n?/g,bb=/\u0000|\uFFFD/g;function Qm(r){return(typeof r=="string"?r:""+r).replace(wb,`
`).replace(bb,"")}function Vi(r,o,l){if(o=Qm(o),Qm(r)!==o&&l)throw Error(n(425))}function Ui(){}var Ru=null,$u=null;function Tu(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,Cb=typeof clearTimeout=="function"?clearTimeout:void 0,eh=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof eh<"u"?function(r){return eh.resolve(null).then(r).catch(Sb)}:Ou;function Sb(r){setTimeout(function(){throw r})}function Mu(r,o){var l=o,f=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(f===0){r.removeChild(y),ss(o);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=y}while(l);ss(o)}function Qr(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function th(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return r;o--}else l==="/$"&&o++}r=r.previousSibling}return null}var co=Math.random().toString(36).slice(2),yr="__reactFiber$"+co,gs="__reactProps$"+co,Pr="__reactContainer$"+co,Au="__reactEvents$"+co,Nb="__reactListeners$"+co,jb="__reactHandles$"+co;function jn(r){var o=r[yr];if(o)return o;for(var l=r.parentNode;l;){if(o=l[Pr]||l[yr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(r=th(r);r!==null;){if(l=r[yr])return l;r=th(r)}return o}r=l,l=r.parentNode}return null}function ys(r){return r=r[yr]||r[Pr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function uo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Hi(r){return r[gs]||null}var Iu=[],fo=-1;function en(r){return{current:r}}function We(r){0>fo||(r.current=Iu[fo],Iu[fo]=null,fo--)}function He(r,o){fo++,Iu[fo]=r.current,r.current=o}var tn={},gt=en(tn),jt=en(!1),En=tn;function po(r,o){var l=r.type.contextTypes;if(!l)return tn;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in l)y[_]=o[_];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=y),y}function Et(r){return r=r.childContextTypes,r!=null}function qi(){We(jt),We(gt)}function rh(r,o,l){if(gt.current!==tn)throw Error(n(168));He(gt,o),He(jt,l)}function nh(r,o,l){var f=r.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var y in f)if(!(y in o))throw Error(n(108,ee(r)||"Unknown",y));return B({},l,f)}function Bi(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||tn,En=gt.current,He(gt,r),He(jt,jt.current),!0}function oh(r,o,l){var f=r.stateNode;if(!f)throw Error(n(169));l?(r=nh(r,o,En),f.__reactInternalMemoizedMergedChildContext=r,We(jt),We(gt),He(gt,r)):We(jt),He(jt,l)}var Rr=null,Wi=!1,Du=!1;function sh(r){Rr===null?Rr=[r]:Rr.push(r)}function Eb(r){Wi=!0,sh(r)}function rn(){if(!Du&&Rr!==null){Du=!0;var r=0,o=ze;try{var l=Rr;for(ze=1;r<l.length;r++){var f=l[r];do f=f(!0);while(f!==null)}Rr=null,Wi=!1}catch(y){throw Rr!==null&&(Rr=Rr.slice(r+1)),am(su,rn),y}finally{ze=o,Du=!1}}return null}var mo=[],ho=0,Gi=null,Ki=0,Ht=[],qt=0,kn=null,$r=1,Tr="";function Pn(r,o){mo[ho++]=Ki,mo[ho++]=Gi,Gi=r,Ki=o}function ih(r,o,l){Ht[qt++]=$r,Ht[qt++]=Tr,Ht[qt++]=kn,kn=r;var f=$r;r=Tr;var y=32-Xt(f)-1;f&=~(1<<y),l+=1;var _=32-Xt(o)+y;if(30<_){var T=y-y%5;_=(f&(1<<T)-1).toString(32),f>>=T,y-=T,$r=1<<32-Xt(o)+y|l<<y|f,Tr=_+r}else $r=1<<_|l<<y|f,Tr=r}function Lu(r){r.return!==null&&(Pn(r,1),ih(r,1,0))}function Fu(r){for(;r===Gi;)Gi=mo[--ho],mo[ho]=null,Ki=mo[--ho],mo[ho]=null;for(;r===kn;)kn=Ht[--qt],Ht[qt]=null,Tr=Ht[--qt],Ht[qt]=null,$r=Ht[--qt],Ht[qt]=null}var Mt=null,At=null,Ke=!1,er=null;function ah(r,o){var l=Kt(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=r,o=r.deletions,o===null?(r.deletions=[l],r.flags|=16):o.push(l)}function lh(r,o){switch(r.tag){case 5:var l=r.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Mt=r,At=Qr(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Mt=r,At=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=kn!==null?{id:$r,overflow:Tr}:null,r.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Kt(18,null,null,0),l.stateNode=o,l.return=r,r.child=l,Mt=r,At=null,!0):!1;default:return!1}}function zu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Vu(r){if(Ke){var o=At;if(o){var l=o;if(!lh(r,o)){if(zu(r))throw Error(n(418));o=Qr(l.nextSibling);var f=Mt;o&&lh(r,o)?ah(f,l):(r.flags=r.flags&-4097|2,Ke=!1,Mt=r)}}else{if(zu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ke=!1,Mt=r}}}function ch(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Mt=r}function Zi(r){if(r!==Mt)return!1;if(!Ke)return ch(r),Ke=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!Tu(r.type,r.memoizedProps)),o&&(o=At)){if(zu(r))throw uh(),Error(n(418));for(;o;)ah(r,o),o=Qr(o.nextSibling)}if(ch(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(o===0){At=Qr(r.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}r=r.nextSibling}At=null}}else At=Mt?Qr(r.stateNode.nextSibling):null;return!0}function uh(){for(var r=At;r;)r=Qr(r.nextSibling)}function go(){At=Mt=null,Ke=!1}function Uu(r){er===null?er=[r]:er.push(r)}var kb=P.ReactCurrentBatchConfig;function vs(r,o,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var f=l.stateNode}if(!f)throw Error(n(147,r));var y=f,_=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(T){var D=y.refs;T===null?delete D[_]:D[_]=T},o._stringRef=_,o)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Yi(r,o){throw r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function dh(r){var o=r._init;return o(r._payload)}function fh(r){function o(Y,q){if(r){var J=Y.deletions;J===null?(Y.deletions=[q],Y.flags|=16):J.push(q)}}function l(Y,q){if(!r)return null;for(;q!==null;)o(Y,q),q=q.sibling;return null}function f(Y,q){for(Y=new Map;q!==null;)q.key!==null?Y.set(q.key,q):Y.set(q.index,q),q=q.sibling;return Y}function y(Y,q){return Y=dn(Y,q),Y.index=0,Y.sibling=null,Y}function _(Y,q,J){return Y.index=J,r?(J=Y.alternate,J!==null?(J=J.index,J<q?(Y.flags|=2,q):J):(Y.flags|=2,q)):(Y.flags|=1048576,q)}function T(Y){return r&&Y.alternate===null&&(Y.flags|=2),Y}function D(Y,q,J,me){return q===null||q.tag!==6?(q=Od(J,Y.mode,me),q.return=Y,q):(q=y(q,J),q.return=Y,q)}function z(Y,q,J,me){var _e=J.type;return _e===$?ue(Y,q,J.props.children,me,J.key):q!==null&&(q.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===le&&dh(_e)===q.type)?(me=y(q,J.props),me.ref=vs(Y,q,J),me.return=Y,me):(me=wa(J.type,J.key,J.props,null,Y.mode,me),me.ref=vs(Y,q,J),me.return=Y,me)}function Q(Y,q,J,me){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Md(J,Y.mode,me),q.return=Y,q):(q=y(q,J.children||[]),q.return=Y,q)}function ue(Y,q,J,me,_e){return q===null||q.tag!==7?(q=Dn(J,Y.mode,me,_e),q.return=Y,q):(q=y(q,J),q.return=Y,q)}function fe(Y,q,J){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Od(""+q,Y.mode,J),q.return=Y,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case k:return J=wa(q.type,q.key,q.props,null,Y.mode,J),J.ref=vs(Y,null,q),J.return=Y,J;case R:return q=Md(q,Y.mode,J),q.return=Y,q;case le:var me=q._init;return fe(Y,me(q._payload),J)}if(tt(q)||X(q))return q=Dn(q,Y.mode,J,null),q.return=Y,q;Yi(Y,q)}return null}function ce(Y,q,J,me){var _e=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return _e!==null?null:D(Y,q,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return J.key===_e?z(Y,q,J,me):null;case R:return J.key===_e?Q(Y,q,J,me):null;case le:return _e=J._init,ce(Y,q,_e(J._payload),me)}if(tt(J)||X(J))return _e!==null?null:ue(Y,q,J,me,null);Yi(Y,J)}return null}function ye(Y,q,J,me,_e){if(typeof me=="string"&&me!==""||typeof me=="number")return Y=Y.get(J)||null,D(q,Y,""+me,_e);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case k:return Y=Y.get(me.key===null?J:me.key)||null,z(q,Y,me,_e);case R:return Y=Y.get(me.key===null?J:me.key)||null,Q(q,Y,me,_e);case le:var Se=me._init;return ye(Y,q,J,Se(me._payload),_e)}if(tt(me)||X(me))return Y=Y.get(J)||null,ue(q,Y,me,_e,null);Yi(q,me)}return null}function we(Y,q,J,me){for(var _e=null,Se=null,Ne=q,Ee=q=0,ct=null;Ne!==null&&Ee<J.length;Ee++){Ne.index>Ee?(ct=Ne,Ne=null):ct=Ne.sibling;var Ie=ce(Y,Ne,J[Ee],me);if(Ie===null){Ne===null&&(Ne=ct);break}r&&Ne&&Ie.alternate===null&&o(Y,Ne),q=_(Ie,q,Ee),Se===null?_e=Ie:Se.sibling=Ie,Se=Ie,Ne=ct}if(Ee===J.length)return l(Y,Ne),Ke&&Pn(Y,Ee),_e;if(Ne===null){for(;Ee<J.length;Ee++)Ne=fe(Y,J[Ee],me),Ne!==null&&(q=_(Ne,q,Ee),Se===null?_e=Ne:Se.sibling=Ne,Se=Ne);return Ke&&Pn(Y,Ee),_e}for(Ne=f(Y,Ne);Ee<J.length;Ee++)ct=ye(Ne,Y,Ee,J[Ee],me),ct!==null&&(r&&ct.alternate!==null&&Ne.delete(ct.key===null?Ee:ct.key),q=_(ct,q,Ee),Se===null?_e=ct:Se.sibling=ct,Se=ct);return r&&Ne.forEach(function(fn){return o(Y,fn)}),Ke&&Pn(Y,Ee),_e}function Ce(Y,q,J,me){var _e=X(J);if(typeof _e!="function")throw Error(n(150));if(J=_e.call(J),J==null)throw Error(n(151));for(var Se=_e=null,Ne=q,Ee=q=0,ct=null,Ie=J.next();Ne!==null&&!Ie.done;Ee++,Ie=J.next()){Ne.index>Ee?(ct=Ne,Ne=null):ct=Ne.sibling;var fn=ce(Y,Ne,Ie.value,me);if(fn===null){Ne===null&&(Ne=ct);break}r&&Ne&&fn.alternate===null&&o(Y,Ne),q=_(fn,q,Ee),Se===null?_e=fn:Se.sibling=fn,Se=fn,Ne=ct}if(Ie.done)return l(Y,Ne),Ke&&Pn(Y,Ee),_e;if(Ne===null){for(;!Ie.done;Ee++,Ie=J.next())Ie=fe(Y,Ie.value,me),Ie!==null&&(q=_(Ie,q,Ee),Se===null?_e=Ie:Se.sibling=Ie,Se=Ie);return Ke&&Pn(Y,Ee),_e}for(Ne=f(Y,Ne);!Ie.done;Ee++,Ie=J.next())Ie=ye(Ne,Y,Ee,Ie.value,me),Ie!==null&&(r&&Ie.alternate!==null&&Ne.delete(Ie.key===null?Ee:Ie.key),q=_(Ie,q,Ee),Se===null?_e=Ie:Se.sibling=Ie,Se=Ie);return r&&Ne.forEach(function(a5){return o(Y,a5)}),Ke&&Pn(Y,Ee),_e}function et(Y,q,J,me){if(typeof J=="object"&&J!==null&&J.type===$&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case k:e:{for(var _e=J.key,Se=q;Se!==null;){if(Se.key===_e){if(_e=J.type,_e===$){if(Se.tag===7){l(Y,Se.sibling),q=y(Se,J.props.children),q.return=Y,Y=q;break e}}else if(Se.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===le&&dh(_e)===Se.type){l(Y,Se.sibling),q=y(Se,J.props),q.ref=vs(Y,Se,J),q.return=Y,Y=q;break e}l(Y,Se);break}else o(Y,Se);Se=Se.sibling}J.type===$?(q=Dn(J.props.children,Y.mode,me,J.key),q.return=Y,Y=q):(me=wa(J.type,J.key,J.props,null,Y.mode,me),me.ref=vs(Y,q,J),me.return=Y,Y=me)}return T(Y);case R:e:{for(Se=J.key;q!==null;){if(q.key===Se)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){l(Y,q.sibling),q=y(q,J.children||[]),q.return=Y,Y=q;break e}else{l(Y,q);break}else o(Y,q);q=q.sibling}q=Md(J,Y.mode,me),q.return=Y,Y=q}return T(Y);case le:return Se=J._init,et(Y,q,Se(J._payload),me)}if(tt(J))return we(Y,q,J,me);if(X(J))return Ce(Y,q,J,me);Yi(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,q!==null&&q.tag===6?(l(Y,q.sibling),q=y(q,J),q.return=Y,Y=q):(l(Y,q),q=Od(J,Y.mode,me),q.return=Y,Y=q),T(Y)):l(Y,q)}return et}var yo=fh(!0),ph=fh(!1),Ji=en(null),Xi=null,vo=null,Hu=null;function qu(){Hu=vo=Xi=null}function Bu(r){var o=Ji.current;We(Ji),r._currentValue=o}function Wu(r,o,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===l)break;r=r.return}}function xo(r,o){Xi=r,Hu=vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(kt=!0),r.firstContext=null)}function Bt(r){var o=r._currentValue;if(Hu!==r)if(r={context:r,memoizedValue:o,next:null},vo===null){if(Xi===null)throw Error(n(308));vo=r,Xi.dependencies={lanes:0,firstContext:r}}else vo=vo.next=r;return o}var Rn=null;function Gu(r){Rn===null?Rn=[r]:Rn.push(r)}function mh(r,o,l,f){var y=o.interleaved;return y===null?(l.next=l,Gu(o)):(l.next=y.next,y.next=l),o.interleaved=l,Or(r,f)}function Or(r,o){r.lanes|=o;var l=r.alternate;for(l!==null&&(l.lanes|=o),l=r,r=r.return;r!==null;)r.childLanes|=o,l=r.alternate,l!==null&&(l.childLanes|=o),l=r,r=r.return;return l.tag===3?l.stateNode:null}var nn=!1;function Ku(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hh(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mr(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function on(r,o,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ae&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,Or(r,l)}return y=f.interleaved,y===null?(o.next=o,Gu(f)):(o.next=y.next,y.next=o),f.interleaved=o,Or(r,l)}function Qi(r,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var f=o.lanes;f&=r.pendingLanes,l|=f,o.lanes=l,lu(r,l)}}function gh(r,o){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var y=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?y=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?y=_=o:_=_.next=o}else y=_=o;l={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:f.shared,effects:f.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=o:r.next=o,l.lastBaseUpdate=o}function ea(r,o,l,f){var y=r.updateQueue;nn=!1;var _=y.firstBaseUpdate,T=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var z=D,Q=z.next;z.next=null,T===null?_=Q:T.next=Q,T=z;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,D=ue.lastBaseUpdate,D!==T&&(D===null?ue.firstBaseUpdate=Q:D.next=Q,ue.lastBaseUpdate=z))}if(_!==null){var fe=y.baseState;T=0,ue=Q=z=null,D=_;do{var ce=D.lane,ye=D.eventTime;if((f&ce)===ce){ue!==null&&(ue=ue.next={eventTime:ye,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var we=r,Ce=D;switch(ce=o,ye=l,Ce.tag){case 1:if(we=Ce.payload,typeof we=="function"){fe=we.call(ye,fe,ce);break e}fe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ce.payload,ce=typeof we=="function"?we.call(ye,fe,ce):we,ce==null)break e;fe=B({},fe,ce);break e;case 2:nn=!0}}D.callback!==null&&D.lane!==0&&(r.flags|=64,ce=y.effects,ce===null?y.effects=[D]:ce.push(D))}else ye={eventTime:ye,lane:ce,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ue===null?(Q=ue=ye,z=fe):ue=ue.next=ye,T|=ce;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;ce=D,D=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);if(ue===null&&(z=fe),y.baseState=z,y.firstBaseUpdate=Q,y.lastBaseUpdate=ue,o=y.shared.interleaved,o!==null){y=o;do T|=y.lane,y=y.next;while(y!==o)}else _===null&&(y.shared.lanes=0);On|=T,r.lanes=T,r.memoizedState=fe}}function yh(r,o,l){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var f=r[o],y=f.callback;if(y!==null){if(f.callback=null,f=l,typeof y!="function")throw Error(n(191,y));y.call(f)}}}var xs={},vr=en(xs),ws=en(xs),bs=en(xs);function $n(r){if(r===xs)throw Error(n(174));return r}function Zu(r,o){switch(He(bs,o),He(ws,r),He(vr,xs),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Cn(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=Cn(o,r)}We(vr),He(vr,o)}function wo(){We(vr),We(ws),We(bs)}function vh(r){$n(bs.current);var o=$n(vr.current),l=Cn(o,r.type);o!==l&&(He(ws,r),He(vr,l))}function Yu(r){ws.current===r&&(We(vr),We(ws))}var Ye=en(0);function ta(r){for(var o=r;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ju=[];function Xu(){for(var r=0;r<Ju.length;r++)Ju[r]._workInProgressVersionPrimary=null;Ju.length=0}var ra=P.ReactCurrentDispatcher,Qu=P.ReactCurrentBatchConfig,Tn=0,Je=null,st=null,at=null,na=!1,Cs=!1,_s=0,Pb=0;function yt(){throw Error(n(321))}function ed(r,o){if(o===null)return!1;for(var l=0;l<o.length&&l<r.length;l++)if(!Qt(r[l],o[l]))return!1;return!0}function td(r,o,l,f,y,_){if(Tn=_,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ra.current=r===null||r.memoizedState===null?Ob:Mb,r=l(f,y),Cs){_=0;do{if(Cs=!1,_s=0,25<=_)throw Error(n(301));_+=1,at=st=null,o.updateQueue=null,ra.current=Ab,r=l(f,y)}while(Cs)}if(ra.current=ia,o=st!==null&&st.next!==null,Tn=0,at=st=Je=null,na=!1,o)throw Error(n(300));return r}function rd(){var r=_s!==0;return _s=0,r}function xr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Je.memoizedState=at=r:at=at.next=r,at}function Wt(){if(st===null){var r=Je.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var o=at===null?Je.memoizedState:at.next;if(o!==null)at=o,st=r;else{if(r===null)throw Error(n(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},at===null?Je.memoizedState=at=r:at=at.next=r}return at}function Ss(r,o){return typeof o=="function"?o(r):o}function nd(r){var o=Wt(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=st,y=f.baseQueue,_=l.pending;if(_!==null){if(y!==null){var T=y.next;y.next=_.next,_.next=T}f.baseQueue=y=_,l.pending=null}if(y!==null){_=y.next,f=f.baseState;var D=T=null,z=null,Q=_;do{var ue=Q.lane;if((Tn&ue)===ue)z!==null&&(z=z.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),f=Q.hasEagerState?Q.eagerState:r(f,Q.action);else{var fe={lane:ue,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};z===null?(D=z=fe,T=f):z=z.next=fe,Je.lanes|=ue,On|=ue}Q=Q.next}while(Q!==null&&Q!==_);z===null?T=f:z.next=D,Qt(f,o.memoizedState)||(kt=!0),o.memoizedState=f,o.baseState=T,o.baseQueue=z,l.lastRenderedState=f}if(r=l.interleaved,r!==null){y=r;do _=y.lane,Je.lanes|=_,On|=_,y=y.next;while(y!==r)}else y===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function od(r){var o=Wt(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=l.dispatch,y=l.pending,_=o.memoizedState;if(y!==null){l.pending=null;var T=y=y.next;do _=r(_,T.action),T=T.next;while(T!==y);Qt(_,o.memoizedState)||(kt=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),l.lastRenderedState=_}return[_,f]}function xh(){}function wh(r,o){var l=Je,f=Wt(),y=o(),_=!Qt(f.memoizedState,y);if(_&&(f.memoizedState=y,kt=!0),f=f.queue,sd(_h.bind(null,l,f,r),[r]),f.getSnapshot!==o||_||at!==null&&at.memoizedState.tag&1){if(l.flags|=2048,Ns(9,Ch.bind(null,l,f,y,o),void 0,null),lt===null)throw Error(n(349));(Tn&30)!==0||bh(l,o,y)}return y}function bh(r,o,l){r.flags|=16384,r={getSnapshot:o,value:l},o=Je.updateQueue,o===null?(o={lastEffect:null,stores:null},Je.updateQueue=o,o.stores=[r]):(l=o.stores,l===null?o.stores=[r]:l.push(r))}function Ch(r,o,l,f){o.value=l,o.getSnapshot=f,Sh(o)&&Nh(r)}function _h(r,o,l){return l(function(){Sh(o)&&Nh(r)})}function Sh(r){var o=r.getSnapshot;r=r.value;try{var l=o();return!Qt(r,l)}catch{return!0}}function Nh(r){var o=Or(r,1);o!==null&&or(o,r,1,-1)}function jh(r){var o=xr();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:r},o.queue=r,r=r.dispatch=Tb.bind(null,Je,r),[o.memoizedState,r]}function Ns(r,o,l,f){return r={tag:r,create:o,destroy:l,deps:f,next:null},o=Je.updateQueue,o===null?(o={lastEffect:null,stores:null},Je.updateQueue=o,o.lastEffect=r.next=r):(l=o.lastEffect,l===null?o.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,o.lastEffect=r)),r}function Eh(){return Wt().memoizedState}function oa(r,o,l,f){var y=xr();Je.flags|=r,y.memoizedState=Ns(1|o,l,void 0,f===void 0?null:f)}function sa(r,o,l,f){var y=Wt();f=f===void 0?null:f;var _=void 0;if(st!==null){var T=st.memoizedState;if(_=T.destroy,f!==null&&ed(f,T.deps)){y.memoizedState=Ns(o,l,_,f);return}}Je.flags|=r,y.memoizedState=Ns(1|o,l,_,f)}function kh(r,o){return oa(8390656,8,r,o)}function sd(r,o){return sa(2048,8,r,o)}function Ph(r,o){return sa(4,2,r,o)}function Rh(r,o){return sa(4,4,r,o)}function $h(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Th(r,o,l){return l=l!=null?l.concat([r]):null,sa(4,4,$h.bind(null,o,r),l)}function id(){}function Oh(r,o){var l=Wt();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&ed(o,f[1])?f[0]:(l.memoizedState=[r,o],r)}function Mh(r,o){var l=Wt();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&ed(o,f[1])?f[0]:(r=r(),l.memoizedState=[r,o],r)}function Ah(r,o,l){return(Tn&21)===0?(r.baseState&&(r.baseState=!1,kt=!0),r.memoizedState=l):(Qt(l,o)||(l=dm(),Je.lanes|=l,On|=l,r.baseState=!0),o)}function Rb(r,o){var l=ze;ze=l!==0&&4>l?l:4,r(!0);var f=Qu.transition;Qu.transition={};try{r(!1),o()}finally{ze=l,Qu.transition=f}}function Ih(){return Wt().memoizedState}function $b(r,o,l){var f=cn(r);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Dh(r))Lh(o,l);else if(l=mh(r,o,l,f),l!==null){var y=Ct();or(l,r,f,y),Fh(l,o,f)}}function Tb(r,o,l){var f=cn(r),y={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Dh(r))Lh(o,y);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var T=o.lastRenderedState,D=_(T,l);if(y.hasEagerState=!0,y.eagerState=D,Qt(D,T)){var z=o.interleaved;z===null?(y.next=y,Gu(o)):(y.next=z.next,z.next=y),o.interleaved=y;return}}catch{}finally{}l=mh(r,o,y,f),l!==null&&(y=Ct(),or(l,r,f,y),Fh(l,o,f))}}function Dh(r){var o=r.alternate;return r===Je||o!==null&&o===Je}function Lh(r,o){Cs=na=!0;var l=r.pending;l===null?o.next=o:(o.next=l.next,l.next=o),r.pending=o}function Fh(r,o,l){if((l&4194240)!==0){var f=o.lanes;f&=r.pendingLanes,l|=f,o.lanes=l,lu(r,l)}}var ia={readContext:Bt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Ob={readContext:Bt,useCallback:function(r,o){return xr().memoizedState=[r,o===void 0?null:o],r},useContext:Bt,useEffect:kh,useImperativeHandle:function(r,o,l){return l=l!=null?l.concat([r]):null,oa(4194308,4,$h.bind(null,o,r),l)},useLayoutEffect:function(r,o){return oa(4194308,4,r,o)},useInsertionEffect:function(r,o){return oa(4,2,r,o)},useMemo:function(r,o){var l=xr();return o=o===void 0?null:o,r=r(),l.memoizedState=[r,o],r},useReducer:function(r,o,l){var f=xr();return o=l!==void 0?l(o):o,f.memoizedState=f.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},f.queue=r,r=r.dispatch=$b.bind(null,Je,r),[f.memoizedState,r]},useRef:function(r){var o=xr();return r={current:r},o.memoizedState=r},useState:jh,useDebugValue:id,useDeferredValue:function(r){return xr().memoizedState=r},useTransition:function(){var r=jh(!1),o=r[0];return r=Rb.bind(null,r[1]),xr().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,l){var f=Je,y=xr();if(Ke){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),lt===null)throw Error(n(349));(Tn&30)!==0||bh(f,o,l)}y.memoizedState=l;var _={value:l,getSnapshot:o};return y.queue=_,kh(_h.bind(null,f,_,r),[r]),f.flags|=2048,Ns(9,Ch.bind(null,f,_,l,o),void 0,null),l},useId:function(){var r=xr(),o=lt.identifierPrefix;if(Ke){var l=Tr,f=$r;l=(f&~(1<<32-Xt(f)-1)).toString(32)+l,o=":"+o+"R"+l,l=_s++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Pb++,o=":"+o+"r"+l.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},Mb={readContext:Bt,useCallback:Oh,useContext:Bt,useEffect:sd,useImperativeHandle:Th,useInsertionEffect:Ph,useLayoutEffect:Rh,useMemo:Mh,useReducer:nd,useRef:Eh,useState:function(){return nd(Ss)},useDebugValue:id,useDeferredValue:function(r){var o=Wt();return Ah(o,st.memoizedState,r)},useTransition:function(){var r=nd(Ss)[0],o=Wt().memoizedState;return[r,o]},useMutableSource:xh,useSyncExternalStore:wh,useId:Ih,unstable_isNewReconciler:!1},Ab={readContext:Bt,useCallback:Oh,useContext:Bt,useEffect:sd,useImperativeHandle:Th,useInsertionEffect:Ph,useLayoutEffect:Rh,useMemo:Mh,useReducer:od,useRef:Eh,useState:function(){return od(Ss)},useDebugValue:id,useDeferredValue:function(r){var o=Wt();return st===null?o.memoizedState=r:Ah(o,st.memoizedState,r)},useTransition:function(){var r=od(Ss)[0],o=Wt().memoizedState;return[r,o]},useMutableSource:xh,useSyncExternalStore:wh,useId:Ih,unstable_isNewReconciler:!1};function tr(r,o){if(r&&r.defaultProps){o=B({},o),r=r.defaultProps;for(var l in r)o[l]===void 0&&(o[l]=r[l]);return o}return o}function ad(r,o,l,f){o=r.memoizedState,l=l(f,o),l=l==null?o:B({},o,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var aa={isMounted:function(r){return(r=r._reactInternals)?Nn(r)===r:!1},enqueueSetState:function(r,o,l){r=r._reactInternals;var f=Ct(),y=cn(r),_=Mr(f,y);_.payload=o,l!=null&&(_.callback=l),o=on(r,_,y),o!==null&&(or(o,r,y,f),Qi(o,r,y))},enqueueReplaceState:function(r,o,l){r=r._reactInternals;var f=Ct(),y=cn(r),_=Mr(f,y);_.tag=1,_.payload=o,l!=null&&(_.callback=l),o=on(r,_,y),o!==null&&(or(o,r,y,f),Qi(o,r,y))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var l=Ct(),f=cn(r),y=Mr(l,f);y.tag=2,o!=null&&(y.callback=o),o=on(r,y,f),o!==null&&(or(o,r,f,l),Qi(o,r,f))}};function zh(r,o,l,f,y,_,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,T):o.prototype&&o.prototype.isPureReactComponent?!ds(l,f)||!ds(y,_):!0}function Vh(r,o,l){var f=!1,y=tn,_=o.contextType;return typeof _=="object"&&_!==null?_=Bt(_):(y=Et(o)?En:gt.current,f=o.contextTypes,_=(f=f!=null)?po(r,y):tn),o=new o(l,_),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=aa,r.stateNode=o,o._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=_),o}function Uh(r,o,l,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==r&&aa.enqueueReplaceState(o,o.state,null)}function ld(r,o,l,f){var y=r.stateNode;y.props=l,y.state=r.memoizedState,y.refs={},Ku(r);var _=o.contextType;typeof _=="object"&&_!==null?y.context=Bt(_):(_=Et(o)?En:gt.current,y.context=po(r,_)),y.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(ad(r,o,_,l),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&aa.enqueueReplaceState(y,y.state,null),ea(r,l,y,f),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function bo(r,o){try{var l="",f=o;do l+=A(f),f=f.return;while(f);var y=l}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:r,source:o,stack:y,digest:null}}function cd(r,o,l){return{value:r,source:null,stack:l??null,digest:o??null}}function ud(r,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Ib=typeof WeakMap=="function"?WeakMap:Map;function Hh(r,o,l){l=Mr(-1,l),l.tag=3,l.payload={element:null};var f=o.value;return l.callback=function(){ma||(ma=!0,Nd=f),ud(r,o)},l}function qh(r,o,l){l=Mr(-1,l),l.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var y=o.value;l.payload=function(){return f(y)},l.callback=function(){ud(r,o)}}var _=r.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){ud(r,o),typeof f!="function"&&(an===null?an=new Set([this]):an.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Bh(r,o,l){var f=r.pingCache;if(f===null){f=r.pingCache=new Ib;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(l)||(y.add(l),r=Yb.bind(null,r,o,l),o.then(r,r))}function Wh(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function Gh(r,o,l,f,y){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Mr(-1,1),o.tag=2,on(l,o,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=y,r)}var Db=P.ReactCurrentOwner,kt=!1;function bt(r,o,l,f){o.child=r===null?ph(o,null,l,f):yo(o,r.child,l,f)}function Kh(r,o,l,f,y){l=l.render;var _=o.ref;return xo(o,y),f=td(r,o,l,f,_,y),l=rd(),r!==null&&!kt?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~y,Ar(r,o,y)):(Ke&&l&&Lu(o),o.flags|=1,bt(r,o,f,y),o.child)}function Zh(r,o,l,f,y){if(r===null){var _=l.type;return typeof _=="function"&&!Td(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=_,Yh(r,o,_,f,y)):(r=wa(l.type,null,f,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(_=r.child,(r.lanes&y)===0){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:ds,l(T,f)&&r.ref===o.ref)return Ar(r,o,y)}return o.flags|=1,r=dn(_,f),r.ref=o.ref,r.return=o,o.child=r}function Yh(r,o,l,f,y){if(r!==null){var _=r.memoizedProps;if(ds(_,f)&&r.ref===o.ref)if(kt=!1,o.pendingProps=f=_,(r.lanes&y)!==0)(r.flags&131072)!==0&&(kt=!0);else return o.lanes=r.lanes,Ar(r,o,y)}return dd(r,o,l,f,y)}function Jh(r,o,l){var f=o.pendingProps,y=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(_o,It),It|=l;else{if((l&1073741824)===0)return r=_!==null?_.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,He(_o,It),It|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:l,He(_o,It),It|=f}else _!==null?(f=_.baseLanes|l,o.memoizedState=null):f=l,He(_o,It),It|=f;return bt(r,o,y,l),o.child}function Xh(r,o){var l=o.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function dd(r,o,l,f,y){var _=Et(l)?En:gt.current;return _=po(o,_),xo(o,y),l=td(r,o,l,f,_,y),f=rd(),r!==null&&!kt?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~y,Ar(r,o,y)):(Ke&&f&&Lu(o),o.flags|=1,bt(r,o,l,y),o.child)}function Qh(r,o,l,f,y){if(Et(l)){var _=!0;Bi(o)}else _=!1;if(xo(o,y),o.stateNode===null)ca(r,o),Vh(o,l,f),ld(o,l,f,y),f=!0;else if(r===null){var T=o.stateNode,D=o.memoizedProps;T.props=D;var z=T.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Bt(Q):(Q=Et(l)?En:gt.current,Q=po(o,Q));var ue=l.getDerivedStateFromProps,fe=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function";fe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==f||z!==Q)&&Uh(o,T,f,Q),nn=!1;var ce=o.memoizedState;T.state=ce,ea(o,f,T,y),z=o.memoizedState,D!==f||ce!==z||jt.current||nn?(typeof ue=="function"&&(ad(o,l,ue,f),z=o.memoizedState),(D=nn||zh(o,l,D,f,ce,z,Q))?(fe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=z),T.props=f,T.state=z,T.context=Q,f=D):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,hh(r,o),D=o.memoizedProps,Q=o.type===o.elementType?D:tr(o.type,D),T.props=Q,fe=o.pendingProps,ce=T.context,z=l.contextType,typeof z=="object"&&z!==null?z=Bt(z):(z=Et(l)?En:gt.current,z=po(o,z));var ye=l.getDerivedStateFromProps;(ue=typeof ye=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==fe||ce!==z)&&Uh(o,T,f,z),nn=!1,ce=o.memoizedState,T.state=ce,ea(o,f,T,y);var we=o.memoizedState;D!==fe||ce!==we||jt.current||nn?(typeof ye=="function"&&(ad(o,l,ye,f),we=o.memoizedState),(Q=nn||zh(o,l,Q,f,ce,we,z)||!1)?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,we,z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,we,z)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===r.memoizedProps&&ce===r.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ce===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=we),T.props=f,T.state=we,T.context=z,f=Q):(typeof T.componentDidUpdate!="function"||D===r.memoizedProps&&ce===r.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ce===r.memoizedState||(o.flags|=1024),f=!1)}return fd(r,o,l,f,_,y)}function fd(r,o,l,f,y,_){Xh(r,o);var T=(o.flags&128)!==0;if(!f&&!T)return y&&oh(o,l,!1),Ar(r,o,_);f=o.stateNode,Db.current=o;var D=T&&typeof l.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,r!==null&&T?(o.child=yo(o,r.child,null,_),o.child=yo(o,null,D,_)):bt(r,o,D,_),o.memoizedState=f.state,y&&oh(o,l,!0),o.child}function eg(r){var o=r.stateNode;o.pendingContext?rh(r,o.pendingContext,o.pendingContext!==o.context):o.context&&rh(r,o.context,!1),Zu(r,o.containerInfo)}function tg(r,o,l,f,y){return go(),Uu(y),o.flags|=256,bt(r,o,l,f),o.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(r){return{baseLanes:r,cachePool:null,transitions:null}}function rg(r,o,l){var f=o.pendingProps,y=Ye.current,_=!1,T=(o.flags&128)!==0,D;if((D=T)||(D=r!==null&&r.memoizedState===null?!1:(y&2)!==0),D?(_=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),He(Ye,y&1),r===null)return Vu(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=f.children,r=f.fallback,_?(f=o.mode,_=o.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=ba(T,f,0,null),r=Dn(r,f,l,null),_.return=o,r.return=o,_.sibling=r,o.child=_,o.child.memoizedState=md(l),o.memoizedState=pd,r):hd(o,T));if(y=r.memoizedState,y!==null&&(D=y.dehydrated,D!==null))return Lb(r,o,T,f,D,y,l);if(_){_=f.fallback,T=o.mode,y=r.child,D=y.sibling;var z={mode:"hidden",children:f.children};return(T&1)===0&&o.child!==y?(f=o.child,f.childLanes=0,f.pendingProps=z,o.deletions=null):(f=dn(y,z),f.subtreeFlags=y.subtreeFlags&14680064),D!==null?_=dn(D,_):(_=Dn(_,T,l,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,T=r.child.memoizedState,T=T===null?md(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=r.childLanes&~l,o.memoizedState=pd,f}return _=r.child,r=_.sibling,f=dn(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=l),f.return=o,f.sibling=null,r!==null&&(l=o.deletions,l===null?(o.deletions=[r],o.flags|=16):l.push(r)),o.child=f,o.memoizedState=null,f}function hd(r,o){return o=ba({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function la(r,o,l,f){return f!==null&&Uu(f),yo(o,r.child,null,l),r=hd(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Lb(r,o,l,f,y,_,T){if(l)return o.flags&256?(o.flags&=-257,f=cd(Error(n(422))),la(r,o,T,f)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(_=f.fallback,y=o.mode,f=ba({mode:"visible",children:f.children},y,0,null),_=Dn(_,y,T,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&yo(o,r.child,null,T),o.child.memoizedState=md(T),o.memoizedState=pd,_);if((o.mode&1)===0)return la(r,o,T,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var D=f.dgst;return f=D,_=Error(n(419)),f=cd(_,f,void 0),la(r,o,T,f)}if(D=(T&r.childLanes)!==0,kt||D){if(f=lt,f!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|T))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,Or(r,y),or(f,r,y,-1))}return $d(),f=cd(Error(n(421))),la(r,o,T,f)}return y.data==="$?"?(o.flags|=128,o.child=r.child,o=Jb.bind(null,r),y._reactRetry=o,null):(r=_.treeContext,At=Qr(y.nextSibling),Mt=o,Ke=!0,er=null,r!==null&&(Ht[qt++]=$r,Ht[qt++]=Tr,Ht[qt++]=kn,$r=r.id,Tr=r.overflow,kn=o),o=hd(o,f.children),o.flags|=4096,o)}function ng(r,o,l){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),Wu(r.return,o,l)}function gd(r,o,l,f,y){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:y}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=l,_.tailMode=y)}function og(r,o,l){var f=o.pendingProps,y=f.revealOrder,_=f.tail;if(bt(r,o,f.children,l),f=Ye.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ng(r,l,o);else if(r.tag===19)ng(r,l,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(He(Ye,f),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(l=o.child,y=null;l!==null;)r=l.alternate,r!==null&&ta(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=o.child,o.child=null):(y=l.sibling,l.sibling=null),gd(o,!1,y,l,_);break;case"backwards":for(l=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&ta(r)===null){o.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}gd(o,!0,l,null,_);break;case"together":gd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ca(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Ar(r,o,l){if(r!==null&&(o.dependencies=r.dependencies),On|=o.lanes,(l&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,l=dn(r,r.pendingProps),o.child=l,l.return=o;r.sibling!==null;)r=r.sibling,l=l.sibling=dn(r,r.pendingProps),l.return=o;l.sibling=null}return o.child}function Fb(r,o,l){switch(o.tag){case 3:eg(o),go();break;case 5:vh(o);break;case 1:Et(o.type)&&Bi(o);break;case 4:Zu(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,y=o.memoizedProps.value;He(Ji,f._currentValue),f._currentValue=y;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(He(Ye,Ye.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?rg(r,o,l):(He(Ye,Ye.current&1),r=Ar(r,o,l),r!==null?r.sibling:null);He(Ye,Ye.current&1);break;case 19:if(f=(l&o.childLanes)!==0,(r.flags&128)!==0){if(f)return og(r,o,l);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),He(Ye,Ye.current),f)break;return null;case 22:case 23:return o.lanes=0,Jh(r,o,l)}return Ar(r,o,l)}var sg,yd,ig,ag;sg=function(r,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},yd=function(){},ig=function(r,o,l,f){var y=r.memoizedProps;if(y!==f){r=o.stateNode,$n(vr.current);var _=null;switch(l){case"input":y=de(r,y),f=de(r,f),_=[];break;case"select":y=B({},y,{value:void 0}),f=B({},f,{value:void 0}),_=[];break;case"textarea":y=hr(r,y),f=hr(r,f),_=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Ui)}Jc(l,f);var T;l=null;for(Q in y)if(!f.hasOwnProperty(Q)&&y.hasOwnProperty(Q)&&y[Q]!=null)if(Q==="style"){var D=y[Q];for(T in D)D.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?_||(_=[]):(_=_||[]).push(Q,null));for(Q in f){var z=f[Q];if(D=y!=null?y[Q]:void 0,f.hasOwnProperty(Q)&&z!==D&&(z!=null||D!=null))if(Q==="style")if(D){for(T in D)!D.hasOwnProperty(T)||z&&z.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in z)z.hasOwnProperty(T)&&D[T]!==z[T]&&(l||(l={}),l[T]=z[T])}else l||(_||(_=[]),_.push(Q,l)),l=z;else Q==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,D=D?D.__html:void 0,z!=null&&D!==z&&(_=_||[]).push(Q,z)):Q==="children"?typeof z!="string"&&typeof z!="number"||(_=_||[]).push(Q,""+z):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(z!=null&&Q==="onScroll"&&Be("scroll",r),_||D===z||(_=[])):(_=_||[]).push(Q,z))}l&&(_=_||[]).push("style",l);var Q=_;(o.updateQueue=Q)&&(o.flags|=4)}},ag=function(r,o,l,f){l!==f&&(o.flags|=4)};function js(r,o){if(!Ke)switch(r.tailMode){case"hidden":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function vt(r){var o=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(o)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=l,o}function zb(r,o,l){var f=o.pendingProps;switch(Fu(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(o),null;case 1:return Et(o.type)&&qi(),vt(o),null;case 3:return f=o.stateNode,wo(),We(jt),We(gt),Xu(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Zi(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,er!==null&&(kd(er),er=null))),yd(r,o),vt(o),null;case 5:Yu(o);var y=$n(bs.current);if(l=o.type,r!==null&&o.stateNode!=null)ig(r,o,l,f,y),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return vt(o),null}if(r=$n(vr.current),Zi(o)){f=o.stateNode,l=o.type;var _=o.memoizedProps;switch(f[yr]=o,f[gs]=_,r=(o.mode&1)!==0,l){case"dialog":Be("cancel",f),Be("close",f);break;case"iframe":case"object":case"embed":Be("load",f);break;case"video":case"audio":for(y=0;y<ps.length;y++)Be(ps[y],f);break;case"source":Be("error",f);break;case"img":case"image":case"link":Be("error",f),Be("load",f);break;case"details":Be("toggle",f);break;case"input":ve(f,_),Be("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Be("invalid",f);break;case"textarea":wt(f,_),Be("invalid",f)}Jc(l,_),y=null;for(var T in _)if(_.hasOwnProperty(T)){var D=_[T];T==="children"?typeof D=="string"?f.textContent!==D&&(_.suppressHydrationWarning!==!0&&Vi(f.textContent,D,r),y=["children",D]):typeof D=="number"&&f.textContent!==""+D&&(_.suppressHydrationWarning!==!0&&Vi(f.textContent,D,r),y=["children",""+D]):i.hasOwnProperty(T)&&D!=null&&T==="onScroll"&&Be("scroll",f)}switch(l){case"input":V(f),ht(f,_,!0);break;case"textarea":V(f),eo(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Ui)}f=y,o.updateQueue=f,f!==null&&(o.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Wr(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=T.createElement(l,{is:f.is}):(r=T.createElement(l),l==="select"&&(T=r,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):r=T.createElementNS(r,l),r[yr]=o,r[gs]=f,sg(r,o,!1,!1),o.stateNode=r;e:{switch(T=Xc(l,f),l){case"dialog":Be("cancel",r),Be("close",r),y=f;break;case"iframe":case"object":case"embed":Be("load",r),y=f;break;case"video":case"audio":for(y=0;y<ps.length;y++)Be(ps[y],r);y=f;break;case"source":Be("error",r),y=f;break;case"img":case"image":case"link":Be("error",r),Be("load",r),y=f;break;case"details":Be("toggle",r),y=f;break;case"input":ve(r,f),y=de(r,f),Be("invalid",r);break;case"option":y=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},y=B({},f,{value:void 0}),Be("invalid",r);break;case"textarea":wt(r,f),y=hr(r,f),Be("invalid",r);break;default:y=f}Jc(l,y),D=y;for(_ in D)if(D.hasOwnProperty(_)){var z=D[_];_==="style"?Yp(r,z):_==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ko(r,z)):_==="children"?typeof z=="string"?(l!=="textarea"||z!=="")&&Sn(r,z):typeof z=="number"&&Sn(r,""+z):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?z!=null&&_==="onScroll"&&Be("scroll",r):z!=null&&E(r,_,z,T))}switch(l){case"input":V(r),ht(r,f,!1);break;case"textarea":V(r),eo(r);break;case"option":f.value!=null&&r.setAttribute("value",""+ae(f.value));break;case"select":r.multiple=!!f.multiple,_=f.value,_!=null?Ge(r,!!f.multiple,_,!1):f.defaultValue!=null&&Ge(r,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=Ui)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return vt(o),null;case 6:if(r&&o.stateNode!=null)ag(r,o,r.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(l=$n(bs.current),$n(vr.current),Zi(o)){if(f=o.stateNode,l=o.memoizedProps,f[yr]=o,(_=f.nodeValue!==l)&&(r=Mt,r!==null))switch(r.tag){case 3:Vi(f.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Vi(f.nodeValue,l,(r.mode&1)!==0)}_&&(o.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[yr]=o,o.stateNode=f}return vt(o),null;case 13:if(We(Ye),f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ke&&At!==null&&(o.mode&1)!==0&&(o.flags&128)===0)uh(),go(),o.flags|=98560,_=!1;else if(_=Zi(o),f!==null&&f.dehydrated!==null){if(r===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[yr]=o}else go(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vt(o),_=!1}else er!==null&&(kd(er),er=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(Ye.current&1)!==0?it===0&&(it=3):$d())),o.updateQueue!==null&&(o.flags|=4),vt(o),null);case 4:return wo(),yd(r,o),r===null&&ms(o.stateNode.containerInfo),vt(o),null;case 10:return Bu(o.type._context),vt(o),null;case 17:return Et(o.type)&&qi(),vt(o),null;case 19:if(We(Ye),_=o.memoizedState,_===null)return vt(o),null;if(f=(o.flags&128)!==0,T=_.rendering,T===null)if(f)js(_,!1);else{if(it!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(T=ta(r),T!==null){for(o.flags|=128,js(_,!1),f=T.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=l,l=o.child;l!==null;)_=l,r=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=r,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,r=T.dependencies,_.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return He(Ye,Ye.current&1|2),o.child}r=r.sibling}_.tail!==null&&Qe()>So&&(o.flags|=128,f=!0,js(_,!1),o.lanes=4194304)}else{if(!f)if(r=ta(T),r!==null){if(o.flags|=128,f=!0,l=r.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),js(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!Ke)return vt(o),null}else 2*Qe()-_.renderingStartTime>So&&l!==1073741824&&(o.flags|=128,f=!0,js(_,!1),o.lanes=4194304);_.isBackwards?(T.sibling=o.child,o.child=T):(l=_.last,l!==null?l.sibling=T:o.child=T,_.last=T)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Qe(),o.sibling=null,l=Ye.current,He(Ye,f?l&1|2:l&1),o):(vt(o),null);case 22:case 23:return Rd(),f=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(It&1073741824)!==0&&(vt(o),o.subtreeFlags&6&&(o.flags|=8192)):vt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Vb(r,o){switch(Fu(o),o.tag){case 1:return Et(o.type)&&qi(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return wo(),We(jt),We(gt),Xu(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return Yu(o),null;case 13:if(We(Ye),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));go()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return We(Ye),null;case 4:return wo(),null;case 10:return Bu(o.type._context),null;case 22:case 23:return Rd(),null;case 24:return null;default:return null}}var ua=!1,xt=!1,Ub=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Co(r,o){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Xe(r,o,f)}else l.current=null}function vd(r,o,l){try{l()}catch(f){Xe(r,o,f)}}var lg=!1;function Hb(r,o){if(Ru=Ri,r=zm(),Cu(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var y=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,D=-1,z=-1,Q=0,ue=0,fe=r,ce=null;t:for(;;){for(var ye;fe!==l||y!==0&&fe.nodeType!==3||(D=T+y),fe!==_||f!==0&&fe.nodeType!==3||(z=T+f),fe.nodeType===3&&(T+=fe.nodeValue.length),(ye=fe.firstChild)!==null;)ce=fe,fe=ye;for(;;){if(fe===r)break t;if(ce===l&&++Q===y&&(D=T),ce===_&&++ue===f&&(z=T),(ye=fe.nextSibling)!==null)break;fe=ce,ce=fe.parentNode}fe=ye}l=D===-1||z===-1?null:{start:D,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for($u={focusedElem:r,selectionRange:l},Ri=!1,xe=o;xe!==null;)if(o=xe,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,xe=r;else for(;xe!==null;){o=xe;try{var we=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ce=we.memoizedProps,et=we.memoizedState,Y=o.stateNode,q=Y.getSnapshotBeforeUpdate(o.elementType===o.type?Ce:tr(o.type,Ce),et);Y.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var J=o.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){Xe(o,o.return,me)}if(r=o.sibling,r!==null){r.return=o.return,xe=r;break}xe=o.return}return we=lg,lg=!1,we}function Es(r,o,l){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&r)===r){var _=y.destroy;y.destroy=void 0,_!==void 0&&vd(o,l,_)}y=y.next}while(y!==f)}}function da(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&r)===r){var f=l.create;l.destroy=f()}l=l.next}while(l!==o)}}function xd(r){var o=r.ref;if(o!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof o=="function"?o(r):o.current=r}}function cg(r){var o=r.alternate;o!==null&&(r.alternate=null,cg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[yr],delete o[gs],delete o[Au],delete o[Nb],delete o[jb])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ug(r){return r.tag===5||r.tag===3||r.tag===4}function dg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ug(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wd(r,o,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(r,o):l.insertBefore(r,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(r,l)):(o=l,o.appendChild(r)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Ui));else if(f!==4&&(r=r.child,r!==null))for(wd(r,o,l),r=r.sibling;r!==null;)wd(r,o,l),r=r.sibling}function bd(r,o,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?l.insertBefore(r,o):l.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(bd(r,o,l),r=r.sibling;r!==null;)bd(r,o,l),r=r.sibling}var ut=null,rr=!1;function sn(r,o,l){for(l=l.child;l!==null;)fg(r,o,l),l=l.sibling}function fg(r,o,l){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Si,l)}catch{}switch(l.tag){case 5:xt||Co(l,o);case 6:var f=ut,y=rr;ut=null,sn(r,o,l),ut=f,rr=y,ut!==null&&(rr?(r=ut,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):ut.removeChild(l.stateNode));break;case 18:ut!==null&&(rr?(r=ut,l=l.stateNode,r.nodeType===8?Mu(r.parentNode,l):r.nodeType===1&&Mu(r,l),ss(r)):Mu(ut,l.stateNode));break;case 4:f=ut,y=rr,ut=l.stateNode.containerInfo,rr=!0,sn(r,o,l),ut=f,rr=y;break;case 0:case 11:case 14:case 15:if(!xt&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var _=y,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&vd(l,o,T),y=y.next}while(y!==f)}sn(r,o,l);break;case 1:if(!xt&&(Co(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(D){Xe(l,o,D)}sn(r,o,l);break;case 21:sn(r,o,l);break;case 22:l.mode&1?(xt=(f=xt)||l.memoizedState!==null,sn(r,o,l),xt=f):sn(r,o,l);break;default:sn(r,o,l)}}function pg(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Ub),o.forEach(function(f){var y=Xb.bind(null,r,f);l.has(f)||(l.add(f),f.then(y,y))})}}function nr(r,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var y=l[f];try{var _=r,T=o,D=T;e:for(;D!==null;){switch(D.tag){case 5:ut=D.stateNode,rr=!1;break e;case 3:ut=D.stateNode.containerInfo,rr=!0;break e;case 4:ut=D.stateNode.containerInfo,rr=!0;break e}D=D.return}if(ut===null)throw Error(n(160));fg(_,T,y),ut=null,rr=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Q){Xe(y,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)mg(o,r),o=o.sibling}function mg(r,o){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(nr(o,r),wr(r),f&4){try{Es(3,r,r.return),da(3,r)}catch(Ce){Xe(r,r.return,Ce)}try{Es(5,r,r.return)}catch(Ce){Xe(r,r.return,Ce)}}break;case 1:nr(o,r),wr(r),f&512&&l!==null&&Co(l,l.return);break;case 5:if(nr(o,r),wr(r),f&512&&l!==null&&Co(l,l.return),r.flags&32){var y=r.stateNode;try{Sn(y,"")}catch(Ce){Xe(r,r.return,Ce)}}if(f&4&&(y=r.stateNode,y!=null)){var _=r.memoizedProps,T=l!==null?l.memoizedProps:_,D=r.type,z=r.updateQueue;if(r.updateQueue=null,z!==null)try{D==="input"&&_.type==="radio"&&_.name!=null&&je(y,_),Xc(D,T);var Q=Xc(D,_);for(T=0;T<z.length;T+=2){var ue=z[T],fe=z[T+1];ue==="style"?Yp(y,fe):ue==="dangerouslySetInnerHTML"?Ko(y,fe):ue==="children"?Sn(y,fe):E(y,ue,fe,Q)}switch(D){case"input":Ue(y,_);break;case"textarea":Qn(y,_);break;case"select":var ce=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var ye=_.value;ye!=null?Ge(y,!!_.multiple,ye,!1):ce!==!!_.multiple&&(_.defaultValue!=null?Ge(y,!!_.multiple,_.defaultValue,!0):Ge(y,!!_.multiple,_.multiple?[]:"",!1))}y[gs]=_}catch(Ce){Xe(r,r.return,Ce)}}break;case 6:if(nr(o,r),wr(r),f&4){if(r.stateNode===null)throw Error(n(162));y=r.stateNode,_=r.memoizedProps;try{y.nodeValue=_}catch(Ce){Xe(r,r.return,Ce)}}break;case 3:if(nr(o,r),wr(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{ss(o.containerInfo)}catch(Ce){Xe(r,r.return,Ce)}break;case 4:nr(o,r),wr(r);break;case 13:nr(o,r),wr(r),y=r.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(Sd=Qe())),f&4&&pg(r);break;case 22:if(ue=l!==null&&l.memoizedState!==null,r.mode&1?(xt=(Q=xt)||ue,nr(o,r),xt=Q):nr(o,r),wr(r),f&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!ue&&(r.mode&1)!==0)for(xe=r,ue=r.child;ue!==null;){for(fe=xe=ue;xe!==null;){switch(ce=xe,ye=ce.child,ce.tag){case 0:case 11:case 14:case 15:Es(4,ce,ce.return);break;case 1:Co(ce,ce.return);var we=ce.stateNode;if(typeof we.componentWillUnmount=="function"){f=ce,l=ce.return;try{o=f,we.props=o.memoizedProps,we.state=o.memoizedState,we.componentWillUnmount()}catch(Ce){Xe(f,l,Ce)}}break;case 5:Co(ce,ce.return);break;case 22:if(ce.memoizedState!==null){yg(fe);continue}}ye!==null?(ye.return=ce,xe=ye):yg(fe)}ue=ue.sibling}e:for(ue=null,fe=r;;){if(fe.tag===5){if(ue===null){ue=fe;try{y=fe.stateNode,Q?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(D=fe.stateNode,z=fe.memoizedProps.style,T=z!=null&&z.hasOwnProperty("display")?z.display:null,D.style.display=Zp("display",T))}catch(Ce){Xe(r,r.return,Ce)}}}else if(fe.tag===6){if(ue===null)try{fe.stateNode.nodeValue=Q?"":fe.memoizedProps}catch(Ce){Xe(r,r.return,Ce)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===r)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===r)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===r)break e;ue===fe&&(ue=null),fe=fe.return}ue===fe&&(ue=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:nr(o,r),wr(r),f&4&&pg(r);break;case 21:break;default:nr(o,r),wr(r)}}function wr(r){var o=r.flags;if(o&2){try{e:{for(var l=r.return;l!==null;){if(ug(l)){var f=l;break e}l=l.return}throw Error(n(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(Sn(y,""),f.flags&=-33);var _=dg(r);bd(r,_,y);break;case 3:case 4:var T=f.stateNode.containerInfo,D=dg(r);wd(r,D,T);break;default:throw Error(n(161))}}catch(z){Xe(r,r.return,z)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function qb(r,o,l){xe=r,hg(r)}function hg(r,o,l){for(var f=(r.mode&1)!==0;xe!==null;){var y=xe,_=y.child;if(y.tag===22&&f){var T=y.memoizedState!==null||ua;if(!T){var D=y.alternate,z=D!==null&&D.memoizedState!==null||xt;D=ua;var Q=xt;if(ua=T,(xt=z)&&!Q)for(xe=y;xe!==null;)T=xe,z=T.child,T.tag===22&&T.memoizedState!==null?vg(y):z!==null?(z.return=T,xe=z):vg(y);for(;_!==null;)xe=_,hg(_),_=_.sibling;xe=y,ua=D,xt=Q}gg(r)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,xe=_):gg(r)}}function gg(r){for(;xe!==null;){var o=xe;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:xt||da(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!xt)if(l===null)f.componentDidMount();else{var y=o.elementType===o.type?l.memoizedProps:tr(o.type,l.memoizedProps);f.componentDidUpdate(y,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&yh(o,_,f);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}yh(o,T,l)}break;case 5:var D=o.stateNode;if(l===null&&o.flags&4){l=D;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&l.focus();break;case"img":z.src&&(l.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var ue=Q.memoizedState;if(ue!==null){var fe=ue.dehydrated;fe!==null&&ss(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xt||o.flags&512&&xd(o)}catch(ce){Xe(o,o.return,ce)}}if(o===r){xe=null;break}if(l=o.sibling,l!==null){l.return=o.return,xe=l;break}xe=o.return}}function yg(r){for(;xe!==null;){var o=xe;if(o===r){xe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,xe=l;break}xe=o.return}}function vg(r){for(;xe!==null;){var o=xe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{da(4,o)}catch(z){Xe(o,l,z)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var y=o.return;try{f.componentDidMount()}catch(z){Xe(o,y,z)}}var _=o.return;try{xd(o)}catch(z){Xe(o,_,z)}break;case 5:var T=o.return;try{xd(o)}catch(z){Xe(o,T,z)}}}catch(z){Xe(o,o.return,z)}if(o===r){xe=null;break}var D=o.sibling;if(D!==null){D.return=o.return,xe=D;break}xe=o.return}}var Bb=Math.ceil,fa=P.ReactCurrentDispatcher,Cd=P.ReactCurrentOwner,Gt=P.ReactCurrentBatchConfig,Ae=0,lt=null,rt=null,dt=0,It=0,_o=en(0),it=0,ks=null,On=0,pa=0,_d=0,Ps=null,Pt=null,Sd=0,So=1/0,Ir=null,ma=!1,Nd=null,an=null,ha=!1,ln=null,ga=0,Rs=0,jd=null,ya=-1,va=0;function Ct(){return(Ae&6)!==0?Qe():ya!==-1?ya:ya=Qe()}function cn(r){return(r.mode&1)===0?1:(Ae&2)!==0&&dt!==0?dt&-dt:kb.transition!==null?(va===0&&(va=dm()),va):(r=ze,r!==0||(r=window.event,r=r===void 0?16:wm(r.type)),r)}function or(r,o,l,f){if(50<Rs)throw Rs=0,jd=null,Error(n(185));es(r,l,f),((Ae&2)===0||r!==lt)&&(r===lt&&((Ae&2)===0&&(pa|=l),it===4&&un(r,dt)),Rt(r,f),l===1&&Ae===0&&(o.mode&1)===0&&(So=Qe()+500,Wi&&rn()))}function Rt(r,o){var l=r.callbackNode;kw(r,o);var f=Ei(r,r===lt?dt:0);if(f===0)l!==null&&lm(l),r.callbackNode=null,r.callbackPriority=0;else if(o=f&-f,r.callbackPriority!==o){if(l!=null&&lm(l),o===1)r.tag===0?Eb(wg.bind(null,r)):sh(wg.bind(null,r)),_b(function(){(Ae&6)===0&&rn()}),l=null;else{switch(fm(f)){case 1:l=su;break;case 4:l=cm;break;case 16:l=_i;break;case 536870912:l=um;break;default:l=_i}l=kg(l,xg.bind(null,r))}r.callbackPriority=o,r.callbackNode=l}}function xg(r,o){if(ya=-1,va=0,(Ae&6)!==0)throw Error(n(327));var l=r.callbackNode;if(No()&&r.callbackNode!==l)return null;var f=Ei(r,r===lt?dt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||o)o=xa(r,f);else{o=f;var y=Ae;Ae|=2;var _=Cg();(lt!==r||dt!==o)&&(Ir=null,So=Qe()+500,An(r,o));do try{Kb();break}catch(D){bg(r,D)}while(!0);qu(),fa.current=_,Ae=y,rt!==null?o=0:(lt=null,dt=0,o=it)}if(o!==0){if(o===2&&(y=iu(r),y!==0&&(f=y,o=Ed(r,y))),o===1)throw l=ks,An(r,0),un(r,f),Rt(r,Qe()),l;if(o===6)un(r,f);else{if(y=r.current.alternate,(f&30)===0&&!Wb(y)&&(o=xa(r,f),o===2&&(_=iu(r),_!==0&&(f=_,o=Ed(r,_))),o===1))throw l=ks,An(r,0),un(r,f),Rt(r,Qe()),l;switch(r.finishedWork=y,r.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:In(r,Pt,Ir);break;case 3:if(un(r,f),(f&130023424)===f&&(o=Sd+500-Qe(),10<o)){if(Ei(r,0)!==0)break;if(y=r.suspendedLanes,(y&f)!==f){Ct(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=Ou(In.bind(null,r,Pt,Ir),o);break}In(r,Pt,Ir);break;case 4:if(un(r,f),(f&4194240)===f)break;for(o=r.eventTimes,y=-1;0<f;){var T=31-Xt(f);_=1<<T,T=o[T],T>y&&(y=T),f&=~_}if(f=y,f=Qe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Bb(f/1960))-f,10<f){r.timeoutHandle=Ou(In.bind(null,r,Pt,Ir),f);break}In(r,Pt,Ir);break;case 5:In(r,Pt,Ir);break;default:throw Error(n(329))}}}return Rt(r,Qe()),r.callbackNode===l?xg.bind(null,r):null}function Ed(r,o){var l=Ps;return r.current.memoizedState.isDehydrated&&(An(r,o).flags|=256),r=xa(r,o),r!==2&&(o=Pt,Pt=l,o!==null&&kd(o)),r}function kd(r){Pt===null?Pt=r:Pt.push.apply(Pt,r)}function Wb(r){for(var o=r;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var y=l[f],_=y.getSnapshot;y=y.value;try{if(!Qt(_(),y))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function un(r,o){for(o&=~_d,o&=~pa,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var l=31-Xt(o),f=1<<l;r[l]=-1,o&=~f}}function wg(r){if((Ae&6)!==0)throw Error(n(327));No();var o=Ei(r,0);if((o&1)===0)return Rt(r,Qe()),null;var l=xa(r,o);if(r.tag!==0&&l===2){var f=iu(r);f!==0&&(o=f,l=Ed(r,f))}if(l===1)throw l=ks,An(r,0),un(r,o),Rt(r,Qe()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,In(r,Pt,Ir),Rt(r,Qe()),null}function Pd(r,o){var l=Ae;Ae|=1;try{return r(o)}finally{Ae=l,Ae===0&&(So=Qe()+500,Wi&&rn())}}function Mn(r){ln!==null&&ln.tag===0&&(Ae&6)===0&&No();var o=Ae;Ae|=1;var l=Gt.transition,f=ze;try{if(Gt.transition=null,ze=1,r)return r()}finally{ze=f,Gt.transition=l,Ae=o,(Ae&6)===0&&rn()}}function Rd(){It=_o.current,We(_o)}function An(r,o){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,Cb(l)),rt!==null)for(l=rt.return;l!==null;){var f=l;switch(Fu(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&qi();break;case 3:wo(),We(jt),We(gt),Xu();break;case 5:Yu(f);break;case 4:wo();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Bu(f.type._context);break;case 22:case 23:Rd()}l=l.return}if(lt=r,rt=r=dn(r.current,null),dt=It=o,it=0,ks=null,_d=pa=On=0,Pt=Ps=null,Rn!==null){for(o=0;o<Rn.length;o++)if(l=Rn[o],f=l.interleaved,f!==null){l.interleaved=null;var y=f.next,_=l.pending;if(_!==null){var T=_.next;_.next=y,f.next=T}l.pending=f}Rn=null}return r}function bg(r,o){do{var l=rt;try{if(qu(),ra.current=ia,na){for(var f=Je.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}na=!1}if(Tn=0,at=st=Je=null,Cs=!1,_s=0,Cd.current=null,l===null||l.return===null){it=1,ks=o,rt=null;break}e:{var _=r,T=l.return,D=l,z=o;if(o=dt,D.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Q=z,ue=D,fe=ue.tag;if((ue.mode&1)===0&&(fe===0||fe===11||fe===15)){var ce=ue.alternate;ce?(ue.updateQueue=ce.updateQueue,ue.memoizedState=ce.memoizedState,ue.lanes=ce.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ye=Wh(T);if(ye!==null){ye.flags&=-257,Gh(ye,T,D,_,o),ye.mode&1&&Bh(_,Q,o),o=ye,z=Q;var we=o.updateQueue;if(we===null){var Ce=new Set;Ce.add(z),o.updateQueue=Ce}else we.add(z);break e}else{if((o&1)===0){Bh(_,Q,o),$d();break e}z=Error(n(426))}}else if(Ke&&D.mode&1){var et=Wh(T);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),Gh(et,T,D,_,o),Uu(bo(z,D));break e}}_=z=bo(z,D),it!==4&&(it=2),Ps===null?Ps=[_]:Ps.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var Y=Hh(_,z,o);gh(_,Y);break e;case 1:D=z;var q=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(an===null||!an.has(J)))){_.flags|=65536,o&=-o,_.lanes|=o;var me=qh(_,D,o);gh(_,me);break e}}_=_.return}while(_!==null)}Sg(l)}catch(_e){o=_e,rt===l&&l!==null&&(rt=l=l.return);continue}break}while(!0)}function Cg(){var r=fa.current;return fa.current=ia,r===null?ia:r}function $d(){(it===0||it===3||it===2)&&(it=4),lt===null||(On&268435455)===0&&(pa&268435455)===0||un(lt,dt)}function xa(r,o){var l=Ae;Ae|=2;var f=Cg();(lt!==r||dt!==o)&&(Ir=null,An(r,o));do try{Gb();break}catch(y){bg(r,y)}while(!0);if(qu(),Ae=l,fa.current=f,rt!==null)throw Error(n(261));return lt=null,dt=0,it}function Gb(){for(;rt!==null;)_g(rt)}function Kb(){for(;rt!==null&&!xw();)_g(rt)}function _g(r){var o=Eg(r.alternate,r,It);r.memoizedProps=r.pendingProps,o===null?Sg(r):rt=o,Cd.current=null}function Sg(r){var o=r;do{var l=o.alternate;if(r=o.return,(o.flags&32768)===0){if(l=zb(l,o,It),l!==null){rt=l;return}}else{if(l=Vb(l,o),l!==null){l.flags&=32767,rt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{it=6,rt=null;return}}if(o=o.sibling,o!==null){rt=o;return}rt=o=r}while(o!==null);it===0&&(it=5)}function In(r,o,l){var f=ze,y=Gt.transition;try{Gt.transition=null,ze=1,Zb(r,o,l,f)}finally{Gt.transition=y,ze=f}return null}function Zb(r,o,l,f){do No();while(ln!==null);if((Ae&6)!==0)throw Error(n(327));l=r.finishedWork;var y=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var _=l.lanes|l.childLanes;if(Pw(r,_),r===lt&&(rt=lt=null,dt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ha||(ha=!0,kg(_i,function(){return No(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=Gt.transition,Gt.transition=null;var T=ze;ze=1;var D=Ae;Ae|=4,Cd.current=null,Hb(r,l),mg(l,r),hb($u),Ri=!!Ru,$u=Ru=null,r.current=l,qb(l),ww(),Ae=D,ze=T,Gt.transition=_}else r.current=l;if(ha&&(ha=!1,ln=r,ga=y),_=r.pendingLanes,_===0&&(an=null),_w(l.stateNode),Rt(r,Qe()),o!==null)for(f=r.onRecoverableError,l=0;l<o.length;l++)y=o[l],f(y.value,{componentStack:y.stack,digest:y.digest});if(ma)throw ma=!1,r=Nd,Nd=null,r;return(ga&1)!==0&&r.tag!==0&&No(),_=r.pendingLanes,(_&1)!==0?r===jd?Rs++:(Rs=0,jd=r):Rs=0,rn(),null}function No(){if(ln!==null){var r=fm(ga),o=Gt.transition,l=ze;try{if(Gt.transition=null,ze=16>r?16:r,ln===null)var f=!1;else{if(r=ln,ln=null,ga=0,(Ae&6)!==0)throw Error(n(331));var y=Ae;for(Ae|=4,xe=r.current;xe!==null;){var _=xe,T=_.child;if((xe.flags&16)!==0){var D=_.deletions;if(D!==null){for(var z=0;z<D.length;z++){var Q=D[z];for(xe=Q;xe!==null;){var ue=xe;switch(ue.tag){case 0:case 11:case 15:Es(8,ue,_)}var fe=ue.child;if(fe!==null)fe.return=ue,xe=fe;else for(;xe!==null;){ue=xe;var ce=ue.sibling,ye=ue.return;if(cg(ue),ue===Q){xe=null;break}if(ce!==null){ce.return=ye,xe=ce;break}xe=ye}}}var we=_.alternate;if(we!==null){var Ce=we.child;if(Ce!==null){we.child=null;do{var et=Ce.sibling;Ce.sibling=null,Ce=et}while(Ce!==null)}}xe=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,xe=T;else e:for(;xe!==null;){if(_=xe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Es(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,xe=Y;break e}xe=_.return}}var q=r.current;for(xe=q;xe!==null;){T=xe;var J=T.child;if((T.subtreeFlags&2064)!==0&&J!==null)J.return=T,xe=J;else e:for(T=q;xe!==null;){if(D=xe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:da(9,D)}}catch(_e){Xe(D,D.return,_e)}if(D===T){xe=null;break e}var me=D.sibling;if(me!==null){me.return=D.return,xe=me;break e}xe=D.return}}if(Ae=y,rn(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Si,r)}catch{}f=!0}return f}finally{ze=l,Gt.transition=o}}return!1}function Ng(r,o,l){o=bo(l,o),o=Hh(r,o,1),r=on(r,o,1),o=Ct(),r!==null&&(es(r,1,o),Rt(r,o))}function Xe(r,o,l){if(r.tag===3)Ng(r,r,l);else for(;o!==null;){if(o.tag===3){Ng(o,r,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(an===null||!an.has(f))){r=bo(l,r),r=qh(o,r,1),o=on(o,r,1),r=Ct(),o!==null&&(es(o,1,r),Rt(o,r));break}}o=o.return}}function Yb(r,o,l){var f=r.pingCache;f!==null&&f.delete(o),o=Ct(),r.pingedLanes|=r.suspendedLanes&l,lt===r&&(dt&l)===l&&(it===4||it===3&&(dt&130023424)===dt&&500>Qe()-Sd?An(r,0):_d|=l),Rt(r,o)}function jg(r,o){o===0&&((r.mode&1)===0?o=1:(o=ji,ji<<=1,(ji&130023424)===0&&(ji=4194304)));var l=Ct();r=Or(r,o),r!==null&&(es(r,o,l),Rt(r,l))}function Jb(r){var o=r.memoizedState,l=0;o!==null&&(l=o.retryLane),jg(r,l)}function Xb(r,o){var l=0;switch(r.tag){case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),jg(r,l)}var Eg;Eg=function(r,o,l){if(r!==null)if(r.memoizedProps!==o.pendingProps||jt.current)kt=!0;else{if((r.lanes&l)===0&&(o.flags&128)===0)return kt=!1,Fb(r,o,l);kt=(r.flags&131072)!==0}else kt=!1,Ke&&(o.flags&1048576)!==0&&ih(o,Ki,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;ca(r,o),r=o.pendingProps;var y=po(o,gt.current);xo(o,l),y=td(null,o,f,r,y,l);var _=rd();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Et(f)?(_=!0,Bi(o)):_=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Ku(o),y.updater=aa,o.stateNode=y,y._reactInternals=o,ld(o,f,r,l),o=fd(null,o,f,!0,_,l)):(o.tag=0,Ke&&_&&Lu(o),bt(null,o,y,l),o=o.child),o;case 16:f=o.elementType;e:{switch(ca(r,o),r=o.pendingProps,y=f._init,f=y(f._payload),o.type=f,y=o.tag=e5(f),r=tr(f,r),y){case 0:o=dd(null,o,f,r,l);break e;case 1:o=Qh(null,o,f,r,l);break e;case 11:o=Kh(null,o,f,r,l);break e;case 14:o=Zh(null,o,f,tr(f.type,r),l);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:tr(f,y),dd(r,o,f,y,l);case 1:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:tr(f,y),Qh(r,o,f,y,l);case 3:e:{if(eg(o),r===null)throw Error(n(387));f=o.pendingProps,_=o.memoizedState,y=_.element,hh(r,o),ea(o,f,null,l);var T=o.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){y=bo(Error(n(423)),o),o=tg(r,o,f,l,y);break e}else if(f!==y){y=bo(Error(n(424)),o),o=tg(r,o,f,l,y);break e}else for(At=Qr(o.stateNode.containerInfo.firstChild),Mt=o,Ke=!0,er=null,l=ph(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(go(),f===y){o=Ar(r,o,l);break e}bt(r,o,f,l)}o=o.child}return o;case 5:return vh(o),r===null&&Vu(o),f=o.type,y=o.pendingProps,_=r!==null?r.memoizedProps:null,T=y.children,Tu(f,y)?T=null:_!==null&&Tu(f,_)&&(o.flags|=32),Xh(r,o),bt(r,o,T,l),o.child;case 6:return r===null&&Vu(o),null;case 13:return rg(r,o,l);case 4:return Zu(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=yo(o,null,f,l):bt(r,o,f,l),o.child;case 11:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:tr(f,y),Kh(r,o,f,y,l);case 7:return bt(r,o,o.pendingProps,l),o.child;case 8:return bt(r,o,o.pendingProps.children,l),o.child;case 12:return bt(r,o,o.pendingProps.children,l),o.child;case 10:e:{if(f=o.type._context,y=o.pendingProps,_=o.memoizedProps,T=y.value,He(Ji,f._currentValue),f._currentValue=T,_!==null)if(Qt(_.value,T)){if(_.children===y.children&&!jt.current){o=Ar(r,o,l);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var D=_.dependencies;if(D!==null){T=_.child;for(var z=D.firstContext;z!==null;){if(z.context===f){if(_.tag===1){z=Mr(-1,l&-l),z.tag=2;var Q=_.updateQueue;if(Q!==null){Q=Q.shared;var ue=Q.pending;ue===null?z.next=z:(z.next=ue.next,ue.next=z),Q.pending=z}}_.lanes|=l,z=_.alternate,z!==null&&(z.lanes|=l),Wu(_.return,l,o),D.lanes|=l;break}z=z.next}}else if(_.tag===10)T=_.type===o.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(n(341));T.lanes|=l,D=T.alternate,D!==null&&(D.lanes|=l),Wu(T,l,o),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===o){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}bt(r,o,y.children,l),o=o.child}return o;case 9:return y=o.type,f=o.pendingProps.children,xo(o,l),y=Bt(y),f=f(y),o.flags|=1,bt(r,o,f,l),o.child;case 14:return f=o.type,y=tr(f,o.pendingProps),y=tr(f.type,y),Zh(r,o,f,y,l);case 15:return Yh(r,o,o.type,o.pendingProps,l);case 17:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:tr(f,y),ca(r,o),o.tag=1,Et(f)?(r=!0,Bi(o)):r=!1,xo(o,l),Vh(o,f,y),ld(o,f,y,l),fd(null,o,f,!0,r,l);case 19:return og(r,o,l);case 22:return Jh(r,o,l)}throw Error(n(156,o.tag))};function kg(r,o){return am(r,o)}function Qb(r,o,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(r,o,l,f){return new Qb(r,o,l,f)}function Td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function e5(r){if(typeof r=="function")return Td(r)?1:0;if(r!=null){if(r=r.$$typeof,r===te)return 11;if(r===se)return 14}return 2}function dn(r,o){var l=r.alternate;return l===null?(l=Kt(r.tag,o,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=o,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,o=r.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function wa(r,o,l,f,y,_){var T=2;if(f=r,typeof r=="function")Td(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case $:return Dn(l.children,y,_,o);case L:T=8,y|=8;break;case K:return r=Kt(12,l,o,y|2),r.elementType=K,r.lanes=_,r;case re:return r=Kt(13,l,o,y),r.elementType=re,r.lanes=_,r;case ne:return r=Kt(19,l,o,y),r.elementType=ne,r.lanes=_,r;case pe:return ba(l,y,_,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:T=10;break e;case G:T=9;break e;case te:T=11;break e;case se:T=14;break e;case le:T=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return o=Kt(T,l,o,y),o.elementType=r,o.type=f,o.lanes=_,o}function Dn(r,o,l,f){return r=Kt(7,r,f,o),r.lanes=l,r}function ba(r,o,l,f){return r=Kt(22,r,f,o),r.elementType=pe,r.lanes=l,r.stateNode={isHidden:!1},r}function Od(r,o,l){return r=Kt(6,r,null,o),r.lanes=l,r}function Md(r,o,l){return o=Kt(4,r.children!==null?r.children:[],r.key,o),o.lanes=l,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function t5(r,o,l,f,y){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=au(0),this.expirationTimes=au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=au(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Ad(r,o,l,f,y,_,T,D,z){return r=new t5(r,o,l,D,z),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Kt(3,null,null,o),r.current=_,_.stateNode=r,_.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(_),r}function r5(r,o,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:f==null?null:""+f,children:r,containerInfo:o,implementation:l}}function Pg(r){if(!r)return tn;r=r._reactInternals;e:{if(Nn(r)!==r||r.tag!==1)throw Error(n(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Et(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Et(l))return nh(r,l,o)}return o}function Rg(r,o,l,f,y,_,T,D,z){return r=Ad(l,f,!0,r,y,_,T,D,z),r.context=Pg(null),l=r.current,f=Ct(),y=cn(l),_=Mr(f,y),_.callback=o??null,on(l,_,y),r.current.lanes=y,es(r,y,f),Rt(r,f),r}function Ca(r,o,l,f){var y=o.current,_=Ct(),T=cn(y);return l=Pg(l),o.context===null?o.context=l:o.pendingContext=l,o=Mr(_,T),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=on(y,o,T),r!==null&&(or(r,y,T,_),Qi(r,y,T)),T}function _a(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function $g(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<o?l:o}}function Id(r,o){$g(r,o),(r=r.alternate)&&$g(r,o)}function n5(){return null}var Tg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Dd(r){this._internalRoot=r}Sa.prototype.render=Dd.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));Ca(r,o,null,null)},Sa.prototype.unmount=Dd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Mn(function(){Ca(null,r,null,null)}),o[Pr]=null}};function Sa(r){this._internalRoot=r}Sa.prototype.unstable_scheduleHydration=function(r){if(r){var o=hm();r={blockedOn:null,target:r,priority:o};for(var l=0;l<Yr.length&&o!==0&&o<Yr[l].priority;l++);Yr.splice(l,0,r),l===0&&vm(r)}};function Ld(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Na(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Og(){}function o5(r,o,l,f,y){if(y){if(typeof f=="function"){var _=f;f=function(){var Q=_a(T);_.call(Q)}}var T=Rg(o,f,r,0,null,!1,!1,"",Og);return r._reactRootContainer=T,r[Pr]=T.current,ms(r.nodeType===8?r.parentNode:r),Mn(),T}for(;y=r.lastChild;)r.removeChild(y);if(typeof f=="function"){var D=f;f=function(){var Q=_a(z);D.call(Q)}}var z=Ad(r,0,!1,null,null,!1,!1,"",Og);return r._reactRootContainer=z,r[Pr]=z.current,ms(r.nodeType===8?r.parentNode:r),Mn(function(){Ca(o,z,l,f)}),z}function ja(r,o,l,f,y){var _=l._reactRootContainer;if(_){var T=_;if(typeof y=="function"){var D=y;y=function(){var z=_a(T);D.call(z)}}Ca(o,T,r,y)}else T=o5(l,o,r,y,f);return _a(T)}pm=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var l=Qo(o.pendingLanes);l!==0&&(lu(o,l|1),Rt(o,Qe()),(Ae&6)===0&&(So=Qe()+500,rn()))}break;case 13:Mn(function(){var f=Or(r,1);if(f!==null){var y=Ct();or(f,r,1,y)}}),Id(r,1)}},cu=function(r){if(r.tag===13){var o=Or(r,134217728);if(o!==null){var l=Ct();or(o,r,134217728,l)}Id(r,134217728)}},mm=function(r){if(r.tag===13){var o=cn(r),l=Or(r,o);if(l!==null){var f=Ct();or(l,r,o,f)}Id(r,o)}},hm=function(){return ze},gm=function(r,o){var l=ze;try{return ze=r,o()}finally{ze=l}},tu=function(r,o,l){switch(o){case"input":if(Ue(r,l),o=l.name,l.type==="radio"&&o!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==r&&f.form===r.form){var y=Hi(f);if(!y)throw Error(n(90));W(f),Ue(f,y)}}}break;case"textarea":Qn(r,l);break;case"select":o=l.value,o!=null&&Ge(r,!!l.multiple,o,!1)}},em=Pd,tm=Mn;var s5={usingClientEntryPoint:!1,Events:[ys,uo,Hi,Xp,Qp,Pd]},$s={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i5={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=sm(r),r===null?null:r.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||n5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ea.isDisabled&&Ea.supportsFiber)try{Si=Ea.inject(i5),gr=Ea}catch{}}return $t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s5,$t.createPortal=function(r,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ld(o))throw Error(n(200));return r5(r,o,null,l)},$t.createRoot=function(r,o){if(!Ld(r))throw Error(n(299));var l=!1,f="",y=Tg;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Ad(r,1,!1,null,null,l,!1,f,y),r[Pr]=o.current,ms(r.nodeType===8?r.parentNode:r),new Dd(o)},$t.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=sm(o),r=r===null?null:r.stateNode,r},$t.flushSync=function(r){return Mn(r)},$t.hydrate=function(r,o,l){if(!Na(o))throw Error(n(200));return ja(null,r,o,!0,l)},$t.hydrateRoot=function(r,o,l){if(!Ld(r))throw Error(n(405));var f=l!=null&&l.hydratedSources||null,y=!1,_="",T=Tg;if(l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=Rg(o,null,r,1,l??null,y,!1,_,T),r[Pr]=o.current,ms(r),f)for(r=0;r<f.length;r++)l=f[r],y=l._getVersion,y=y(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,y]:o.mutableSourceEagerHydrationData.push(l,y);return new Sa(o)},$t.render=function(r,o,l){if(!Na(o))throw Error(n(200));return ja(null,r,o,!1,l)},$t.unmountComponentAtNode=function(r){if(!Na(r))throw Error(n(40));return r._reactRootContainer?(Mn(function(){ja(null,null,r,!1,function(){r._reactRootContainer=null,r[Pr]=null})}),!0):!1},$t.unstable_batchedUpdates=Pd,$t.unstable_renderSubtreeIntoContainer=function(r,o,l,f){if(!Na(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ja(r,o,l,!1,f)},$t.version="18.3.1-next-f1338f8080-20240426",$t}var Vg;function F1(){if(Vg)return Vd.exports;Vg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vd.exports=g5(),Vd.exports}var Ug;function y5(){if(Ug)return ka;Ug=1;var e=F1();return ka.createRoot=e.createRoot,ka.hydrateRoot=e.hydrateRoot,ka}var v5=y5();const x5=ai(v5);function be(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Hg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Yn(...e){return t=>{let n=!1;const s=e.map(i=>{const a=Hg(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Hg(e[i],null)}}}}function Fe(...e){return g.useCallback(Yn(...e),e)}function w5(e,t){const n=g.createContext(t),s=a=>{const{children:u,...d}=a,p=g.useMemo(()=>d,Object.values(d));return c.jsx(n.Provider,{value:p,children:u})};s.displayName=e+"Provider";function i(a){const u=g.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function Br(e,t=[]){let n=[];function s(a,u){const d=g.createContext(u),p=n.length;n=[...n,u];const m=v=>{var N;const{scope:x,children:b,...j}=v,S=((N=x==null?void 0:x[e])==null?void 0:N[p])||d,w=g.useMemo(()=>j,Object.values(j));return c.jsx(S.Provider,{value:w,children:b})};m.displayName=a+"Provider";function h(v,x){var S;const b=((S=x==null?void 0:x[e])==null?void 0:S[p])||d,j=g.useContext(b);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[m,h]}const i=()=>{const a=n.map(u=>g.createContext(u));return function(d){const p=(d==null?void 0:d[e])||a;return g.useMemo(()=>({[`__scope${e}`]:{...d,[e]:p}}),[d,p])}};return i.scopeName=e,[s,b5(i,...t)]}function b5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=s.reduce((d,{useScope:p,scopeName:m})=>{const v=p(a)[`__scope${m}`];return{...d,...v}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var mt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},C5=L1[" useId ".trim().toString()]||(()=>{}),_5=0;function Vr(e){const[t,n]=g.useState(C5());return mt(()=>{n(s=>s??String(_5++))},[e]),e||(t?`radix-${t}`:"")}var S5=L1[" useInsertionEffect ".trim().toString()]||mt;function Fo({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,u]=N5({defaultProp:t,onChange:n}),d=e!==void 0,p=d?e:i;{const h=g.useRef(e!==void 0);g.useEffect(()=>{const v=h.current;v!==d&&console.warn(`${s} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=d},[d,s])}const m=g.useCallback(h=>{var v;if(d){const x=j5(h)?h(e):h;x!==e&&((v=u.current)==null||v.call(u,x))}else a(h)},[d,e,a,u]);return[p,m]}function N5({defaultProp:e,onChange:t}){const[n,s]=g.useState(e),i=g.useRef(n),a=g.useRef(t);return S5(()=>{a.current=t},[t]),g.useEffect(()=>{var u;i.current!==n&&((u=a.current)==null||u.call(a,n),i.current=n)},[n,i]),[n,s,a]}function j5(e){return typeof e=="function"}var li=F1();const E5=ai(li);function k5(e){const t=P5(e),n=g.forwardRef((s,i)=>{const{children:a,...u}=s,d=g.Children.toArray(a),p=d.find($5);if(p){const m=p.props.children,h=d.map(v=>v===p?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:v);return c.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,h):null})}return c.jsx(t,{...u,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function P5(e){const t=g.forwardRef((n,s)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const u=O5(i),d=T5(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Yn(s,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var R5=Symbol("radix.slottable");function $5(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===R5}function T5(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const p=a(...d);return i(...d),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function O5(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var M5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=M5.reduce((e,t)=>{const n=k5(`Primitive.${t}`),s=g.forwardRef((i,a)=>{const{asChild:u,...d}=i,p=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(p,{...d,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function z1(e,t){e&&li.flushSync(()=>e.dispatchEvent(t))}function lr(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function A5(e,t=globalThis==null?void 0:globalThis.document){const n=lr(e);g.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var I5="DismissableLayer",kf="dismissableLayer.update",D5="dismissableLayer.pointerDownOutside",L5="dismissableLayer.focusOutside",qg,V1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ci=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...p}=e,m=g.useContext(V1),[h,v]=g.useState(null),x=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=g.useState({}),j=Fe(t,$=>v($)),S=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=S.indexOf(w),C=h?S.indexOf(h):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,P=C>=N,k=V5($=>{const L=$.target,K=[...m.branches].some(U=>U.contains(L));!P||K||(i==null||i($),u==null||u($),$.defaultPrevented||d==null||d())},x),R=U5($=>{const L=$.target;[...m.branches].some(U=>U.contains(L))||(a==null||a($),u==null||u($),$.defaultPrevented||d==null||d())},x);return A5($=>{C===m.layers.size-1&&(s==null||s($),!$.defaultPrevented&&d&&($.preventDefault(),d()))},x),g.useEffect(()=>{if(h)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(qg=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),Bg(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=qg)}},[h,x,n,m]),g.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),Bg())},[h,m]),g.useEffect(()=>{const $=()=>b({});return document.addEventListener(kf,$),()=>document.removeEventListener(kf,$)},[]),c.jsx(Oe.div,{...p,ref:j,style:{pointerEvents:E?P?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,R.onFocusCapture),onBlurCapture:be(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,k.onPointerDownCapture)})});ci.displayName=I5;var F5="DismissableLayerBranch",z5=g.forwardRef((e,t)=>{const n=g.useContext(V1),s=g.useRef(null),i=Fe(t,s);return g.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),c.jsx(Oe.div,{...e,ref:i})});z5.displayName=F5;function V5(e,t=globalThis==null?void 0:globalThis.document){const n=lr(e),s=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let p=function(){U1(D5,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=p,t.addEventListener("click",i.current,{once:!0})):p()}else t.removeEventListener("click",i.current);s.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function U5(e,t=globalThis==null?void 0:globalThis.document){const n=lr(e),s=g.useRef(!1);return g.useEffect(()=>{const i=a=>{a.target&&!s.current&&U1(L5,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Bg(){const e=new CustomEvent(kf);document.dispatchEvent(e)}function U1(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?z1(i,a):i.dispatchEvent(a)}var qd="focusScope.autoFocusOnMount",Bd="focusScope.autoFocusOnUnmount",Wg={bubbles:!1,cancelable:!0},H5="FocusScope",lc=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=e,[d,p]=g.useState(null),m=lr(i),h=lr(a),v=g.useRef(null),x=Fe(t,S=>p(S)),b=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let S=function(E){if(b.paused||!d)return;const P=E.target;d.contains(P)?v.current=P:mn(v.current,{select:!0})},w=function(E){if(b.paused||!d)return;const P=E.relatedTarget;P!==null&&(d.contains(P)||mn(v.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const k of E)k.removedNodes.length>0&&mn(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",w);const C=new MutationObserver(N);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",w),C.disconnect()}}},[s,d,b.paused]),g.useEffect(()=>{if(d){Kg.add(b);const S=document.activeElement;if(!d.contains(S)){const N=new CustomEvent(qd,Wg);d.addEventListener(qd,m),d.dispatchEvent(N),N.defaultPrevented||(q5(Z5(H1(d)),{select:!0}),document.activeElement===S&&mn(d))}return()=>{d.removeEventListener(qd,m),setTimeout(()=>{const N=new CustomEvent(Bd,Wg);d.addEventListener(Bd,h),d.dispatchEvent(N),N.defaultPrevented||mn(S??document.body,{select:!0}),d.removeEventListener(Bd,h),Kg.remove(b)},0)}}},[d,m,h,b]);const j=g.useCallback(S=>{if(!n&&!s||b.paused)return;const w=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,N=document.activeElement;if(w&&N){const C=S.currentTarget,[E,P]=B5(C);E&&P?!S.shiftKey&&N===P?(S.preventDefault(),n&&mn(E,{select:!0})):S.shiftKey&&N===E&&(S.preventDefault(),n&&mn(P,{select:!0})):N===C&&S.preventDefault()}},[n,s,b.paused]);return c.jsx(Oe.div,{tabIndex:-1,...u,ref:x,onKeyDown:j})});lc.displayName=H5;function q5(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(mn(s,{select:t}),document.activeElement!==n)return}function B5(e){const t=H1(e),n=Gg(t,e),s=Gg(t.reverse(),e);return[n,s]}function H1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gg(e,t){for(const n of e)if(!W5(n,{upTo:t}))return n}function W5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function G5(e){return e instanceof HTMLInputElement&&"select"in e}function mn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&G5(e)&&t&&e.select()}}var Kg=K5();function K5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Zg(e,t),e.unshift(t)},remove(t){var n;e=Zg(e,t),(n=e[0])==null||n.resume()}}}function Zg(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Z5(e){return e.filter(t=>t.tagName!=="A")}var Y5="Portal",ui=g.forwardRef((e,t)=>{var d;const{container:n,...s}=e,[i,a]=g.useState(!1);mt(()=>a(!0),[]);const u=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?E5.createPortal(c.jsx(Oe.div,{...s,ref:t}),u):null});ui.displayName=Y5;function J5(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var fr=e=>{const{present:t,children:n}=e,s=X5(t),i=typeof n=="function"?n({present:s.isPresent}):g.Children.only(n),a=Fe(s.ref,Q5(i));return typeof n=="function"||s.isPresent?g.cloneElement(i,{ref:a}):null};fr.displayName="Presence";function X5(e){const[t,n]=g.useState(),s=g.useRef(null),i=g.useRef(e),a=g.useRef("none"),u=e?"mounted":"unmounted",[d,p]=J5(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const m=Pa(s.current);a.current=d==="mounted"?m:"none"},[d]),mt(()=>{const m=s.current,h=i.current;if(h!==e){const x=a.current,b=Pa(m);e?p("MOUNT"):b==="none"||(m==null?void 0:m.display)==="none"?p("UNMOUNT"):p(h&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,p]),mt(()=>{if(t){let m;const h=t.ownerDocument.defaultView??window,v=b=>{const S=Pa(s.current).includes(CSS.escape(b.animationName));if(b.target===t&&S&&(p("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",m=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},x=b=>{b.target===t&&(a.current=Pa(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{h.clearTimeout(m),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:g.useCallback(m=>{s.current=m?getComputedStyle(m):null,n(m)},[])}}function Pa(e){return(e==null?void 0:e.animationName)||"none"}function Q5(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wd=0;function rp(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yg()),document.body.insertAdjacentElement("beforeend",e[1]??Yg()),Wd++,()=>{Wd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wd--}},[])}function Yg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Cr=function(){return Cr=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Cr.apply(this,arguments)};function q1(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function eC(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Pl="right-scroll-bar-position",Rl="width-before-scroll-bar",tC="with-scroll-bars-hidden",rC="--removed-body-scroll-bar-size";function Gd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nC(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var oC=typeof window<"u"?g.useLayoutEffect:g.useEffect,Jg=new WeakMap;function sC(e,t){var n=nC(null,function(s){return e.forEach(function(i){return Gd(i,s)})});return oC(function(){var s=Jg.get(n);if(s){var i=new Set(s),a=new Set(e),u=n.current;i.forEach(function(d){a.has(d)||Gd(d,null)}),a.forEach(function(d){i.has(d)||Gd(d,u)})}Jg.set(n,e)},[e]),n}function iC(e){return e}function aC(e,t){t===void 0&&(t=iC);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var u=t(a,s);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(s=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){s=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(a),u=n}var p=function(){var h=u;u=[],h.forEach(a)},m=function(){return Promise.resolve().then(p)};m(),n={push:function(h){u.push(h),m()},filter:function(h){return u=u.filter(h),n}}}};return i}function lC(e){e===void 0&&(e={});var t=aC(null);return t.options=Cr({async:!0,ssr:!1},e),t}var B1=function(e){var t=e.sideCar,n=q1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,Cr({},n))};B1.isSideCarExport=!0;function cC(e,t){return e.useMedium(t),B1}var W1=lC(),Kd=function(){},cc=g.forwardRef(function(e,t){var n=g.useRef(null),s=g.useState({onScrollCapture:Kd,onWheelCapture:Kd,onTouchMoveCapture:Kd}),i=s[0],a=s[1],u=e.forwardProps,d=e.children,p=e.className,m=e.removeScrollBar,h=e.enabled,v=e.shards,x=e.sideCar,b=e.noRelative,j=e.noIsolation,S=e.inert,w=e.allowPinchZoom,N=e.as,C=N===void 0?"div":N,E=e.gapMode,P=q1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=x,R=sC([n,t]),$=Cr(Cr({},P),i);return g.createElement(g.Fragment,null,h&&g.createElement(k,{sideCar:W1,removeScrollBar:m,shards:v,noRelative:b,noIsolation:j,inert:S,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:E}),u?g.cloneElement(g.Children.only(d),Cr(Cr({},$),{ref:R})):g.createElement(C,Cr({},$,{className:p,ref:R}),d))});cc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cc.classNames={fullWidth:Rl,zeroRight:Pl};var uC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dC(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=uC();return t&&e.setAttribute("nonce",t),e}function fC(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pC(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mC=function(){var e=0,t=null;return{add:function(n){e==0&&(t=dC())&&(fC(t,n),pC(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hC=function(){var e=mC();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},G1=function(){var e=hC(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},gC={left:0,top:0,right:0,gap:0},Zd=function(e){return parseInt(e||"",10)||0},yC=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Zd(n),Zd(s),Zd(i)]},vC=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gC;var t=yC(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},xC=G1(),Ao="data-scroll-locked",wC=function(e,t,n,s){var i=e.left,a=e.top,u=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(tC,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Ao,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pl,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Rl,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Pl," .").concat(Pl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Rl," .").concat(Rl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ao,`] {
    `).concat(rC,": ").concat(d,`px;
  }
`)},Xg=function(){var e=parseInt(document.body.getAttribute(Ao)||"0",10);return isFinite(e)?e:0},bC=function(){g.useEffect(function(){return document.body.setAttribute(Ao,(Xg()+1).toString()),function(){var e=Xg()-1;e<=0?document.body.removeAttribute(Ao):document.body.setAttribute(Ao,e.toString())}},[])},CC=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;bC();var a=g.useMemo(function(){return vC(i)},[i]);return g.createElement(xC,{styles:wC(a,!t,i,n?"":"!important")})},Pf=!1;if(typeof window<"u")try{var Ra=Object.defineProperty({},"passive",{get:function(){return Pf=!0,!0}});window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Pf=!1}var jo=Pf?{passive:!1}:!1,_C=function(e){return e.tagName==="TEXTAREA"},K1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!_C(e)&&n[t]==="visible")},SC=function(e){return K1(e,"overflowY")},NC=function(e){return K1(e,"overflowX")},Qg=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=Z1(e,s);if(i){var a=Y1(e,s),u=a[1],d=a[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},jC=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},EC=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},Z1=function(e,t){return e==="v"?SC(t):NC(t)},Y1=function(e,t){return e==="v"?jC(t):EC(t)},kC=function(e,t){return e==="h"&&t==="rtl"?-1:1},PC=function(e,t,n,s,i){var a=kC(e,window.getComputedStyle(t).direction),u=a*s,d=n.target,p=t.contains(d),m=!1,h=u>0,v=0,x=0;do{if(!d)break;var b=Y1(e,d),j=b[0],S=b[1],w=b[2],N=S-w-a*j;(j||N)&&Z1(e,d)&&(v+=N,x+=j);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!p&&d!==document.body||p&&(t.contains(d)||t===d));return(h&&Math.abs(v)<1||!h&&Math.abs(x)<1)&&(m=!0),m},$a=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},e0=function(e){return[e.deltaX,e.deltaY]},t0=function(e){return e&&"current"in e?e.current:e},RC=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$C=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},TC=0,Eo=[];function OC(e){var t=g.useRef([]),n=g.useRef([0,0]),s=g.useRef(),i=g.useState(TC++)[0],a=g.useState(G1)[0],u=g.useRef(e);g.useEffect(function(){u.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var S=eC([e.lockRef.current],(e.shards||[]).map(t0),!0).filter(Boolean);return S.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=g.useCallback(function(S,w){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!u.current.allowPinchZoom;var N=$a(S),C=n.current,E="deltaX"in S?S.deltaX:C[0]-N[0],P="deltaY"in S?S.deltaY:C[1]-N[1],k,R=S.target,$=Math.abs(E)>Math.abs(P)?"h":"v";if("touches"in S&&$==="h"&&R.type==="range")return!1;var L=window.getSelection(),K=L&&L.anchorNode,U=K?K===R||K.contains(R):!1;if(U)return!1;var G=Qg($,R);if(!G)return!0;if(G?k=$:(k=$==="v"?"h":"v",G=Qg($,R)),!G)return!1;if(!s.current&&"changedTouches"in S&&(E||P)&&(s.current=k),!k)return!0;var te=s.current||k;return PC(te,w,S,te==="h"?E:P)},[]),p=g.useCallback(function(S){var w=S;if(!(!Eo.length||Eo[Eo.length-1]!==a)){var N="deltaY"in w?e0(w):$a(w),C=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&RC(k.delta,N)})[0];if(C&&C.should){w.cancelable&&w.preventDefault();return}if(!C){var E=(u.current.shards||[]).map(t0).filter(Boolean).filter(function(k){return k.contains(w.target)}),P=E.length>0?d(w,E[0]):!u.current.noIsolation;P&&w.cancelable&&w.preventDefault()}}},[]),m=g.useCallback(function(S,w,N,C){var E={name:S,delta:w,target:N,should:C,shadowParent:MC(N)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(P){return P!==E})},1)},[]),h=g.useCallback(function(S){n.current=$a(S),s.current=void 0},[]),v=g.useCallback(function(S){m(S.type,e0(S),S.target,d(S,e.lockRef.current))},[]),x=g.useCallback(function(S){m(S.type,$a(S),S.target,d(S,e.lockRef.current))},[]);g.useEffect(function(){return Eo.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",p,jo),document.addEventListener("touchmove",p,jo),document.addEventListener("touchstart",h,jo),function(){Eo=Eo.filter(function(S){return S!==a}),document.removeEventListener("wheel",p,jo),document.removeEventListener("touchmove",p,jo),document.removeEventListener("touchstart",h,jo)}},[]);var b=e.removeScrollBar,j=e.inert;return g.createElement(g.Fragment,null,j?g.createElement(a,{styles:$C(i)}):null,b?g.createElement(CC,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function MC(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const AC=cC(W1,OC);var uc=g.forwardRef(function(e,t){return g.createElement(cc,Cr({},e,{ref:t,sideCar:AC}))});uc.classNames=cc.classNames;var IC=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ko=new WeakMap,Ta=new WeakMap,Oa={},Yd=0,J1=function(e){return e&&(e.host||J1(e.parentNode))},DC=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=J1(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},LC=function(e,t,n,s){var i=DC(t,Array.isArray(e)?e:[e]);Oa[n]||(Oa[n]=new WeakMap);var a=Oa[n],u=[],d=new Set,p=new Set(i),m=function(v){!v||d.has(v)||(d.add(v),m(v.parentNode))};i.forEach(m);var h=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(x){if(d.has(x))h(x);else try{var b=x.getAttribute(s),j=b!==null&&b!=="false",S=(ko.get(x)||0)+1,w=(a.get(x)||0)+1;ko.set(x,S),a.set(x,w),u.push(x),S===1&&j&&Ta.set(x,!0),w===1&&x.setAttribute(n,"true"),j||x.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return h(t),d.clear(),Yd++,function(){u.forEach(function(v){var x=ko.get(v)-1,b=a.get(v)-1;ko.set(v,x),a.set(v,b),x||(Ta.has(v)||v.removeAttribute(s),Ta.delete(v)),b||v.removeAttribute(n)}),Yd--,Yd||(ko=new WeakMap,ko=new WeakMap,Ta=new WeakMap,Oa={})}},np=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=IC(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),LC(s,i,n,"aria-hidden")):function(){return null}};function FC(e){const t=zC(e),n=g.forwardRef((s,i)=>{const{children:a,...u}=s,d=g.Children.toArray(a),p=d.find(UC);if(p){const m=p.props.children,h=d.map(v=>v===p?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:v);return c.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,h):null})}return c.jsx(t,{...u,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function zC(e){const t=g.forwardRef((n,s)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const u=qC(i),d=HC(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Yn(s,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VC=Symbol("radix.slottable");function UC(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VC}function HC(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const p=a(...d);return i(...d),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function qC(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var dc="Dialog",[X1]=Br(dc),[BC,pr]=X1(dc),Q1=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:u=!0}=e,d=g.useRef(null),p=g.useRef(null),[m,h]=Fo({prop:s,defaultProp:i??!1,onChange:a,caller:dc});return c.jsx(BC,{scope:t,triggerRef:d,contentRef:p,contentId:Vr(),titleId:Vr(),descriptionId:Vr(),open:m,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(v=>!v),[h]),modal:u,children:n})};Q1.displayName=dc;var ev="DialogTrigger",tv=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=pr(ev,n),a=Fe(t,i.triggerRef);return c.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ip(i.open),...s,ref:a,onClick:be(e.onClick,i.onOpenToggle)})});tv.displayName=ev;var op="DialogPortal",[WC,rv]=X1(op,{forceMount:void 0}),nv=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=pr(op,t);return c.jsx(WC,{scope:t,forceMount:n,children:g.Children.map(s,u=>c.jsx(fr,{present:n||a.open,children:c.jsx(ui,{asChild:!0,container:i,children:u})}))})};nv.displayName=op;var Ll="DialogOverlay",ov=g.forwardRef((e,t)=>{const n=rv(Ll,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=pr(Ll,e.__scopeDialog);return a.modal?c.jsx(fr,{present:s||a.open,children:c.jsx(KC,{...i,ref:t})}):null});ov.displayName=Ll;var GC=FC("DialogOverlay.RemoveScroll"),KC=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=pr(Ll,n);return c.jsx(uc,{as:GC,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Oe.div,{"data-state":ip(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Un="DialogContent",sv=g.forwardRef((e,t)=>{const n=rv(Un,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=pr(Un,e.__scopeDialog);return c.jsx(fr,{present:s||a.open,children:a.modal?c.jsx(ZC,{...i,ref:t}):c.jsx(YC,{...i,ref:t})})});sv.displayName=Un;var ZC=g.forwardRef((e,t)=>{const n=pr(Un,e.__scopeDialog),s=g.useRef(null),i=Fe(t,n.contentRef,s);return g.useEffect(()=>{const a=s.current;if(a)return np(a)},[]),c.jsx(iv,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:be(e.onFocusOutside,a=>a.preventDefault())})}),YC=g.forwardRef((e,t)=>{const n=pr(Un,e.__scopeDialog),s=g.useRef(!1),i=g.useRef(!1);return c.jsx(iv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,d;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var p,m;(p=e.onInteractOutside)==null||p.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;((m=n.triggerRef.current)==null?void 0:m.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),iv=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=e,d=pr(Un,n),p=g.useRef(null),m=Fe(t,p);return rp(),c.jsxs(c.Fragment,{children:[c.jsx(lc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(ci,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":ip(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(JC,{titleId:d.titleId}),c.jsx(QC,{contentRef:p,descriptionId:d.descriptionId})]})]})}),sp="DialogTitle",av=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=pr(sp,n);return c.jsx(Oe.h2,{id:i.titleId,...s,ref:t})});av.displayName=sp;var lv="DialogDescription",cv=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=pr(lv,n);return c.jsx(Oe.p,{id:i.descriptionId,...s,ref:t})});cv.displayName=lv;var uv="DialogClose",dv=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=pr(uv,n);return c.jsx(Oe.button,{type:"button",...s,ref:t,onClick:be(e.onClick,()=>i.onOpenChange(!1))})});dv.displayName=uv;function ip(e){return e?"open":"closed"}var fv="DialogTitleWarning",[hP,pv]=w5(fv,{contentName:Un,titleName:sp,docsSlug:"dialog"}),JC=({titleId:e})=>{const t=pv(fv),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},XC="DialogDescriptionWarning",QC=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pv(XC).contentName}}.`;return g.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},mv=Q1,e9=tv,hv=nv,gv=ov,yv=sv,vv=av,xv=cv,wv=dv;function Pe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var t9=["color"],bv=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,t9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M6.85355 3.14645C7.04882 3.34171 7.04882 3.65829 6.85355 3.85355L3.70711 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H3.70711L6.85355 11.1464C7.04882 11.3417 7.04882 11.6583 6.85355 11.8536C6.65829 12.0488 6.34171 12.0488 6.14645 11.8536L2.14645 7.85355C1.95118 7.65829 1.95118 7.34171 2.14645 7.14645L6.14645 3.14645C6.34171 2.95118 6.65829 2.95118 6.85355 3.14645Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),r9=["color"],n9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,r9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M8.60124 1.25086C8.60124 1.75459 8.26278 2.17927 7.80087 2.30989C10.1459 2.4647 12 4.41582 12 6.79999V10.25C12 11.0563 12.0329 11.7074 12.7236 12.0528C12.931 12.1565 13.0399 12.3892 12.9866 12.6149C12.9333 12.8406 12.7319 13 12.5 13H8.16144C8.36904 13.1832 8.49997 13.4513 8.49997 13.75C8.49997 14.3023 8.05226 14.75 7.49997 14.75C6.94769 14.75 6.49997 14.3023 6.49997 13.75C6.49997 13.4513 6.63091 13.1832 6.83851 13H2.49999C2.2681 13 2.06664 12.8406 2.01336 12.6149C1.96009 12.3892 2.06897 12.1565 2.27638 12.0528C2.96708 11.7074 2.99999 11.0563 2.99999 10.25V6.79999C2.99999 4.41537 4.85481 2.46396 7.20042 2.3098C6.73867 2.17908 6.40036 1.75448 6.40036 1.25086C6.40036 0.643104 6.89304 0.150421 7.5008 0.150421C8.10855 0.150421 8.60124 0.643104 8.60124 1.25086ZM7.49999 3.29999C5.56699 3.29999 3.99999 4.86699 3.99999 6.79999V10.25L4.00002 10.3009C4.0005 10.7463 4.00121 11.4084 3.69929 12H11.3007C10.9988 11.4084 10.9995 10.7463 11 10.3009L11 10.25V6.79999C11 4.86699 9.43299 3.29999 7.49999 3.29999Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),o9=["color"],Hn=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,o9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),s9=["color"],Fl=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,s9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),i9=["color"],St=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,i9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),a9=["color"],qn=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,a9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),l9=["color"],fc=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,l9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),c9=["color"],r0=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,c9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M0.877075 7.49991C0.877075 3.84222 3.84222 0.877075 7.49991 0.877075C11.1576 0.877075 14.1227 3.84222 14.1227 7.49991C14.1227 11.1576 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1576 0.877075 7.49991ZM7.49991 1.82708C4.36689 1.82708 1.82708 4.36689 1.82708 7.49991C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49991C13.1727 4.36689 10.6329 1.82708 7.49991 1.82708Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),u9=["color"],Cv=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,u9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M7.50009 0.877014C3.84241 0.877014 0.877258 3.84216 0.877258 7.49984C0.877258 11.1575 3.8424 14.1227 7.50009 14.1227C11.1578 14.1227 14.1229 11.1575 14.1229 7.49984C14.1229 3.84216 11.1577 0.877014 7.50009 0.877014ZM1.82726 7.49984C1.82726 4.36683 4.36708 1.82701 7.50009 1.82701C10.6331 1.82701 13.1729 4.36683 13.1729 7.49984C13.1729 10.6328 10.6331 13.1727 7.50009 13.1727C4.36708 13.1727 1.82726 10.6328 1.82726 7.49984ZM8 4.50001C8 4.22387 7.77614 4.00001 7.5 4.00001C7.22386 4.00001 7 4.22387 7 4.50001V7.50001C7 7.63262 7.05268 7.7598 7.14645 7.85357L9.14645 9.85357C9.34171 10.0488 9.65829 10.0488 9.85355 9.85357C10.0488 9.65831 10.0488 9.34172 9.85355 9.14646L8 7.29291V4.50001Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),d9=["color"],Rf=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,d9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),f9=["color"],p9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,f9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M7.85367 1.48956C7.65841 1.29429 7.34182 1.29429 7.14656 1.48956L1.48971 7.14641C1.29445 7.34167 1.29445 7.65825 1.48971 7.85352L7.14656 13.5104C7.34182 13.7056 7.65841 13.7056 7.85367 13.5104L13.5105 7.85352C13.7058 7.65825 13.7058 7.34167 13.5105 7.14641L7.85367 1.48956ZM7.5 2.55033L2.55037 7.49996L7.5 12.4496V2.55033Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),m9=["color"],ap=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,m9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),h9=["color"],g9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,h9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),y9=["color"],Bn=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,y9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),v9=["color"],_v=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,v9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704ZM9.85358 5.14644C10.0488 5.3417 10.0488 5.65829 9.85358 5.85355L8.20713 7.49999L9.85358 9.14644C10.0488 9.3417 10.0488 9.65829 9.85358 9.85355C9.65832 10.0488 9.34173 10.0488 9.14647 9.85355L7.50002 8.2071L5.85358 9.85355C5.65832 10.0488 5.34173 10.0488 5.14647 9.85355C4.95121 9.65829 4.95121 9.3417 5.14647 9.14644L6.79292 7.49999L5.14647 5.85355C4.95121 5.65829 4.95121 5.3417 5.14647 5.14644C5.34173 4.95118 5.65832 4.95118 5.85358 5.14644L7.50002 6.79289L9.14647 5.14644C9.34173 4.95118 9.65832 4.95118 9.85358 5.14644Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),x9=["color"],w9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,x9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M2 2.5C2 2.22386 2.22386 2 2.5 2H5.5C5.77614 2 6 2.22386 6 2.5C6 2.77614 5.77614 3 5.5 3H3V5.5C3 5.77614 2.77614 6 2.5 6C2.22386 6 2 5.77614 2 5.5V2.5ZM9 2.5C9 2.22386 9.22386 2 9.5 2H12.5C12.7761 2 13 2.22386 13 2.5V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3H9.5C9.22386 3 9 2.77614 9 2.5ZM2.5 9C2.77614 9 3 9.22386 3 9.5V12H5.5C5.77614 12 6 12.2239 6 12.5C6 12.7761 5.77614 13 5.5 13H2.5C2.22386 13 2 12.7761 2 12.5V9.5C2 9.22386 2.22386 9 2.5 9ZM12.5 9C12.7761 9 13 9.22386 13 9.5V12.5C13 12.7761 12.7761 13 12.5 13H9.5C9.22386 13 9 12.7761 9 12.5C9 12.2239 9.22386 12 9.5 12H12V9.5C12 9.22386 12.2239 9 12.5 9Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),b9=["color"],_r=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,b9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),C9=["color"],_9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,C9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M5.5 2C5.77614 2 6 2.22386 6 2.5V5.5C6 5.77614 5.77614 6 5.5 6H2.5C2.22386 6 2 5.77614 2 5.5C2 5.22386 2.22386 5 2.5 5H5V2.5C5 2.22386 5.22386 2 5.5 2ZM9.5 2C9.77614 2 10 2.22386 10 2.5V5H12.5C12.7761 5 13 5.22386 13 5.5C13 5.77614 12.7761 6 12.5 6H9.5C9.22386 6 9 5.77614 9 5.5V2.5C9 2.22386 9.22386 2 9.5 2ZM2 9.5C2 9.22386 2.22386 9 2.5 9H5.5C5.77614 9 6 9.22386 6 9.5V12.5C6 12.7761 5.77614 13 5.5 13C5.22386 13 5 12.7761 5 12.5V10H2.5C2.22386 10 2 9.77614 2 9.5ZM9 9.5C9 9.22386 9.22386 9 9.5 9H12.5C12.7761 9 13 9.22386 13 9.5C13 9.77614 12.7761 10 12.5 10H10V12.5C10 12.7761 9.77614 13 9.5 13C9.22386 13 9 12.7761 9 12.5V9.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),S9=["color"],lp=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,S9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M3 2C2.44772 2 2 2.44772 2 3V12C2 12.5523 2.44772 13 3 13H12C12.5523 13 13 12.5523 13 12V8.5C13 8.22386 12.7761 8 12.5 8C12.2239 8 12 8.22386 12 8.5V12H3V3L6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2H3ZM12.8536 2.14645C12.9015 2.19439 12.9377 2.24964 12.9621 2.30861C12.9861 2.36669 12.9996 2.4303 13 2.497L13 2.5V2.50049V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3.70711L6.85355 8.85355C6.65829 9.04882 6.34171 9.04882 6.14645 8.85355C5.95118 8.65829 5.95118 8.34171 6.14645 8.14645L11.2929 3H9.5C9.22386 3 9 2.77614 9 2.5C9 2.22386 9.22386 2 9.5 2H12.4999H12.5C12.5678 2 12.6324 2.01349 12.6914 2.03794C12.7504 2.06234 12.8056 2.09851 12.8536 2.14645Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),N9=["color"],j9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,N9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),E9=["color"],$f=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,E9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M3.5 2C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V6H8.5C8.22386 6 8 5.77614 8 5.5V2H3.5ZM9 2.70711L11.2929 5H9V2.70711ZM2 2.5C2 1.67157 2.67157 1 3.5 1H8.5C8.63261 1 8.75979 1.05268 8.85355 1.14645L12.8536 5.14645C12.9473 5.24021 13 5.36739 13 5.5V12.5C13 13.3284 12.3284 14 11.5 14H3.5C2.67157 14 2 13.3284 2 12.5V2.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),k9=["color"],cp=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,k9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M3 2.5C3 2.22386 3.22386 2 3.5 2H9.08579C9.21839 2 9.34557 2.05268 9.43934 2.14645L11.8536 4.56066C11.9473 4.65443 12 4.78161 12 4.91421V12.5C12 12.7761 11.7761 13 11.5 13H3.5C3.22386 13 3 12.7761 3 12.5V2.5ZM3.5 1C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V4.91421C13 4.51639 12.842 4.13486 12.5607 3.85355L10.1464 1.43934C9.86514 1.15804 9.48361 1 9.08579 1H3.5ZM4.5 4C4.22386 4 4 4.22386 4 4.5C4 4.77614 4.22386 5 4.5 5H7.5C7.77614 5 8 4.77614 8 4.5C8 4.22386 7.77614 4 7.5 4H4.5ZM4.5 7C4.22386 7 4 7.22386 4 7.5C4 7.77614 4.22386 8 4.5 8H10.5C10.7761 8 11 7.77614 11 7.5C11 7.22386 10.7761 7 10.5 7H4.5ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H10.5C10.7761 11 11 10.7761 11 10.5C11 10.2239 10.7761 10 10.5 10H4.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),P9=["color"],Tf=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,P9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M7.49996 1.80002C4.35194 1.80002 1.79996 4.352 1.79996 7.50002C1.79996 10.648 4.35194 13.2 7.49996 13.2C10.648 13.2 13.2 10.648 13.2 7.50002C13.2 4.352 10.648 1.80002 7.49996 1.80002ZM0.899963 7.50002C0.899963 3.85494 3.85488 0.900024 7.49996 0.900024C11.145 0.900024 14.1 3.85494 14.1 7.50002C14.1 11.1451 11.145 14.1 7.49996 14.1C3.85488 14.1 0.899963 11.1451 0.899963 7.50002Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}),g.createElement("path",{d:"M13.4999 7.89998H1.49994V7.09998H13.4999V7.89998Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}),g.createElement("path",{d:"M7.09991 13.5V1.5H7.89991V13.5H7.09991zM10.375 7.49998C10.375 5.32724 9.59364 3.17778 8.06183 1.75656L8.53793 1.24341C10.2396 2.82218 11.075 5.17273 11.075 7.49998 11.075 9.82724 10.2396 12.1778 8.53793 13.7566L8.06183 13.2434C9.59364 11.8222 10.375 9.67273 10.375 7.49998zM3.99969 7.5C3.99969 5.17611 4.80786 2.82678 6.45768 1.24719L6.94177 1.75281C5.4582 3.17323 4.69969 5.32389 4.69969 7.5 4.6997 9.67611 5.45822 11.8268 6.94179 13.2472L6.45769 13.7528C4.80788 12.1732 3.9997 9.8239 3.99969 7.5z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}),g.createElement("path",{d:"M7.49996 3.95801C9.66928 3.95801 11.8753 4.35915 13.3706 5.19448 13.5394 5.28875 13.5998 5.50197 13.5055 5.67073 13.4113 5.83948 13.198 5.89987 13.0293 5.8056 11.6794 5.05155 9.60799 4.65801 7.49996 4.65801 5.39192 4.65801 3.32052 5.05155 1.97064 5.8056 1.80188 5.89987 1.58866 5.83948 1.49439 5.67073 1.40013 5.50197 1.46051 5.28875 1.62927 5.19448 3.12466 4.35915 5.33063 3.95801 7.49996 3.95801zM7.49996 10.85C9.66928 10.85 11.8753 10.4488 13.3706 9.6135 13.5394 9.51924 13.5998 9.30601 13.5055 9.13726 13.4113 8.9685 13.198 8.90812 13.0293 9.00238 11.6794 9.75643 9.60799 10.15 7.49996 10.15 5.39192 10.15 3.32052 9.75643 1.97064 9.00239 1.80188 8.90812 1.58866 8.9685 1.49439 9.13726 1.40013 9.30601 1.46051 9.51924 1.62927 9.6135 3.12466 10.4488 5.33063 10.85 7.49996 10.85z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),R9=["color"],$9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,R9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),T9=["color"],Nr=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,T9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),O9=["color"],M9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,O9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),A9=["color"],n0=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,A9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),I9=["color"],Sv=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,I9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),D9=["color"],Nv=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,D9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M5.5 3C4.67157 3 4 3.67157 4 4.5C4 5.32843 4.67157 6 5.5 6C6.32843 6 7 5.32843 7 4.5C7 3.67157 6.32843 3 5.5 3ZM3 5C3.01671 5 3.03323 4.99918 3.04952 4.99758C3.28022 6.1399 4.28967 7 5.5 7C6.71033 7 7.71978 6.1399 7.95048 4.99758C7.96677 4.99918 7.98329 5 8 5H13.5C13.7761 5 14 4.77614 14 4.5C14 4.22386 13.7761 4 13.5 4H8C7.98329 4 7.96677 4.00082 7.95048 4.00242C7.71978 2.86009 6.71033 2 5.5 2C4.28967 2 3.28022 2.86009 3.04952 4.00242C3.03323 4.00082 3.01671 4 3 4H1.5C1.22386 4 1 4.22386 1 4.5C1 4.77614 1.22386 5 1.5 5H3ZM11.9505 10.9976C11.7198 12.1399 10.7103 13 9.5 13C8.28967 13 7.28022 12.1399 7.04952 10.9976C7.03323 10.9992 7.01671 11 7 11H1.5C1.22386 11 1 10.7761 1 10.5C1 10.2239 1.22386 10 1.5 10H7C7.01671 10 7.03323 10.0008 7.04952 10.0024C7.28022 8.8601 8.28967 8 9.5 8C10.7103 8 11.7198 8.8601 11.9505 10.0024C11.9668 10.0008 11.9833 10 12 10H13.5C13.7761 10 14 10.2239 14 10.5C14 10.7761 13.7761 11 13.5 11H12C11.9833 11 11.9668 10.9992 11.9505 10.9976ZM8 10.5C8 9.67157 8.67157 9 9.5 9C10.3284 9 11 9.67157 11 10.5C11 11.3284 10.3284 12 9.5 12C8.67157 12 8 11.3284 8 10.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),L9=["color"],F9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,L9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M2.89998 0.499976C2.89998 0.279062 2.72089 0.0999756 2.49998 0.0999756C2.27906 0.0999756 2.09998 0.279062 2.09998 0.499976V1.09998H1.49998C1.27906 1.09998 1.09998 1.27906 1.09998 1.49998C1.09998 1.72089 1.27906 1.89998 1.49998 1.89998H2.09998V2.49998C2.09998 2.72089 2.27906 2.89998 2.49998 2.89998C2.72089 2.89998 2.89998 2.72089 2.89998 2.49998V1.89998H3.49998C3.72089 1.89998 3.89998 1.72089 3.89998 1.49998C3.89998 1.27906 3.72089 1.09998 3.49998 1.09998H2.89998V0.499976ZM5.89998 3.49998C5.89998 3.27906 5.72089 3.09998 5.49998 3.09998C5.27906 3.09998 5.09998 3.27906 5.09998 3.49998V4.09998H4.49998C4.27906 4.09998 4.09998 4.27906 4.09998 4.49998C4.09998 4.72089 4.27906 4.89998 4.49998 4.89998H5.09998V5.49998C5.09998 5.72089 5.27906 5.89998 5.49998 5.89998C5.72089 5.89998 5.89998 5.72089 5.89998 5.49998V4.89998H6.49998C6.72089 4.89998 6.89998 4.72089 6.89998 4.49998C6.89998 4.27906 6.72089 4.09998 6.49998 4.09998H5.89998V3.49998ZM1.89998 6.49998C1.89998 6.27906 1.72089 6.09998 1.49998 6.09998C1.27906 6.09998 1.09998 6.27906 1.09998 6.49998V7.09998H0.499976C0.279062 7.09998 0.0999756 7.27906 0.0999756 7.49998C0.0999756 7.72089 0.279062 7.89998 0.499976 7.89998H1.09998V8.49998C1.09998 8.72089 1.27906 8.89997 1.49998 8.89997C1.72089 8.89997 1.89998 8.72089 1.89998 8.49998V7.89998H2.49998C2.72089 7.89998 2.89998 7.72089 2.89998 7.49998C2.89998 7.27906 2.72089 7.09998 2.49998 7.09998H1.89998V6.49998ZM8.54406 0.98184L8.24618 0.941586C8.03275 0.917676 7.90692 1.1655 8.02936 1.34194C8.17013 1.54479 8.29981 1.75592 8.41754 1.97445C8.91878 2.90485 9.20322 3.96932 9.20322 5.10022C9.20322 8.37201 6.82247 11.0878 3.69887 11.6097C3.45736 11.65 3.20988 11.6772 2.96008 11.6906C2.74563 11.702 2.62729 11.9535 2.77721 12.1072C2.84551 12.1773 2.91535 12.2458 2.98667 12.3128L3.05883 12.3795L3.31883 12.6045L3.50684 12.7532L3.62796 12.8433L3.81491 12.9742L3.99079 13.089C4.11175 13.1651 4.23536 13.2375 4.36157 13.3059L4.62496 13.4412L4.88553 13.5607L5.18837 13.6828L5.43169 13.7686C5.56564 13.8128 5.70149 13.8529 5.83857 13.8885C5.94262 13.9155 6.04767 13.9401 6.15405 13.9622C6.27993 13.9883 6.40713 14.0109 6.53544 14.0298L6.85241 14.0685L7.11934 14.0892C7.24637 14.0965 7.37436 14.1002 7.50322 14.1002C11.1483 14.1002 14.1032 11.1453 14.1032 7.50023C14.1032 7.25044 14.0893 7.00389 14.0623 6.76131L14.0255 6.48407C13.991 6.26083 13.9453 6.04129 13.8891 5.82642C13.8213 5.56709 13.7382 5.31398 13.6409 5.06881L13.5279 4.80132L13.4507 4.63542L13.3766 4.48666C13.2178 4.17773 13.0353 3.88295 12.8312 3.60423L12.6782 3.40352L12.4793 3.16432L12.3157 2.98361L12.1961 2.85951L12.0355 2.70246L11.8134 2.50184L11.4925 2.24191L11.2483 2.06498L10.9562 1.87446L10.6346 1.68894L10.3073 1.52378L10.1938 1.47176L9.95488 1.3706L9.67791 1.2669L9.42566 1.1846L9.10075 1.09489L8.83599 1.03486L8.54406 0.98184ZM10.4032 5.30023C10.4032 4.27588 10.2002 3.29829 9.83244 2.40604C11.7623 3.28995 13.1032 5.23862 13.1032 7.50023C13.1032 10.593 10.596 13.1002 7.50322 13.1002C6.63646 13.1002 5.81597 12.9036 5.08355 12.5522C6.5419 12.0941 7.81081 11.2082 8.74322 10.0416C8.87963 10.2284 9.10028 10.3497 9.34928 10.3497C9.76349 10.3497 10.0993 10.0139 10.0993 9.59971C10.0993 9.24256 9.84965 8.94373 9.51535 8.86816C9.57741 8.75165 9.63653 8.63334 9.6926 8.51332C9.88358 8.63163 10.1088 8.69993 10.35 8.69993C11.0403 8.69993 11.6 8.14028 11.6 7.44993C11.6 6.75976 11.0406 6.20024 10.3505 6.19993C10.3853 5.90487 10.4032 5.60464 10.4032 5.30023Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),z9=["color"],V9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,z9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),U9=["color"],o0=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,U9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M12.1464 1.14645C12.3417 0.951184 12.6583 0.951184 12.8535 1.14645L14.8535 3.14645C15.0488 3.34171 15.0488 3.65829 14.8535 3.85355L10.9109 7.79618C10.8349 7.87218 10.7471 7.93543 10.651 7.9835L6.72359 9.94721C6.53109 10.0435 6.29861 10.0057 6.14643 9.85355C5.99425 9.70137 5.95652 9.46889 6.05277 9.27639L8.01648 5.34897C8.06455 5.25283 8.1278 5.16507 8.2038 5.08907L12.1464 1.14645ZM12.5 2.20711L8.91091 5.79618L7.87266 7.87267L8.12731 8.12732L10.2038 7.08907L13.7929 3.5L12.5 2.20711ZM9.99998 2L8.99998 3H4.9C4.47171 3 4.18056 3.00039 3.95552 3.01877C3.73631 3.03668 3.62421 3.06915 3.54601 3.10899C3.35785 3.20487 3.20487 3.35785 3.10899 3.54601C3.06915 3.62421 3.03669 3.73631 3.01878 3.95552C3.00039 4.18056 3 4.47171 3 4.9V11.1C3 11.5283 3.00039 11.8194 3.01878 12.0445C3.03669 12.2637 3.06915 12.3758 3.10899 12.454C3.20487 12.6422 3.35785 12.7951 3.54601 12.891C3.62421 12.9309 3.73631 12.9633 3.95552 12.9812C4.18056 12.9996 4.47171 13 4.9 13H11.1C11.5283 13 11.8194 12.9996 12.0445 12.9812C12.2637 12.9633 12.3758 12.9309 12.454 12.891C12.6422 12.7951 12.7951 12.6422 12.891 12.454C12.9309 12.3758 12.9633 12.2637 12.9812 12.0445C12.9996 11.8194 13 11.5283 13 11.1V6.99998L14 5.99998V11.1V11.1207C14 11.5231 14 11.8553 13.9779 12.1259C13.9549 12.407 13.9057 12.6653 13.782 12.908C13.5903 13.2843 13.2843 13.5903 12.908 13.782C12.6653 13.9057 12.407 13.9549 12.1259 13.9779C11.8553 14 11.5231 14 11.1207 14H11.1H4.9H4.87934C4.47686 14 4.14468 14 3.87409 13.9779C3.59304 13.9549 3.33469 13.9057 3.09202 13.782C2.7157 13.5903 2.40973 13.2843 2.21799 12.908C2.09434 12.6653 2.04506 12.407 2.0221 12.1259C1.99999 11.8553 1.99999 11.5231 2 11.1207V11.1206V11.1V4.9V4.87935V4.87932V4.87931C1.99999 4.47685 1.99999 4.14468 2.0221 3.87409C2.04506 3.59304 2.09434 3.33469 2.21799 3.09202C2.40973 2.71569 2.7157 2.40973 3.09202 2.21799C3.33469 2.09434 3.59304 2.04506 3.87409 2.0221C4.14468 1.99999 4.47685 1.99999 4.87932 2H4.87935H4.9H9.99998Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),H9=["color"],Hs=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,H9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M3.24182 2.32181C3.3919 2.23132 3.5784 2.22601 3.73338 2.30781L12.7334 7.05781C12.8974 7.14436 13 7.31457 13 7.5C13 7.68543 12.8974 7.85564 12.7334 7.94219L3.73338 12.6922C3.5784 12.774 3.3919 12.7687 3.24182 12.6782C3.09175 12.5877 3 12.4252 3 12.25V2.75C3 2.57476 3.09175 2.4123 3.24182 2.32181ZM4 3.57925V11.4207L11.4288 7.5L4 3.57925Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),q9=["color"],zo=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,q9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),B9=["color"],Po=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,B9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M1.84998 7.49998C1.84998 4.66458 4.05979 1.84998 7.49998 1.84998C10.2783 1.84998 11.6515 3.9064 12.2367 5H10.5C10.2239 5 10 5.22386 10 5.5C10 5.77614 10.2239 6 10.5 6H13.5C13.7761 6 14 5.77614 14 5.5V2.5C14 2.22386 13.7761 2 13.5 2C13.2239 2 13 2.22386 13 2.5V4.31318C12.2955 3.07126 10.6659 0.849976 7.49998 0.849976C3.43716 0.849976 0.849976 4.18537 0.849976 7.49998C0.849976 10.8146 3.43716 14.15 7.49998 14.15C9.44382 14.15 11.0622 13.3808 12.2145 12.2084C12.8315 11.5806 13.3133 10.839 13.6418 10.0407C13.7469 9.78536 13.6251 9.49315 13.3698 9.38806C13.1144 9.28296 12.8222 9.40478 12.7171 9.66014C12.4363 10.3425 12.0251 10.9745 11.5013 11.5074C10.5295 12.4963 9.16504 13.15 7.49998 13.15C4.05979 13.15 1.84998 10.3354 1.84998 7.49998Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),W9=["color"],G9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,W9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M4.85355 2.14645C5.04882 2.34171 5.04882 2.65829 4.85355 2.85355L3.70711 4H9C11.4853 4 13.5 6.01472 13.5 8.5C13.5 10.9853 11.4853 13 9 13H5C4.72386 13 4.5 12.7761 4.5 12.5C4.5 12.2239 4.72386 12 5 12H9C10.933 12 12.5 10.433 12.5 8.5C12.5 6.567 10.933 5 9 5H3.70711L4.85355 6.14645C5.04882 6.34171 5.04882 6.65829 4.85355 6.85355C4.65829 7.04882 4.34171 7.04882 4.14645 6.85355L2.14645 4.85355C1.95118 4.65829 1.95118 4.34171 2.14645 4.14645L4.14645 2.14645C4.34171 1.95118 4.65829 1.95118 4.85355 2.14645Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),K9=["color"],Z9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,K9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M11.5 3.04999C11.7485 3.04999 11.95 3.25146 11.95 3.49999V7.49999C11.95 7.74852 11.7485 7.94999 11.5 7.94999C11.2515 7.94999 11.05 7.74852 11.05 7.49999V4.58639L4.58638 11.05H7.49999C7.74852 11.05 7.94999 11.2515 7.94999 11.5C7.94999 11.7485 7.74852 11.95 7.49999 11.95L3.49999 11.95C3.38064 11.95 3.26618 11.9026 3.18179 11.8182C3.0974 11.7338 3.04999 11.6193 3.04999 11.5L3.04999 7.49999C3.04999 7.25146 3.25146 7.04999 3.49999 7.04999C3.74852 7.04999 3.94999 7.25146 3.94999 7.49999L3.94999 10.4136L10.4136 3.94999L7.49999 3.94999C7.25146 3.94999 7.04999 3.74852 7.04999 3.49999C7.04999 3.25146 7.25146 3.04999 7.49999 3.04999L11.5 3.04999Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Y9=["color"],J9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,Y9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M7.5 0C7.77614 0 8 0.223858 8 0.5V2.5C8 2.77614 7.77614 3 7.5 3C7.22386 3 7 2.77614 7 2.5V0.5C7 0.223858 7.22386 0 7.5 0ZM2.1967 2.1967C2.39196 2.00144 2.70854 2.00144 2.90381 2.1967L4.31802 3.61091C4.51328 3.80617 4.51328 4.12276 4.31802 4.31802C4.12276 4.51328 3.80617 4.51328 3.61091 4.31802L2.1967 2.90381C2.00144 2.70854 2.00144 2.39196 2.1967 2.1967ZM0.5 7C0.223858 7 0 7.22386 0 7.5C0 7.77614 0.223858 8 0.5 8H2.5C2.77614 8 3 7.77614 3 7.5C3 7.22386 2.77614 7 2.5 7H0.5ZM2.1967 12.8033C2.00144 12.608 2.00144 12.2915 2.1967 12.0962L3.61091 10.682C3.80617 10.4867 4.12276 10.4867 4.31802 10.682C4.51328 10.8772 4.51328 11.1938 4.31802 11.3891L2.90381 12.8033C2.70854 12.9986 2.39196 12.9986 2.1967 12.8033ZM12.5 7C12.2239 7 12 7.22386 12 7.5C12 7.77614 12.2239 8 12.5 8H14.5C14.7761 8 15 7.77614 15 7.5C15 7.22386 14.7761 7 14.5 7H12.5ZM10.682 4.31802C10.4867 4.12276 10.4867 3.80617 10.682 3.61091L12.0962 2.1967C12.2915 2.00144 12.608 2.00144 12.8033 2.1967C12.9986 2.39196 12.9986 2.70854 12.8033 2.90381L11.3891 4.31802C11.1938 4.51328 10.8772 4.51328 10.682 4.31802ZM8 12.5C8 12.2239 7.77614 12 7.5 12C7.22386 12 7 12.2239 7 12.5V14.5C7 14.7761 7.22386 15 7.5 15C7.77614 15 8 14.7761 8 14.5V12.5ZM10.682 10.682C10.8772 10.4867 11.1938 10.4867 11.3891 10.682L12.8033 12.0962C12.9986 12.2915 12.9986 12.608 12.8033 12.8033C12.608 12.9986 12.2915 12.9986 12.0962 12.8033L10.682 11.3891C10.4867 11.1938 10.4867 10.8772 10.682 10.682ZM5.5 7.5C5.5 6.39543 6.39543 5.5 7.5 5.5C8.60457 5.5 9.5 6.39543 9.5 7.5C9.5 8.60457 8.60457 9.5 7.5 9.5C6.39543 9.5 5.5 8.60457 5.5 7.5ZM7.5 4.5C5.84315 4.5 4.5 5.84315 4.5 7.5C4.5 9.15685 5.84315 10.5 7.5 10.5C9.15685 10.5 10.5 9.15685 10.5 7.5C10.5 5.84315 9.15685 4.5 7.5 4.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),X9=["color"],Q9=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,X9);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M0.900024 7.50002C0.900024 3.85495 3.85495 0.900024 7.50002 0.900024C11.1451 0.900024 14.1 3.85495 14.1 7.50002C14.1 11.1451 11.1451 14.1 7.50002 14.1C3.85495 14.1 0.900024 11.1451 0.900024 7.50002ZM7.50002 1.80002C4.35201 1.80002 1.80002 4.35201 1.80002 7.50002C1.80002 10.648 4.35201 13.2 7.50002 13.2C10.648 13.2 13.2 10.648 13.2 7.50002C13.2 4.35201 10.648 1.80002 7.50002 1.80002ZM3.07504 7.50002C3.07504 5.05617 5.05618 3.07502 7.50004 3.07502C9.94388 3.07502 11.925 5.05617 11.925 7.50002C11.925 9.94386 9.94388 11.925 7.50004 11.925C5.05618 11.925 3.07504 9.94386 3.07504 7.50002ZM7.50004 3.92502C5.52562 3.92502 3.92504 5.52561 3.92504 7.50002C3.92504 9.47442 5.52563 11.075 7.50004 11.075C9.47444 11.075 11.075 9.47442 11.075 7.50002C11.075 5.52561 9.47444 3.92502 7.50004 3.92502ZM7.50004 5.25002C6.2574 5.25002 5.25004 6.25739 5.25004 7.50002C5.25004 8.74266 6.2574 9.75002 7.50004 9.75002C8.74267 9.75002 9.75004 8.74266 9.75004 7.50002C9.75004 6.25738 8.74267 5.25002 7.50004 5.25002ZM6.05004 7.50002C6.05004 6.69921 6.69923 6.05002 7.50004 6.05002C8.30084 6.05002 8.95004 6.69921 8.95004 7.50002C8.95004 8.30083 8.30084 8.95002 7.50004 8.95002C6.69923 8.95002 6.05004 8.30083 6.05004 7.50002Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),e4=["color"],up=g.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,i=Pe(e,e4);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),g.createElement("path",{d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))});const Ur={FORM_CHANGE:100,JSON_EDITOR:300,VALIDATION:200};function t4(e,t){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...s),n=null},t)}}function r4(e,t){let n=null,s=null;return{fn:(...d)=>{s=d,n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...d),n=null,s=null},t)},cancel:()=>{n!==null&&(clearTimeout(n),n=null),s=null},flush:()=>{n!==null&&s!==null&&(clearTimeout(n),n=null,e(...s),s=null)}}}function n4({value:e,onChange:t,placeholder:n="Search templates...",resultCount:s,totalCount:i}){const[a,u]=g.useState(e),d=g.useRef(null);g.useEffect(()=>{u(e)},[e]);const p=g.useCallback(t4(x=>{typeof x=="string"&&t(x)},200),[t]),m=g.useCallback(x=>{const b=x.target.value;u(b),p(b)},[p]),h=g.useCallback(()=>{var x;u(""),t(""),(x=d.current)==null||x.focus()},[t]),v=g.useCallback(x=>{x.key==="Escape"&&a&&h()},[a,h]);return c.jsxs("div",{className:"relative",children:[c.jsx(Sv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-muted pointer-events-none"}),c.jsx("input",{ref:d,type:"text",value:a,onChange:m,onKeyDown:v,placeholder:n,className:"w-full pl-10 pr-20 py-2.5 rounded-lg bg-background-secondary border border-border text-foreground placeholder:text-foreground-muted focus-ring text-sm","aria-label":"Search templates"}),c.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[a&&c.jsx("button",{type:"button",onClick:h,className:"p-1 rounded hover:bg-background-tertiary transition-colors","aria-label":"Clear search",children:c.jsx(Bn,{className:"w-3.5 h-3.5 text-foreground-muted"})}),s!==void 0&&i!==void 0&&c.jsxs("span",{className:"text-xs text-foreground-muted tabular-nums",children:[s,"/",i]})]})]})}function s0(e,[t,n]){return Math.min(n,Math.max(t,e))}function i0(e){const t=o4(e),n=g.forwardRef((s,i)=>{const{children:a,...u}=s,d=g.Children.toArray(a),p=d.find(i4);if(p){const m=p.props.children,h=d.map(v=>v===p?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:v);return c.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,h):null})}return c.jsx(t,{...u,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function o4(e){const t=g.forwardRef((n,s)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const u=l4(i),d=a4(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Yn(s,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s4=Symbol("radix.slottable");function i4(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s4}function a4(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const p=a(...d);return i(...d),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function l4(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function dp(e){const t=e+"CollectionProvider",[n,s]=Br(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=S=>{const{scope:w,children:N}=S,C=ot.useRef(null),E=ot.useRef(new Map).current;return c.jsx(i,{scope:w,itemMap:E,collectionRef:C,children:N})};u.displayName=t;const d=e+"CollectionSlot",p=i0(d),m=ot.forwardRef((S,w)=>{const{scope:N,children:C}=S,E=a(d,N),P=Fe(w,E.collectionRef);return c.jsx(p,{ref:P,children:C})});m.displayName=d;const h=e+"CollectionItemSlot",v="data-radix-collection-item",x=i0(h),b=ot.forwardRef((S,w)=>{const{scope:N,children:C,...E}=S,P=ot.useRef(null),k=Fe(w,P),R=a(h,N);return ot.useEffect(()=>(R.itemMap.set(P,{ref:P,...E}),()=>void R.itemMap.delete(P))),c.jsx(x,{[v]:"",ref:k,children:C})});b.displayName=h;function j(S){const w=a(e+"CollectionConsumer",S);return ot.useCallback(()=>{const C=w.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${v}]`));return Array.from(w.itemMap.values()).sort((R,$)=>E.indexOf(R.ref.current)-E.indexOf($.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:u,Slot:m,ItemSlot:b},j,s]}var c4=g.createContext(void 0);function fp(e){const t=g.useContext(c4);return e||t||"ltr"}const u4=["top","right","bottom","left"],gn=Math.min,Ft=Math.max,zl=Math.round,Ma=Math.floor,jr=e=>({x:e,y:e}),d4={left:"right",right:"left",bottom:"top",top:"bottom"},f4={start:"end",end:"start"};function Of(e,t,n){return Ft(e,gn(t,n))}function Hr(e,t){return typeof e=="function"?e(t):e}function qr(e){return e.split("-")[0]}function qo(e){return e.split("-")[1]}function pp(e){return e==="x"?"y":"x"}function mp(e){return e==="y"?"height":"width"}const p4=new Set(["top","bottom"]);function Sr(e){return p4.has(qr(e))?"y":"x"}function hp(e){return pp(Sr(e))}function m4(e,t,n){n===void 0&&(n=!1);const s=qo(e),i=hp(e),a=mp(i);let u=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=Vl(u)),[u,Vl(u)]}function h4(e){const t=Vl(e);return[Mf(e),t,Mf(t)]}function Mf(e){return e.replace(/start|end/g,t=>f4[t])}const a0=["left","right"],l0=["right","left"],g4=["top","bottom"],y4=["bottom","top"];function v4(e,t,n){switch(e){case"top":case"bottom":return n?t?l0:a0:t?a0:l0;case"left":case"right":return t?g4:y4;default:return[]}}function x4(e,t,n,s){const i=qo(e);let a=v4(qr(e),n==="start",s);return i&&(a=a.map(u=>u+"-"+i),t&&(a=a.concat(a.map(Mf)))),a}function Vl(e){return e.replace(/left|right|bottom|top/g,t=>d4[t])}function w4(e){return{top:0,right:0,bottom:0,left:0,...e}}function jv(e){return typeof e!="number"?w4(e):{top:e,right:e,bottom:e,left:e}}function Ul(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function c0(e,t,n){let{reference:s,floating:i}=e;const a=Sr(t),u=hp(t),d=mp(u),p=qr(t),m=a==="y",h=s.x+s.width/2-i.width/2,v=s.y+s.height/2-i.height/2,x=s[d]/2-i[d]/2;let b;switch(p){case"top":b={x:h,y:s.y-i.height};break;case"bottom":b={x:h,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:v};break;case"left":b={x:s.x-i.width,y:v};break;default:b={x:s.x,y:s.y}}switch(qo(t)){case"start":b[u]-=x*(n&&m?-1:1);break;case"end":b[u]+=x*(n&&m?-1:1);break}return b}const b4=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:u}=n,d=a.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:v}=c0(m,s,p),x=s,b={},j=0;for(let S=0;S<d.length;S++){const{name:w,fn:N}=d[S],{x:C,y:E,data:P,reset:k}=await N({x:h,y:v,initialPlacement:s,placement:x,strategy:i,middlewareData:b,rects:m,platform:u,elements:{reference:e,floating:t}});h=C??h,v=E??v,b={...b,[w]:{...b[w],...P}},k&&j<=50&&(j++,typeof k=="object"&&(k.placement&&(x=k.placement),k.rects&&(m=k.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:h,y:v}=c0(m,x,p)),S=-1)}return{x:h,y:v,placement:x,strategy:i,middlewareData:b}};async function Gs(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:u,elements:d,strategy:p}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:v="floating",altBoundary:x=!1,padding:b=0}=Hr(t,e),j=jv(b),w=d[x?v==="floating"?"reference":"floating":v],N=Ul(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:h,strategy:p})),C=v==="floating"?{x:s,y:i,width:u.floating.width,height:u.floating.height}:u.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),P=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},k=Ul(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:C,offsetParent:E,strategy:p}):C);return{top:(N.top-k.top+j.top)/P.y,bottom:(k.bottom-N.bottom+j.bottom)/P.y,left:(N.left-k.left+j.left)/P.x,right:(k.right-N.right+j.right)/P.x}}const C4=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:u,elements:d,middlewareData:p}=t,{element:m,padding:h=0}=Hr(e,t)||{};if(m==null)return{};const v=jv(h),x={x:n,y:s},b=hp(i),j=mp(b),S=await u.getDimensions(m),w=b==="y",N=w?"top":"left",C=w?"bottom":"right",E=w?"clientHeight":"clientWidth",P=a.reference[j]+a.reference[b]-x[b]-a.floating[j],k=x[b]-a.reference[b],R=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let $=R?R[E]:0;(!$||!await(u.isElement==null?void 0:u.isElement(R)))&&($=d.floating[E]||a.floating[j]);const L=P/2-k/2,K=$/2-S[j]/2-1,U=gn(v[N],K),G=gn(v[C],K),te=U,re=$-S[j]-G,ne=$/2-S[j]/2+L,se=Of(te,ne,re),le=!p.arrow&&qo(i)!=null&&ne!==se&&a.reference[j]/2-(ne<te?U:G)-S[j]/2<0,pe=le?ne<te?ne-te:ne-re:0;return{[b]:x[b]+pe,data:{[b]:se,centerOffset:ne-se-pe,...le&&{alignmentOffset:pe}},reset:le}}}),_4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:u,initialPlacement:d,platform:p,elements:m}=t,{mainAxis:h=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:S=!0,...w}=Hr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=qr(i),C=Sr(d),E=qr(d)===d,P=await(p.isRTL==null?void 0:p.isRTL(m.floating)),k=x||(E||!S?[Vl(d)]:h4(d)),R=j!=="none";!x&&R&&k.push(...x4(d,S,j,P));const $=[d,...k],L=await Gs(t,w),K=[];let U=((s=a.flip)==null?void 0:s.overflows)||[];if(h&&K.push(L[N]),v){const ne=m4(i,u,P);K.push(L[ne[0]],L[ne[1]])}if(U=[...U,{placement:i,overflows:K}],!K.every(ne=>ne<=0)){var G,te;const ne=(((G=a.flip)==null?void 0:G.index)||0)+1,se=$[ne];if(se&&(!(v==="alignment"?C!==Sr(se):!1)||U.every(H=>Sr(H.placement)===C?H.overflows[0]>0:!0)))return{data:{index:ne,overflows:U},reset:{placement:se}};let le=(te=U.filter(pe=>pe.overflows[0]<=0).sort((pe,H)=>pe.overflows[1]-H.overflows[1])[0])==null?void 0:te.placement;if(!le)switch(b){case"bestFit":{var re;const pe=(re=U.filter(H=>{if(R){const X=Sr(H.placement);return X===C||X==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(X=>X>0).reduce((X,B)=>X+B,0)]).sort((H,X)=>H[1]-X[1])[0])==null?void 0:re[0];pe&&(le=pe);break}case"initialPlacement":le=d;break}if(i!==le)return{reset:{placement:le}}}return{}}}};function u0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function d0(e){return u4.some(t=>e[t]>=0)}const S4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=Hr(e,t);switch(s){case"referenceHidden":{const a=await Gs(t,{...i,elementContext:"reference"}),u=u0(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:d0(u)}}}case"escaped":{const a=await Gs(t,{...i,altBoundary:!0}),u=u0(a,n.floating);return{data:{escapedOffsets:u,escaped:d0(u)}}}default:return{}}}}},Ev=new Set(["left","top"]);async function N4(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),u=qr(n),d=qo(n),p=Sr(n)==="y",m=Ev.has(u)?-1:1,h=a&&p?-1:1,v=Hr(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:j}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),p?{x:b*h,y:x*m}:{x:x*m,y:b*h}}const j4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:u,middlewareData:d}=t,p=await N4(t,e);return u===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:i+p.x,y:a+p.y,data:{...p,placement:u}}}}},E4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:w=>{let{x:N,y:C}=w;return{x:N,y:C}}},...p}=Hr(e,t),m={x:n,y:s},h=await Gs(t,p),v=Sr(qr(i)),x=pp(v);let b=m[x],j=m[v];if(a){const w=x==="y"?"top":"left",N=x==="y"?"bottom":"right",C=b+h[w],E=b-h[N];b=Of(C,b,E)}if(u){const w=v==="y"?"top":"left",N=v==="y"?"bottom":"right",C=j+h[w],E=j-h[N];j=Of(C,j,E)}const S=d.fn({...t,[x]:b,[v]:j});return{...S,data:{x:S.x-n,y:S.y-s,enabled:{[x]:a,[v]:u}}}}}},k4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:u}=t,{offset:d=0,mainAxis:p=!0,crossAxis:m=!0}=Hr(e,t),h={x:n,y:s},v=Sr(i),x=pp(v);let b=h[x],j=h[v];const S=Hr(d,t),w=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(p){const E=x==="y"?"height":"width",P=a.reference[x]-a.floating[E]+w.mainAxis,k=a.reference[x]+a.reference[E]-w.mainAxis;b<P?b=P:b>k&&(b=k)}if(m){var N,C;const E=x==="y"?"width":"height",P=Ev.has(qr(i)),k=a.reference[v]-a.floating[E]+(P&&((N=u.offset)==null?void 0:N[v])||0)+(P?0:w.crossAxis),R=a.reference[v]+a.reference[E]+(P?0:((C=u.offset)==null?void 0:C[v])||0)-(P?w.crossAxis:0);j<k?j=k:j>R&&(j=R)}return{[x]:b,[v]:j}}}},P4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:u,elements:d}=t,{apply:p=()=>{},...m}=Hr(e,t),h=await Gs(t,m),v=qr(i),x=qo(i),b=Sr(i)==="y",{width:j,height:S}=a.floating;let w,N;v==="top"||v==="bottom"?(w=v,N=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(N=v,w=x==="end"?"top":"bottom");const C=S-h.top-h.bottom,E=j-h.left-h.right,P=gn(S-h[w],C),k=gn(j-h[N],E),R=!t.middlewareData.shift;let $=P,L=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=E),(s=t.middlewareData.shift)!=null&&s.enabled.y&&($=C),R&&!x){const U=Ft(h.left,0),G=Ft(h.right,0),te=Ft(h.top,0),re=Ft(h.bottom,0);b?L=j-2*(U!==0||G!==0?U+G:Ft(h.left,h.right)):$=S-2*(te!==0||re!==0?te+re:Ft(h.top,h.bottom))}await p({...t,availableWidth:L,availableHeight:$});const K=await u.getDimensions(d.floating);return j!==K.width||S!==K.height?{reset:{rects:!0}}:{}}}};function pc(){return typeof window<"u"}function Bo(e){return kv(e)?(e.nodeName||"").toLowerCase():"#document"}function Ut(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kr(e){var t;return(t=(kv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kv(e){return pc()?e instanceof Node||e instanceof Ut(e).Node:!1}function cr(e){return pc()?e instanceof Element||e instanceof Ut(e).Element:!1}function Er(e){return pc()?e instanceof HTMLElement||e instanceof Ut(e).HTMLElement:!1}function f0(e){return!pc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ut(e).ShadowRoot}const R4=new Set(["inline","contents"]);function di(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=ur(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!R4.has(i)}const $4=new Set(["table","td","th"]);function T4(e){return $4.has(Bo(e))}const O4=[":popover-open",":modal"];function mc(e){return O4.some(t=>{try{return e.matches(t)}catch{return!1}})}const M4=["transform","translate","scale","rotate","perspective"],A4=["transform","translate","scale","rotate","perspective","filter"],I4=["paint","layout","strict","content"];function gp(e){const t=yp(),n=cr(e)?ur(e):e;return M4.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||A4.some(s=>(n.willChange||"").includes(s))||I4.some(s=>(n.contain||"").includes(s))}function D4(e){let t=yn(e);for(;Er(t)&&!Vo(t);){if(gp(t))return t;if(mc(t))return null;t=yn(t)}return null}function yp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const L4=new Set(["html","body","#document"]);function Vo(e){return L4.has(Bo(e))}function ur(e){return Ut(e).getComputedStyle(e)}function hc(e){return cr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yn(e){if(Bo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||f0(e)&&e.host||kr(e);return f0(t)?t.host:t}function Pv(e){const t=yn(e);return Vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Er(t)&&di(t)?t:Pv(t)}function Ks(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Pv(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),u=Ut(i);if(a){const d=Af(u);return t.concat(u,u.visualViewport||[],di(i)?i:[],d&&n?Ks(d):[])}return t.concat(i,Ks(i,[],n))}function Af(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rv(e){const t=ur(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=Er(e),a=i?e.offsetWidth:n,u=i?e.offsetHeight:s,d=zl(n)!==a||zl(s)!==u;return d&&(n=a,s=u),{width:n,height:s,$:d}}function vp(e){return cr(e)?e:e.contextElement}function Io(e){const t=vp(e);if(!Er(t))return jr(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=Rv(t);let u=(a?zl(n.width):n.width)/s,d=(a?zl(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const F4=jr(0);function $v(e){const t=Ut(e);return!yp()||!t.visualViewport?F4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function z4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ut(e)?!1:t}function Wn(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=vp(e);let u=jr(1);t&&(s?cr(s)&&(u=Io(s)):u=Io(e));const d=z4(a,n,s)?$v(a):jr(0);let p=(i.left+d.x)/u.x,m=(i.top+d.y)/u.y,h=i.width/u.x,v=i.height/u.y;if(a){const x=Ut(a),b=s&&cr(s)?Ut(s):s;let j=x,S=Af(j);for(;S&&s&&b!==j;){const w=Io(S),N=S.getBoundingClientRect(),C=ur(S),E=N.left+(S.clientLeft+parseFloat(C.paddingLeft))*w.x,P=N.top+(S.clientTop+parseFloat(C.paddingTop))*w.y;p*=w.x,m*=w.y,h*=w.x,v*=w.y,p+=E,m+=P,j=Ut(S),S=Af(j)}}return Ul({width:h,height:v,x:p,y:m})}function gc(e,t){const n=hc(e).scrollLeft;return t?t.left+n:Wn(kr(e)).left+n}function Tv(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-gc(e,n),i=n.top+t.scrollTop;return{x:s,y:i}}function V4(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",u=kr(s),d=t?mc(t.floating):!1;if(s===u||d&&a)return n;let p={scrollLeft:0,scrollTop:0},m=jr(1);const h=jr(0),v=Er(s);if((v||!v&&!a)&&((Bo(s)!=="body"||di(u))&&(p=hc(s)),Er(s))){const b=Wn(s);m=Io(s),h.x=b.x+s.clientLeft,h.y=b.y+s.clientTop}const x=u&&!v&&!a?Tv(u,p):jr(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-p.scrollLeft*m.x+h.x+x.x,y:n.y*m.y-p.scrollTop*m.y+h.y+x.y}}function U4(e){return Array.from(e.getClientRects())}function H4(e){const t=kr(e),n=hc(e),s=e.ownerDocument.body,i=Ft(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=Ft(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+gc(e);const d=-n.scrollTop;return ur(s).direction==="rtl"&&(u+=Ft(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:u,y:d}}const p0=25;function q4(e,t){const n=Ut(e),s=kr(e),i=n.visualViewport;let a=s.clientWidth,u=s.clientHeight,d=0,p=0;if(i){a=i.width,u=i.height;const h=yp();(!h||h&&t==="fixed")&&(d=i.offsetLeft,p=i.offsetTop)}const m=gc(s);if(m<=0){const h=s.ownerDocument,v=h.body,x=getComputedStyle(v),b=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(s.clientWidth-v.clientWidth-b);j<=p0&&(a-=j)}else m<=p0&&(a+=m);return{width:a,height:u,x:d,y:p}}const B4=new Set(["absolute","fixed"]);function W4(e,t){const n=Wn(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=Er(e)?Io(e):jr(1),u=e.clientWidth*a.x,d=e.clientHeight*a.y,p=i*a.x,m=s*a.y;return{width:u,height:d,x:p,y:m}}function m0(e,t,n){let s;if(t==="viewport")s=q4(e,n);else if(t==="document")s=H4(kr(e));else if(cr(t))s=W4(t,n);else{const i=$v(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ul(s)}function Ov(e,t){const n=yn(e);return n===t||!cr(n)||Vo(n)?!1:ur(n).position==="fixed"||Ov(n,t)}function G4(e,t){const n=t.get(e);if(n)return n;let s=Ks(e,[],!1).filter(d=>cr(d)&&Bo(d)!=="body"),i=null;const a=ur(e).position==="fixed";let u=a?yn(e):e;for(;cr(u)&&!Vo(u);){const d=ur(u),p=gp(u);!p&&d.position==="fixed"&&(i=null),(a?!p&&!i:!p&&d.position==="static"&&!!i&&B4.has(i.position)||di(u)&&!p&&Ov(e,u))?s=s.filter(h=>h!==u):i=d,u=yn(u)}return t.set(e,s),s}function K4(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const u=[...n==="clippingAncestors"?mc(t)?[]:G4(t,this._c):[].concat(n),s],d=u[0],p=u.reduce((m,h)=>{const v=m0(t,h,i);return m.top=Ft(v.top,m.top),m.right=gn(v.right,m.right),m.bottom=gn(v.bottom,m.bottom),m.left=Ft(v.left,m.left),m},m0(t,d,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Z4(e){const{width:t,height:n}=Rv(e);return{width:t,height:n}}function Y4(e,t,n){const s=Er(t),i=kr(t),a=n==="fixed",u=Wn(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const p=jr(0);function m(){p.x=gc(i)}if(s||!s&&!a)if((Bo(t)!=="body"||di(i))&&(d=hc(t)),s){const b=Wn(t,!0,a,t);p.x=b.x+t.clientLeft,p.y=b.y+t.clientTop}else i&&m();a&&!s&&i&&m();const h=i&&!s&&!a?Tv(i,d):jr(0),v=u.left+d.scrollLeft-p.x-h.x,x=u.top+d.scrollTop-p.y-h.y;return{x:v,y:x,width:u.width,height:u.height}}function Jd(e){return ur(e).position==="static"}function h0(e,t){if(!Er(e)||ur(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return kr(e)===n&&(n=n.ownerDocument.body),n}function Mv(e,t){const n=Ut(e);if(mc(e))return n;if(!Er(e)){let i=yn(e);for(;i&&!Vo(i);){if(cr(i)&&!Jd(i))return i;i=yn(i)}return n}let s=h0(e,t);for(;s&&T4(s)&&Jd(s);)s=h0(s,t);return s&&Vo(s)&&Jd(s)&&!gp(s)?n:s||D4(e)||n}const J4=async function(e){const t=this.getOffsetParent||Mv,n=this.getDimensions,s=await n(e.floating);return{reference:Y4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function X4(e){return ur(e).direction==="rtl"}const Q4={convertOffsetParentRelativeRectToViewportRelativeRect:V4,getDocumentElement:kr,getClippingRect:K4,getOffsetParent:Mv,getElementRects:J4,getClientRects:U4,getDimensions:Z4,getScale:Io,isElement:cr,isRTL:X4};function Av(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function e3(e,t){let n=null,s;const i=kr(e);function a(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function u(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),a();const m=e.getBoundingClientRect(),{left:h,top:v,width:x,height:b}=m;if(d||t(),!x||!b)return;const j=Ma(v),S=Ma(i.clientWidth-(h+x)),w=Ma(i.clientHeight-(v+b)),N=Ma(h),E={rootMargin:-j+"px "+-S+"px "+-w+"px "+-N+"px",threshold:Ft(0,gn(1,p))||1};let P=!0;function k(R){const $=R[0].intersectionRatio;if($!==p){if(!P)return u();$?u(!1,$):s=setTimeout(()=>{u(!1,1e-7)},1e3)}$===1&&!Av(m,e.getBoundingClientRect())&&u(),P=!1}try{n=new IntersectionObserver(k,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,E)}n.observe(e)}return u(!0),a}function t3(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,m=vp(e),h=i||a?[...m?Ks(m):[],...Ks(t)]:[];h.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const v=m&&d?e3(m,n):null;let x=-1,b=null;u&&(b=new ResizeObserver(N=>{let[C]=N;C&&C.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(t)})),n()}),m&&!p&&b.observe(m),b.observe(t));let j,S=p?Wn(e):null;p&&w();function w(){const N=Wn(e);S&&!Av(S,N)&&n(),S=N,j=requestAnimationFrame(w)}return n(),()=>{var N;h.forEach(C=>{i&&C.removeEventListener("scroll",n),a&&C.removeEventListener("resize",n)}),v==null||v(),(N=b)==null||N.disconnect(),b=null,p&&cancelAnimationFrame(j)}}const r3=j4,n3=E4,o3=_4,s3=P4,i3=S4,g0=C4,a3=k4,l3=(e,t,n)=>{const s=new Map,i={platform:Q4,...n},a={...i.platform,_c:s};return b4(e,t,{...i,platform:a})};var c3=typeof document<"u",u3=function(){},$l=c3?g.useLayoutEffect:u3;function Hl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Hl(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!Hl(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Iv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function y0(e,t){const n=Iv(e);return Math.round(t*n)/n}function Xd(e){const t=g.useRef(e);return $l(()=>{t.current=e}),t}function d3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:p,open:m}=e,[h,v]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=g.useState(s);Hl(x,s)||b(s);const[j,S]=g.useState(null),[w,N]=g.useState(null),C=g.useCallback(H=>{H!==R.current&&(R.current=H,S(H))},[]),E=g.useCallback(H=>{H!==$.current&&($.current=H,N(H))},[]),P=a||j,k=u||w,R=g.useRef(null),$=g.useRef(null),L=g.useRef(h),K=p!=null,U=Xd(p),G=Xd(i),te=Xd(m),re=g.useCallback(()=>{if(!R.current||!$.current)return;const H={placement:t,strategy:n,middleware:x};G.current&&(H.platform=G.current),l3(R.current,$.current,H).then(X=>{const B={...X,isPositioned:te.current!==!1};ne.current&&!Hl(L.current,B)&&(L.current=B,li.flushSync(()=>{v(B)}))})},[x,t,n,G,te]);$l(()=>{m===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,v(H=>({...H,isPositioned:!1})))},[m]);const ne=g.useRef(!1);$l(()=>(ne.current=!0,()=>{ne.current=!1}),[]),$l(()=>{if(P&&(R.current=P),k&&($.current=k),P&&k){if(U.current)return U.current(P,k,re);re()}},[P,k,re,U,K]);const se=g.useMemo(()=>({reference:R,floating:$,setReference:C,setFloating:E}),[C,E]),le=g.useMemo(()=>({reference:P,floating:k}),[P,k]),pe=g.useMemo(()=>{const H={position:n,left:0,top:0};if(!le.floating)return H;const X=y0(le.floating,h.x),B=y0(le.floating,h.y);return d?{...H,transform:"translate("+X+"px, "+B+"px)",...Iv(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:B}},[n,d,le.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:re,refs:se,elements:le,floatingStyles:pe}),[h,re,se,le,pe])}const f3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?g0({element:s.current,padding:i}).fn(n):{}:s?g0({element:s,padding:i}).fn(n):{}}}},p3=(e,t)=>({...r3(e),options:[e,t]}),m3=(e,t)=>({...n3(e),options:[e,t]}),h3=(e,t)=>({...a3(e),options:[e,t]}),g3=(e,t)=>({...o3(e),options:[e,t]}),y3=(e,t)=>({...s3(e),options:[e,t]}),v3=(e,t)=>({...i3(e),options:[e,t]}),x3=(e,t)=>({...f3(e),options:[e,t]});var w3="Arrow",Dv=g.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return c.jsx(Oe.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dv.displayName=w3;var b3=Dv;function C3(e){const[t,n]=g.useState(void 0);return mt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,d;if("borderBoxSize"in a){const p=a.borderBoxSize,m=Array.isArray(p)?p[0]:p;u=m.inlineSize,d=m.blockSize}else u=e.offsetWidth,d=e.offsetHeight;n({width:u,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var xp="Popper",[Lv,Wo]=Br(xp),[_3,Fv]=Lv(xp),zv=e=>{const{__scopePopper:t,children:n}=e,[s,i]=g.useState(null);return c.jsx(_3,{scope:t,anchor:s,onAnchorChange:i,children:n})};zv.displayName=xp;var Vv="PopperAnchor",Uv=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=Fv(Vv,n),u=g.useRef(null),d=Fe(t,u),p=g.useRef(null);return g.useEffect(()=>{const m=p.current;p.current=(s==null?void 0:s.current)||u.current,m!==p.current&&a.onAnchorChange(p.current)}),s?null:c.jsx(Oe.div,{...i,ref:d})});Uv.displayName=Vv;var wp="PopperContent",[S3,N3]=Lv(wp),Hv=g.forwardRef((e,t)=>{var ee,ae,he,ge,V,W;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:j,...S}=e,w=Fv(wp,n),[N,C]=g.useState(null),E=Fe(t,oe=>C(oe)),[P,k]=g.useState(null),R=C3(P),$=(R==null?void 0:R.width)??0,L=(R==null?void 0:R.height)??0,K=s+(a!=="center"?"-"+a:""),U=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},G=Array.isArray(m)?m:[m],te=G.length>0,re={padding:U,boundary:G.filter(E3),altBoundary:te},{refs:ne,floatingStyles:se,placement:le,isPositioned:pe,middlewareData:H}=d3({strategy:"fixed",placement:K,whileElementsMounted:(...oe)=>t3(...oe,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[p3({mainAxis:i+L,alignmentAxis:u}),p&&m3({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?h3():void 0,...re}),p&&g3({...re}),y3({...re,apply:({elements:oe,rects:de,availableWidth:ve,availableHeight:je})=>{const{width:Ue,height:ht}=de.reference,Ze=oe.floating.style;Ze.setProperty("--radix-popper-available-width",`${ve}px`),Ze.setProperty("--radix-popper-available-height",`${je}px`),Ze.setProperty("--radix-popper-anchor-width",`${Ue}px`),Ze.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),P&&x3({element:P,padding:d}),k3({arrowWidth:$,arrowHeight:L}),x&&v3({strategy:"referenceHidden",...re})]}),[X,B]=Wv(le),O=lr(j);mt(()=>{pe&&(O==null||O())},[pe,O]);const I=(ee=H.arrow)==null?void 0:ee.x,F=(ae=H.arrow)==null?void 0:ae.y,M=((he=H.arrow)==null?void 0:he.centerOffset)!==0,[A,Z]=g.useState();return mt(()=>{N&&Z(window.getComputedStyle(N).zIndex)},[N]),c.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:pe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:A,"--radix-popper-transform-origin":[(ge=H.transformOrigin)==null?void 0:ge.x,(V=H.transformOrigin)==null?void 0:V.y].join(" "),...((W=H.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(S3,{scope:n,placedSide:X,onArrowChange:k,arrowX:I,arrowY:F,shouldHideArrow:M,children:c.jsx(Oe.div,{"data-side":X,"data-align":B,...S,ref:E,style:{...S.style,animation:pe?void 0:"none"}})})})});Hv.displayName=wp;var qv="PopperArrow",j3={top:"bottom",right:"left",bottom:"top",left:"right"},Bv=g.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=N3(qv,s),u=j3[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(b3,{...i,ref:n,style:{...i.style,display:"block"}})})});Bv.displayName=qv;function E3(e){return e!==null}var k3=e=>({name:"transformOrigin",options:e,fn(t){var w,N,C;const{placement:n,rects:s,middlewareData:i}=t,u=((w=i.arrow)==null?void 0:w.centerOffset)!==0,d=u?0:e.arrowWidth,p=u?0:e.arrowHeight,[m,h]=Wv(n),v={start:"0%",center:"50%",end:"100%"}[h],x=(((N=i.arrow)==null?void 0:N.x)??0)+d/2,b=(((C=i.arrow)==null?void 0:C.y)??0)+p/2;let j="",S="";return m==="bottom"?(j=u?v:`${x}px`,S=`${-p}px`):m==="top"?(j=u?v:`${x}px`,S=`${s.floating.height+p}px`):m==="right"?(j=`${-p}px`,S=u?v:`${b}px`):m==="left"&&(j=`${s.floating.width+p}px`,S=u?v:`${b}px`),{data:{x:j,y:S}}}});function Wv(e){const[t,n="center"]=e.split("-");return[t,n]}var bp=zv,Cp=Uv,_p=Hv,Sp=Bv;function P3(e){const t=R3(e),n=g.forwardRef((s,i)=>{const{children:a,...u}=s,d=g.Children.toArray(a),p=d.find(T3);if(p){const m=p.props.children,h=d.map(v=>v===p?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:v);return c.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,h):null})}return c.jsx(t,{...u,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function R3(e){const t=g.forwardRef((n,s)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const u=M3(i),d=O3(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Yn(s,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $3=Symbol("radix.slottable");function T3(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$3}function O3(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const p=a(...d);return i(...d),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function M3(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function A3(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),I3="VisuallyHidden",Kv=g.forwardRef((e,t)=>c.jsx(Oe.span,{...e,ref:t,style:{...Gv,...e.style}}));Kv.displayName=I3;var D3=Kv,L3=[" ","Enter","ArrowUp","ArrowDown"],F3=[" ","Enter"],Gn="Select",[yc,vc,z3]=dp(Gn),[Go]=Br(Gn,[z3,Wo]),xc=Wo(),[V3,xn]=Go(Gn),[U3,H3]=Go(Gn),Zv=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:u,defaultValue:d,onValueChange:p,dir:m,name:h,autoComplete:v,disabled:x,required:b,form:j}=e,S=xc(t),[w,N]=g.useState(null),[C,E]=g.useState(null),[P,k]=g.useState(!1),R=fp(m),[$,L]=Fo({prop:s,defaultProp:i??!1,onChange:a,caller:Gn}),[K,U]=Fo({prop:u,defaultProp:d,onChange:p,caller:Gn}),G=g.useRef(null),te=w?j||!!w.closest("form"):!0,[re,ne]=g.useState(new Set),se=Array.from(re).map(le=>le.props.value).join(";");return c.jsx(bp,{...S,children:c.jsxs(V3,{required:b,scope:t,trigger:w,onTriggerChange:N,valueNode:C,onValueNodeChange:E,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:Vr(),value:K,onValueChange:U,open:$,onOpenChange:L,dir:R,triggerPointerDownPosRef:G,disabled:x,children:[c.jsx(yc.Provider,{scope:t,children:c.jsx(U3,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(le=>{ne(pe=>new Set(pe).add(le))},[]),onNativeOptionRemove:g.useCallback(le=>{ne(pe=>{const H=new Set(pe);return H.delete(le),H})},[]),children:n})}),te?c.jsxs(wx,{"aria-hidden":!0,required:b,tabIndex:-1,name:h,autoComplete:v,value:K,onChange:le=>U(le.target.value),disabled:x,form:j,children:[K===void 0?c.jsx("option",{value:""}):null,Array.from(re)]},se):null]})})};Zv.displayName=Gn;var Yv="SelectTrigger",Jv=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=xc(n),u=xn(Yv,n),d=u.disabled||s,p=Fe(t,u.onTriggerChange),m=vc(n),h=g.useRef("touch"),[v,x,b]=Cx(S=>{const w=m().filter(E=>!E.disabled),N=w.find(E=>E.value===u.value),C=_x(w,S,N);C!==void 0&&u.onValueChange(C.value)}),j=S=>{d||(u.onOpenChange(!0),b()),S&&(u.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return c.jsx(Cp,{asChild:!0,...a,children:c.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":bx(u.value)?"":void 0,...i,ref:p,onClick:be(i.onClick,S=>{S.currentTarget.focus(),h.current!=="mouse"&&j(S)}),onPointerDown:be(i.onPointerDown,S=>{h.current=S.pointerType;const w=S.target;w.hasPointerCapture(S.pointerId)&&w.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(j(S),S.preventDefault())}),onKeyDown:be(i.onKeyDown,S=>{const w=v.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&x(S.key),!(w&&S.key===" ")&&L3.includes(S.key)&&(j(),S.preventDefault())})})})});Jv.displayName=Yv;var Xv="SelectValue",Qv=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:u="",...d}=e,p=xn(Xv,n),{onValueNodeHasChildrenChange:m}=p,h=a!==void 0,v=Fe(t,p.onValueNodeChange);return mt(()=>{m(h)},[m,h]),c.jsx(Oe.span,{...d,ref:v,style:{pointerEvents:"none"},children:bx(p.value)?c.jsx(c.Fragment,{children:u}):a})});Qv.displayName=Xv;var q3="SelectIcon",ex=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return c.jsx(Oe.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});ex.displayName=q3;var B3="SelectPortal",tx=e=>c.jsx(ui,{asChild:!0,...e});tx.displayName=B3;var Kn="SelectContent",rx=g.forwardRef((e,t)=>{const n=xn(Kn,e.__scopeSelect),[s,i]=g.useState();if(mt(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?li.createPortal(c.jsx(nx,{scope:e.__scopeSelect,children:c.jsx(yc.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),a):null}return c.jsx(ox,{...e,ref:t})});rx.displayName=Kn;var ir=10,[nx,wn]=Go(Kn),W3="SelectContentImpl",G3=P3("SelectContent.RemoveScroll"),ox=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:u,side:d,sideOffset:p,align:m,alignOffset:h,arrowPadding:v,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:S,avoidCollisions:w,...N}=e,C=xn(Kn,n),[E,P]=g.useState(null),[k,R]=g.useState(null),$=Fe(t,ee=>P(ee)),[L,K]=g.useState(null),[U,G]=g.useState(null),te=vc(n),[re,ne]=g.useState(!1),se=g.useRef(!1);g.useEffect(()=>{if(E)return np(E)},[E]),rp();const le=g.useCallback(ee=>{const[ae,...he]=te().map(W=>W.ref.current),[ge]=he.slice(-1),V=document.activeElement;for(const W of ee)if(W===V||(W==null||W.scrollIntoView({block:"nearest"}),W===ae&&k&&(k.scrollTop=0),W===ge&&k&&(k.scrollTop=k.scrollHeight),W==null||W.focus(),document.activeElement!==V))return},[te,k]),pe=g.useCallback(()=>le([L,E]),[le,L,E]);g.useEffect(()=>{re&&pe()},[re,pe]);const{onOpenChange:H,triggerPointerDownPosRef:X}=C;g.useEffect(()=>{if(E){let ee={x:0,y:0};const ae=ge=>{var V,W;ee={x:Math.abs(Math.round(ge.pageX)-(((V=X.current)==null?void 0:V.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((W=X.current)==null?void 0:W.y)??0))}},he=ge=>{ee.x<=10&&ee.y<=10?ge.preventDefault():E.contains(ge.target)||H(!1),document.removeEventListener("pointermove",ae),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",he,{capture:!0})}}},[E,H,X]),g.useEffect(()=>{const ee=()=>H(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[H]);const[B,O]=Cx(ee=>{const ae=te().filter(V=>!V.disabled),he=ae.find(V=>V.ref.current===document.activeElement),ge=_x(ae,ee,he);ge&&setTimeout(()=>ge.ref.current.focus())}),I=g.useCallback((ee,ae,he)=>{const ge=!se.current&&!he;(C.value!==void 0&&C.value===ae||ge)&&(K(ee),ge&&(se.current=!0))},[C.value]),F=g.useCallback(()=>E==null?void 0:E.focus(),[E]),M=g.useCallback((ee,ae,he)=>{const ge=!se.current&&!he;(C.value!==void 0&&C.value===ae||ge)&&G(ee)},[C.value]),A=s==="popper"?If:sx,Z=A===If?{side:d,sideOffset:p,align:m,alignOffset:h,arrowPadding:v,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:S,avoidCollisions:w}:{};return c.jsx(nx,{scope:n,content:E,viewport:k,onViewportChange:R,itemRefCallback:I,selectedItem:L,onItemLeave:F,itemTextRefCallback:M,focusSelectedItem:pe,selectedItemText:U,position:s,isPositioned:re,searchRef:B,children:c.jsx(uc,{as:G3,allowPinchZoom:!0,children:c.jsx(lc,{asChild:!0,trapped:C.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:be(i,ee=>{var ae;(ae=C.trigger)==null||ae.focus({preventScroll:!0}),ee.preventDefault()}),children:c.jsx(ci,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:c.jsx(A,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ee=>ee.preventDefault(),...N,...Z,onPlaced:()=>ne(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:be(N.onKeyDown,ee=>{const ae=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ae&&ee.key.length===1&&O(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let ge=te().filter(V=>!V.disabled).map(V=>V.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const V=ee.target,W=ge.indexOf(V);ge=ge.slice(W+1)}setTimeout(()=>le(ge)),ee.preventDefault()}})})})})})})});ox.displayName=W3;var K3="SelectItemAlignedPosition",sx=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=xn(Kn,n),u=wn(Kn,n),[d,p]=g.useState(null),[m,h]=g.useState(null),v=Fe(t,$=>h($)),x=vc(n),b=g.useRef(!1),j=g.useRef(!0),{viewport:S,selectedItem:w,selectedItemText:N,focusSelectedItem:C}=u,E=g.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&m&&S&&w&&N){const $=a.trigger.getBoundingClientRect(),L=m.getBoundingClientRect(),K=a.valueNode.getBoundingClientRect(),U=N.getBoundingClientRect();if(a.dir!=="rtl"){const V=U.left-L.left,W=K.left-V,oe=$.left-W,de=$.width+oe,ve=Math.max(de,L.width),je=window.innerWidth-ir,Ue=s0(W,[ir,Math.max(ir,je-ve)]);d.style.minWidth=de+"px",d.style.left=Ue+"px"}else{const V=L.right-U.right,W=window.innerWidth-K.right-V,oe=window.innerWidth-$.right-W,de=$.width+oe,ve=Math.max(de,L.width),je=window.innerWidth-ir,Ue=s0(W,[ir,Math.max(ir,je-ve)]);d.style.minWidth=de+"px",d.style.right=Ue+"px"}const G=x(),te=window.innerHeight-ir*2,re=S.scrollHeight,ne=window.getComputedStyle(m),se=parseInt(ne.borderTopWidth,10),le=parseInt(ne.paddingTop,10),pe=parseInt(ne.borderBottomWidth,10),H=parseInt(ne.paddingBottom,10),X=se+le+re+H+pe,B=Math.min(w.offsetHeight*5,X),O=window.getComputedStyle(S),I=parseInt(O.paddingTop,10),F=parseInt(O.paddingBottom,10),M=$.top+$.height/2-ir,A=te-M,Z=w.offsetHeight/2,ee=w.offsetTop+Z,ae=se+le+ee,he=X-ae;if(ae<=M){const V=G.length>0&&w===G[G.length-1].ref.current;d.style.bottom="0px";const W=m.clientHeight-S.offsetTop-S.offsetHeight,oe=Math.max(A,Z+(V?F:0)+W+pe),de=ae+oe;d.style.height=de+"px"}else{const V=G.length>0&&w===G[0].ref.current;d.style.top="0px";const oe=Math.max(M,se+S.offsetTop+(V?I:0)+Z)+he;d.style.height=oe+"px",S.scrollTop=ae-M+S.offsetTop}d.style.margin=`${ir}px 0`,d.style.minHeight=B+"px",d.style.maxHeight=te+"px",s==null||s(),requestAnimationFrame(()=>b.current=!0)}},[x,a.trigger,a.valueNode,d,m,S,w,N,a.dir,s]);mt(()=>E(),[E]);const[P,k]=g.useState();mt(()=>{m&&k(window.getComputedStyle(m).zIndex)},[m]);const R=g.useCallback($=>{$&&j.current===!0&&(E(),C==null||C(),j.current=!1)},[E,C]);return c.jsx(Y3,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:R,children:c.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:c.jsx(Oe.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});sx.displayName=K3;var Z3="SelectPopperPosition",If=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=ir,...a}=e,u=xc(n);return c.jsx(_p,{...u,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});If.displayName=Z3;var[Y3,Np]=Go(Kn,{}),Df="SelectViewport",ix=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=wn(Df,n),u=Np(Df,n),d=Fe(t,a.onViewportChange),p=g.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(yc.Slot,{scope:n,children:c.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:be(i.onScroll,m=>{const h=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:x}=u;if(x!=null&&x.current&&v){const b=Math.abs(p.current-h.scrollTop);if(b>0){const j=window.innerHeight-ir*2,S=parseFloat(v.style.minHeight),w=parseFloat(v.style.height),N=Math.max(S,w);if(N<j){const C=N+b,E=Math.min(j,C),P=C-E;v.style.height=E+"px",v.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,v.style.justifyContent="flex-end")}}}p.current=h.scrollTop})})})]})});ix.displayName=Df;var ax="SelectGroup",[J3,X3]=Go(ax),lx=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Vr();return c.jsx(J3,{scope:n,id:i,children:c.jsx(Oe.div,{role:"group","aria-labelledby":i,...s,ref:t})})});lx.displayName=ax;var cx="SelectLabel",ux=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=X3(cx,n);return c.jsx(Oe.div,{id:i.id,...s,ref:t})});ux.displayName=cx;var ql="SelectItem",[Q3,dx]=Go(ql),fx=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...u}=e,d=xn(ql,n),p=wn(ql,n),m=d.value===s,[h,v]=g.useState(a??""),[x,b]=g.useState(!1),j=Fe(t,C=>{var E;return(E=p.itemRefCallback)==null?void 0:E.call(p,C,s,i)}),S=Vr(),w=g.useRef("touch"),N=()=>{i||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Q3,{scope:n,value:s,disabled:i,textId:S,isSelected:m,onItemTextChange:g.useCallback(C=>{v(E=>E||((C==null?void 0:C.textContent)??"").trim())},[]),children:c.jsx(yc.ItemSlot,{scope:n,value:s,disabled:i,textValue:h,children:c.jsx(Oe.div,{role:"option","aria-labelledby":S,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:j,onFocus:be(u.onFocus,()=>b(!0)),onBlur:be(u.onBlur,()=>b(!1)),onClick:be(u.onClick,()=>{w.current!=="mouse"&&N()}),onPointerUp:be(u.onPointerUp,()=>{w.current==="mouse"&&N()}),onPointerDown:be(u.onPointerDown,C=>{w.current=C.pointerType}),onPointerMove:be(u.onPointerMove,C=>{var E;w.current=C.pointerType,i?(E=p.onItemLeave)==null||E.call(p):w.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(u.onPointerLeave,C=>{var E;C.currentTarget===document.activeElement&&((E=p.onItemLeave)==null||E.call(p))}),onKeyDown:be(u.onKeyDown,C=>{var P;((P=p.searchRef)==null?void 0:P.current)!==""&&C.key===" "||(F3.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});fx.displayName=ql;var Ls="SelectItemText",px=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,u=xn(Ls,n),d=wn(Ls,n),p=dx(Ls,n),m=H3(Ls,n),[h,v]=g.useState(null),x=Fe(t,N=>v(N),p.onItemTextChange,N=>{var C;return(C=d.itemTextRefCallback)==null?void 0:C.call(d,N,p.value,p.disabled)}),b=h==null?void 0:h.textContent,j=g.useMemo(()=>c.jsx("option",{value:p.value,disabled:p.disabled,children:b},p.value),[p.disabled,p.value,b]),{onNativeOptionAdd:S,onNativeOptionRemove:w}=m;return mt(()=>(S(j),()=>w(j)),[S,w,j]),c.jsxs(c.Fragment,{children:[c.jsx(Oe.span,{id:p.textId,...a,ref:x}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?li.createPortal(a.children,u.valueNode):null]})});px.displayName=Ls;var mx="SelectItemIndicator",hx=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return dx(mx,n).isSelected?c.jsx(Oe.span,{"aria-hidden":!0,...s,ref:t}):null});hx.displayName=mx;var Lf="SelectScrollUpButton",gx=g.forwardRef((e,t)=>{const n=wn(Lf,e.__scopeSelect),s=Np(Lf,e.__scopeSelect),[i,a]=g.useState(!1),u=Fe(t,s.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=p.scrollTop>0;a(m)};const p=n.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?c.jsx(vx,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=n;d&&p&&(d.scrollTop=d.scrollTop-p.offsetHeight)}}):null});gx.displayName=Lf;var Ff="SelectScrollDownButton",yx=g.forwardRef((e,t)=>{const n=wn(Ff,e.__scopeSelect),s=Np(Ff,e.__scopeSelect),[i,a]=g.useState(!1),u=Fe(t,s.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=p.scrollHeight-p.clientHeight,h=Math.ceil(p.scrollTop)<m;a(h)};const p=n.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?c.jsx(vx,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=n;d&&p&&(d.scrollTop=d.scrollTop+p.offsetHeight)}}):null});yx.displayName=Ff;var vx=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=wn("SelectScrollButton",n),u=g.useRef(null),d=vc(n),p=g.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return g.useEffect(()=>()=>p(),[p]),mt(()=>{var h;const m=d().find(v=>v.ref.current===document.activeElement);(h=m==null?void 0:m.ref.current)==null||h.scrollIntoView({block:"nearest"})},[d]),c.jsx(Oe.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:be(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:be(i.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:be(i.onPointerLeave,()=>{p()})})}),e_="SelectSeparator",xx=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return c.jsx(Oe.div,{"aria-hidden":!0,...s,ref:t})});xx.displayName=e_;var zf="SelectArrow",t_=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=xc(n),a=xn(zf,n),u=wn(zf,n);return a.open&&u.position==="popper"?c.jsx(Sp,{...i,...s,ref:t}):null});t_.displayName=zf;var r_="SelectBubbleInput",wx=g.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=g.useRef(null),a=Fe(s,i),u=A3(t);return g.useEffect(()=>{const d=i.current;if(!d)return;const p=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==t&&h){const v=new Event("change",{bubbles:!0});h.call(d,t),d.dispatchEvent(v)}},[u,t]),c.jsx(Oe.select,{...n,style:{...Gv,...n.style},ref:a,defaultValue:t})});wx.displayName=r_;function bx(e){return e===""||e===void 0}function Cx(e){const t=lr(e),n=g.useRef(""),s=g.useRef(0),i=g.useCallback(u=>{const d=n.current+u;t(d),(function p(m){n.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>p(""),1e3))})(d)},[t]),a=g.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function _x(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=n_(e,Math.max(a,0));i.length===1&&(u=u.filter(m=>m!==n));const p=u.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return p!==n?p:void 0}function n_(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var wc=Zv,bc=Jv,Cc=Qv,_c=ex,Sc=tx,Nc=rx,jc=ix,Bl=lx,jp=ux,Zs=fx,Ys=px,Js=hx,Ep=gx,kp=yx,o_=xx;const v0={search:"",plugin:"all",useCase:"all",complexity:"all",source:"all"},Pp={filesystem:{label:"Filesystem",icon:"",description:"File and directory structure checks"},ast:{label:"AST Analysis",icon:"",description:"Abstract syntax tree analysis"},dependency:{label:"Dependencies",icon:"",description:"Package dependency version checks"},"react-patterns":{label:"React Patterns",icon:"",description:"React-specific pattern detection"},patterns:{label:"Pattern Matching",icon:"",description:"Regular expression and text patterns"}},Sx={security:{label:"Security",icon:"",description:"Security vulnerability detection"},quality:{label:"Code Quality",icon:"",description:"Code quality and maintainability"},migration:{label:"Migration",icon:"",description:"Framework and library migration"},compliance:{label:"Compliance",icon:"",description:"Standards and policy compliance"},"best-practices":{label:"Best Practices",icon:"",description:"Industry best practices"}},Nx={beginner:{label:"Beginner",stars:1,description:"Simple rules with basic concepts"},intermediate:{label:"Intermediate",stars:2,description:"More complex conditions and facts"},advanced:{label:"Advanced",stars:3,description:"Complex rules with multiple plugins"}};function s_({value:e,children:t}){return c.jsxs(Zs,{value:e,className:"relative flex items-center px-8 py-2 text-sm rounded cursor-pointer outline-none text-foreground hover:bg-accent data-[highlighted]:bg-accent",children:[c.jsx(Ys,{children:t}),c.jsx(Js,{className:"absolute left-2 flex items-center justify-center",children:c.jsx(Hn,{className:"w-4 h-4"})})]})}function Aa({value:e,onValueChange:t,label:n,options:s}){const i=s.find(a=>a.value===e);return c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs text-foreground-muted",children:n}),c.jsxs(wc,{value:e,onValueChange:t,children:[c.jsxs(bc,{className:"inline-flex items-center justify-between gap-2 px-3 py-1.5 text-sm rounded-md border border-border bg-background hover:bg-background-secondary focus-ring min-w-[140px]","aria-label":n,children:[c.jsx(Cc,{children:c.jsxs("span",{className:"flex items-center gap-2",children:[(i==null?void 0:i.icon)&&c.jsx("span",{children:i.icon}),i==null?void 0:i.label]})}),c.jsx(_c,{children:c.jsx(St,{className:"w-4 h-4 text-foreground-muted"})})]}),c.jsx(Sc,{children:c.jsx(Nc,{className:"z-50 overflow-hidden rounded-md border border-border bg-background shadow-md animate-fade-in",position:"popper",sideOffset:4,children:c.jsx(jc,{className:"p-1",children:s.map(a=>c.jsx(s_,{value:a.value,children:c.jsxs("span",{className:"flex items-center gap-2",children:[a.icon&&c.jsx("span",{children:a.icon}),a.label]})},a.value))})})})]})]})}function i_({plugin:e,useCase:t,complexity:n,source:s,onPluginChange:i,onUseCaseChange:a,onComplexityChange:u,onSourceChange:d,onReset:p,hasActiveFilters:m}){const h=[{value:"all",label:"All Plugins",icon:""},...Object.entries(Pp).map(([j,S])=>({value:j,label:S.label,icon:S.icon}))],v=[{value:"all",label:"All Use Cases",icon:""},...Object.entries(Sx).map(([j,S])=>({value:j,label:S.label,icon:S.icon}))],x=[{value:"all",label:"All Levels",icon:""},{value:"beginner",label:"Beginner",icon:""},{value:"intermediate",label:"Intermediate",icon:""},{value:"advanced",label:"Advanced",icon:""}],b=[{value:"all",label:"All Sources",icon:""},{value:"teaching",label:"Teaching",icon:""},{value:"democonfig",label:"Demo Config",icon:""}];return c.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[c.jsx(Aa,{value:e,onValueChange:j=>i(j),label:"Plugin",options:h}),c.jsx(Aa,{value:t,onValueChange:j=>a(j),label:"Use Case",options:v}),c.jsx(Aa,{value:n,onValueChange:j=>u(j),label:"Complexity",options:x}),c.jsx(Aa,{value:s,onValueChange:j=>d(j),label:"Source",options:b}),m&&c.jsxs("button",{type:"button",onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-foreground-muted hover:text-foreground rounded-md hover:bg-background-secondary transition-colors","aria-label":"Clear all filters",children:[c.jsx(Bn,{className:"w-3.5 h-3.5"}),"Clear filters"]})]})}function a_({level:e}){const{stars:t,label:n}=Nx[e];return c.jsx("div",{className:"flex items-center gap-1",title:n,children:Array.from({length:3}).map((s,i)=>c.jsx("span",{className:`text-xs ${i<t?"text-yellow-500":"text-foreground-muted/30"}`,children:""},i))})}function l_({source:e}){const t=e==="teaching";return c.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full font-medium ${t?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-blue-500/10 text-blue-600 dark:text-blue-400"}`,children:t?"Tutorial":"Demo"})}function c_({template:e,onUse:t,onPreview:n}){const s=Pp[e.plugin];return c.jsxs("div",{className:"group flex flex-col p-4 rounded-lg border border-border bg-background hover:border-primary/50 hover:bg-background-secondary/50 transition-all duration-200",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",role:"img","aria-label":s.label,children:s.icon}),c.jsx(l_,{source:e.source})]}),c.jsx(a_,{level:e.complexity})]}),c.jsx("h3",{className:"font-medium text-foreground mb-1 line-clamp-1",children:e.displayName}),c.jsx("p",{className:"text-sm text-foreground-muted mb-3 line-clamp-2 flex-1",children:e.description}),c.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(i=>c.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-background-tertiary text-foreground-muted",children:i},i)),e.tags.length>3&&c.jsxs("span",{className:"text-[10px] text-foreground-muted",children:["+",e.tags.length-3]})]}),c.jsx("div",{className:"text-xs text-foreground-muted mb-3",children:c.jsx("span",{className:"font-medium",children:s.label})}),c.jsxs("div",{className:"flex gap-2 mt-auto pt-2 border-t border-border/50",children:[c.jsxs("button",{type:"button",onClick:()=>n(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-sm rounded-md border border-border hover:bg-background-secondary transition-colors focus-ring","aria-label":`Preview ${e.displayName}`,children:[c.jsx(j9,{className:"w-3.5 h-3.5"}),"Preview"]}),c.jsxs("button",{type:"button",onClick:()=>t(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-sm rounded-md bg-primary text-white hover:bg-primary-dark transition-colors focus-ring","aria-label":`Use ${e.displayName}`,children:[c.jsx(Hs,{className:"w-3.5 h-3.5"}),"Use"]})]})]})}function u_({hasActiveFilters:e,onResetFilters:t}){return c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-background-secondary flex items-center justify-center mb-4",children:c.jsx($f,{className:"w-8 h-8 text-foreground-muted"})}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No templates found"}),c.jsx("p",{className:"text-sm text-foreground-muted max-w-sm mb-4",children:e?"No templates match your current filters. Try adjusting your search or filter criteria.":"No templates are available. This shouldn't happen - please report this issue."}),e&&t&&c.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm rounded-md bg-primary text-white hover:bg-primary-dark transition-colors focus-ring",children:"Clear all filters"})]})}function d_({templates:e,onUse:t,onPreview:n,hasActiveFilters:s,onResetFilters:i}){return e.length===0?c.jsx(u_,{hasActiveFilters:s,onResetFilters:i}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(a=>c.jsx(c_,{template:a,onUse:t,onPreview:n},a.id))})}function Ia({icon:e,label:t,value:n}){return c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-md bg-background-secondary",children:[c.jsx("span",{className:"text-lg",children:e}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] text-foreground-muted uppercase tracking-wide",children:t}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:n})]})]})}function f_({point:e}){return c.jsxs("li",{className:"flex items-start gap-2 text-sm text-foreground",children:[c.jsx("span",{className:"text-green-500 mt-0.5",children:""}),c.jsx("span",{children:e})]})}function p_({template:e,onUse:t,onClose:n}){const s=Pp[e.plugin],i=Sx[e.useCase],a=Nx[e.complexity],u=JSON.stringify(e.rule,null,2);return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button",onClick:n,className:"p-2 -ml-2 rounded-md hover:bg-background-secondary transition-colors focus-ring","aria-label":"Back to templates",children:c.jsx(bv,{className:"w-4 h-4 text-foreground-muted"})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[c.jsx("span",{children:s.icon}),e.displayName]}),c.jsx("p",{className:"text-sm text-foreground-muted",children:e.name})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>t(e),className:"flex items-center gap-2 px-4 py-2 text-sm rounded-md bg-primary text-white hover:bg-primary-dark transition-colors focus-ring",children:[c.jsx(Hs,{className:"w-4 h-4"}),"Use Template"]}),c.jsx("button",{type:"button",onClick:n,className:"p-2 rounded-md hover:bg-background-secondary transition-colors focus-ring","aria-label":"Close preview",children:c.jsx(Bn,{className:"w-4 h-4 text-foreground-muted"})})]})]}),c.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-6",children:[c.jsxs("section",{children:[c.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"Description"}),c.jsx("p",{className:"text-sm text-foreground-muted leading-relaxed",children:e.longDescription||e.description})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Metadata"}),c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[c.jsx(Ia,{icon:s.icon,label:"Plugin",value:s.label}),c.jsx(Ia,{icon:i.icon,label:"Use Case",value:i.label}),c.jsx(Ia,{icon:"".repeat(a.stars),label:"Complexity",value:a.label}),c.jsx(Ia,{icon:e.source==="teaching"?"":"",label:"Source",value:e.source==="teaching"?"Tutorial":"Demo Config"})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"Tags"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(d=>c.jsx("span",{className:"px-2 py-1 text-xs rounded-md bg-background-secondary text-foreground-muted",children:d},d))})]}),e.learningPoints&&e.learningPoints.length>0&&c.jsxs("section",{className:"p-4 rounded-lg bg-green-500/5 border border-green-500/20",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-medium text-foreground mb-3",children:[c.jsx(Nr,{className:"w-4 h-4 text-green-500"}),"What You'll Learn"]}),c.jsx("ul",{className:"space-y-2",children:e.learningPoints.map((d,p)=>c.jsx(f_,{point:d},p))})]}),e.author&&c.jsxs("section",{children:[c.jsx("h3",{className:"text-sm font-medium text-foreground mb-1",children:"Author"}),c.jsx("p",{className:"text-sm text-foreground-muted",children:e.author})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"Rule Definition"}),c.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border bg-background-secondary",children:[c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx("button",{type:"button",onClick:()=>navigator.clipboard.writeText(u),className:"px-2 py-1 text-xs rounded bg-background hover:bg-background-tertiary transition-colors focus-ring",children:"Copy"})}),c.jsx("pre",{className:"p-4 text-xs overflow-x-auto font-mono text-foreground",children:c.jsx("code",{children:u})})]})]})]})]})}const m_={id:"hello-world",name:"hello-world-iterative",displayName:"Hello World",description:"The simplest possible X-Fidelity rule - a great starting point",longDescription:`This template demonstrates the fundamental structure of an X-Fidelity rule. 
It checks if a file has a specific extension and fires a warning event.
Perfect for understanding the basic components: conditions, facts, operators, and events.`,plugin:"filesystem",useCase:"best-practices",complexity:"beginner",tags:["starter","learning","basic","tutorial"],source:"teaching",author:"X-Fidelity Team",learningPoints:["Basic rule structure with name, conditions, and event","Using the fileData fact to access file properties","The difference between warning and fatality event types","Using the equal operator for exact matching"],relatedTemplates:["file-pattern-basic","dependency-check-basic"],rule:{name:"hello-world-iterative",conditions:{all:[{fact:"fileData",path:"$.extension",operator:"equal",value:"ts"}]},event:{type:"warning",params:{message:"Hello! This is a TypeScript file."}}}},h_={id:"file-pattern-basic",name:"file-pattern-basic-iterative",displayName:"Simple File Pattern",description:"Detect files that match a regular expression pattern",longDescription:`This template shows how to use regular expressions to match file paths.
It demonstrates the regexMatch operator which is essential for flexible file detection.
Use this pattern to find specific file naming conventions or directory structures.`,plugin:"patterns",useCase:"quality",complexity:"beginner",tags:["regex","pattern","file-matching","basic"],source:"teaching",author:"X-Fidelity Team",learningPoints:["Using regexMatch operator for flexible pattern matching","Accessing file path via $.filePath JSONPath","Writing regex patterns for file detection",'Combining multiple conditions with "all" (AND logic)'],relatedTemplates:["hello-world","sensitive-logging-basic"],rule:{name:"file-pattern-basic-iterative",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"notEqual",value:"REPO_GLOBAL_CHECK"},{fact:"fileData",path:"$.filePath",operator:"regexMatch",value:".*\\.test\\.(ts|tsx|js|jsx)$"}]},event:{type:"info",params:{message:"This is a test file. Test files should follow naming conventions."}}}},g_={id:"dependency-check-basic",name:"dependency-check-basic-global",displayName:"Dependency Version Check",description:"Verify that package dependencies meet minimum version requirements",longDescription:`This template demonstrates how to check package.json dependencies.
It uses the repoDependencyAnalysis fact and outdatedFramework operator to verify versions.
Essential for ensuring your project uses secure and compatible dependency versions.`,plugin:"dependency",useCase:"security",complexity:"intermediate",tags:["dependencies","versions","npm","package.json","security"],source:"teaching",author:"X-Fidelity Team",learningPoints:["Global vs iterative rules (suffix -global vs -iterative)","Using REPO_GLOBAL_CHECK for repository-wide analysis","The repoDependencyAnalysis fact for dependency inspection","Configuring minimum version requirements","Using resultFact to capture detailed analysis results"],relatedTemplates:["outdated-framework","hello-world"],rule:{name:"dependency-check-basic-global",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"equal",value:"REPO_GLOBAL_CHECK"},{fact:"repoDependencyAnalysis",params:{resultFact:"dependencyCheckResult"},operator:"outdatedFramework",value:!0}]},event:{type:"warning",params:{message:"Some dependencies do not meet minimum version requirements.",details:{fact:"dependencyCheckResult"}}}}},y_={id:"function-count-basic",name:"function-count-basic-iterative",displayName:"AST Function Count",description:"Count functions in a file using Abstract Syntax Tree analysis",longDescription:`This template introduces AST (Abstract Syntax Tree) analysis.
It counts the number of functions in a file and warns if there are too many.
AST analysis provides deep code understanding beyond simple text matching.`,plugin:"ast",useCase:"quality",complexity:"intermediate",tags:["ast","functions","code-quality","maintainability"],source:"teaching",author:"X-Fidelity Team",learningPoints:["Introduction to AST (Abstract Syntax Tree) analysis","Using the functionCount fact to analyze code structure","Filtering files by extension with regexMatch","Setting thresholds for code metrics","Capturing results with resultFact parameter"],relatedTemplates:["function-complexity","file-pattern-basic"],rule:{name:"function-count-basic-iterative",conditions:{all:[{fact:"fileData",path:"$.filePath",operator:"regexMatch",value:".*\\.(ts|js)$"},{fact:"functionCount",params:{resultFact:"functionCountResult"},operator:"functionCount",value:15}]},event:{type:"warning",params:{message:"File contains many functions (>15). Consider splitting into smaller modules.",details:{fact:"functionCountResult"}}}}},v_={id:"react-hooks-basic",name:"react-hooks-basic-iterative",displayName:"React Hook Dependencies",description:"Check for missing or incorrect React hook dependencies",longDescription:`This template shows how to analyze React hook usage patterns.
It detects missing dependencies in useEffect, useCallback, and useMemo hooks.
Missing dependencies can cause stale closures and subtle bugs in React applications.`,plugin:"react-patterns",useCase:"quality",complexity:"advanced",tags:["react","hooks","useEffect","dependencies","best-practices"],source:"teaching",author:"X-Fidelity Team",learningPoints:["React-specific analysis with react-patterns plugin","Using hookDependency fact for hook analysis","Filtering by file extension for React files (.tsx, .jsx)","Combining multiple file conditions","Understanding React hook dependency rules"],relatedTemplates:["function-complexity","file-pattern-basic"],rule:{name:"react-hooks-basic-iterative",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"notEqual",value:"REPO_GLOBAL_CHECK"},{fact:"fileData",path:"$.filePath",operator:"regexMatch",value:".*\\.(tsx|jsx)$"},{fact:"hookDependency",params:{resultFact:"hookDependencyResult"},operator:"equal",value:!0}]},event:{type:"warning",params:{message:"React hooks may have missing or incorrect dependencies.",details:{fact:"hookDependencyResult"}}}}},x_=[m_,h_,g_,y_,v_],w_={name:"functionComplexity-iterative",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"notEqual",value:"REPO_GLOBAL_CHECK"},{fact:"functionComplexity",params:{resultFact:"complexityResult",thresholds:{cyclomaticComplexity:25,cognitiveComplexity:40,nestingDepth:10,parameterCount:5,returnCount:10}},operator:"astComplexity",value:!0}]},event:{type:"warning",params:{message:"Functions detected with high complexity. Consider refactoring.",details:{fact:"complexityResult"}}}},b_={name:"functionCount-iterative",conditions:{all:[{fact:"fileData",path:"$.filePath",operator:"regexMatch",value:"^.*\\/facts\\/(?!.*\\.test).*\\.ts$"},{fact:"functionCount",params:{resultFact:"functionCountResult"},operator:"functionCount",value:20}]},event:{type:"warning",params:{message:"File contains too many functions (>20). Consider splitting into multiple files.",details:{fact:"functionCountResult"}}}},C_={name:"outdatedFramework-global",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"equal",value:"REPO_GLOBAL_CHECK"},{fact:"repoDependencyAnalysis",params:{resultFact:"repoDependencyResults"},operator:"outdatedFramework",value:!0}]},event:{type:"fatality",params:{message:"Core framework dependencies do not meet minimum version requirements! Please update your dependencies to the required versions.",details:{fact:"repoDependencyResults"}}}},__={name:"missingRequiredFiles-global",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"equal",value:"REPO_GLOBAL_CHECK"},{fact:"missingRequiredFiles",params:{requiredFiles:["/README.md","../../src/\\core//cli&.ts","missingRequiredFiles-testing.js"],resultFact:"missingRequiredFilesResult"},operator:"missingRequiredFiles",value:!0}]},event:{type:"fatality",params:{message:"Required files are missing from the repository",details:{fact:"missingRequiredFilesResult"}}}},S_={name:"sensitiveLogging-iterative",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"notEqual",value:"REPO_GLOBAL_CHECK"},{fact:"repoFileAnalysis",params:{checkPattern:["(api[_-]?key|auth[_-]?token|access[_-]?token|secret[_-]?key)","(aws[_-]?access[_-]?key[_-]?id|aws[_-]?secret[_-]?access[_-]?key)","(private[_-]?key|ssh[_-]?key)","(oauth[_-]?token|jwt[_-]?token)","db[_-]?password"],resultFact:"fileResults"},operator:"fileContains",value:!0}]},event:{type:"warning",params:{message:"Potential sensitive data detected. This must not be logged or exposed.",details:{fact:"fileResults"}}}},N_={name:"reactHooksDependency-iterative",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"notEqual",value:"REPO_GLOBAL_CHECK"},{fact:"fileData",path:"$.filePath",operator:"regexMatch",value:".*\\.(tsx|jsx)$"},{fact:"hookDependency",params:{resultFact:"hookDependencyResult"},operator:"equal",value:!0}]},event:{type:"warning",params:{message:"React hooks have missing or incorrect dependencies that could cause bugs.",details:{fact:"hookDependencyResult"}}}},j_={name:"reactHooksMigration-global",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"equal",value:"REPO_GLOBAL_CHECK"},{fact:"globalFileAnalysis",params:{newPatterns:["useState\\(","useEffect\\(","useContext\\(","useReducer\\(","useCallback\\(","useMemo\\(","useRef\\(","const\\s+\\w+\\s*=\\s*\\(\\)\\s*=>\\s*{"],legacyPatterns:["extends\\s+React\\.Component","componentDidMount\\(","componentDidUpdate\\(","componentWillUnmount\\(","this\\.setState\\("],fileFilter:"\\.(jsx|tsx)$",resultFact:"reactHooksMigrationAnalysis"},operator:"globalPatternRatio",value:.7}]},event:{type:"warning",params:{message:"React Hooks migration is in progress. At least 70% of components should use hooks.",details:{fact:"reactHooksMigrationAnalysis"}}}},E_={name:"lowMigrationToNewComponentLib-global",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"equal",value:"REPO_GLOBAL_CHECK"},{fact:"globalFileAnalysis",params:{newPatterns:[`import.*from\\s+['"](@mui/material.*)['"]`],legacyPatterns:[`import.*from\\s+['"](antd)['"]`],fileFilter:"\\.(js|jsx|ts|tsx)$",outputGrouping:"file",resultFact:"lowMigrationToNewComponentLib"},operator:"globalPatternRatio",value:{threshold:.7,comparison:"lte"}}]},event:{type:"fatality",params:{message:"MUI migration from AntDesign is low.",details:{fact:"lowMigrationToNewComponentLib",recommendation:"Migrate to MUI."}}}},k_={name:"nonStandardDirectoryStructure-global",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"equal",value:"REPO_GLOBAL_CHECK"},{fact:"fileData",path:"$.filePath",operator:"nonStandardDirectoryStructure",value:{fact:"standardStructure"}}]},event:{type:"warning",params:{message:"Directory structure does not match the standard.",details:{fact:"standardStructure"}}}},P_={name:"noDatabases-iterative",conditions:{all:[{fact:"fileData",path:"$.fileName",operator:"notEqual",value:"REPO_GLOBAL_CHECK"},{fact:"repoFileAnalysis",params:{checkPattern:[`[\\s\\'\\"\\.]( oracle)[\\s\\'\\"\\.] `,`[\\s\\'\\"\\.]( postgres)[\\s\\'\\"\\.]`,`[\\s\\'\\"\\.]( mongodb)[\\s\\'\\"\\.] `],resultFact:"fileResultsDB"},operator:"fileContains",value:!0}]},event:{type:"warning",params:{message:"Code must not directly call databases.",details:{fact:"fileResultsDB"}}}},R_={name:"extractEnvApiKey-iterative",conditions:{all:[{fact:"extractValues",params:{resultFact:"envApiKeyResult",defaultStrategy:{type:"regex",pattern:"^API_KEY=(.*)$",flags:"im"},include:[".*\\.env$"]},operator:"matchesSatisfy",value:{requireMatches:!0,count:{op:">=",value:1}}}]},event:{type:"warning",params:{message:"API key detected in .env file",details:{fact:"envApiKeyResult"}}}},$_=[{rule:w_,displayName:"Function Complexity",description:"Analyze function complexity using cyclomatic and cognitive metrics",longDescription:"This rule uses AST analysis to measure multiple complexity metrics including cyclomatic complexity, cognitive complexity, nesting depth, parameter count, and return count. Functions exceeding any threshold are flagged for refactoring.",plugin:"ast",useCase:"quality",complexity:"advanced",tags:["complexity","ast","refactoring","maintainability","metrics"],learningPoints:["Multiple complexity thresholds in a single rule","Using the astComplexity operator","Configuring thresholds via params"]},{rule:b_,displayName:"Function Count",description:"Limit the number of functions per file for better maintainability",plugin:"ast",useCase:"quality",complexity:"intermediate",tags:["functions","count","maintainability","file-size"]},{rule:C_,displayName:"Outdated Framework",description:"Ensure core dependencies meet minimum version requirements",longDescription:"This global rule checks all dependencies in package.json against configured minimum versions. It fires a fatality event if any core framework dependency is outdated, blocking deployment until updated.",plugin:"dependency",useCase:"security",complexity:"intermediate",tags:["dependencies","versions","security","npm","updates"],learningPoints:["Global rules vs iterative rules","Using fatality for blocking issues","Dependency analysis with repoDependencyAnalysis"]},{rule:__,displayName:"Missing Required Files",description:"Ensure required files like README.md exist in the repository",plugin:"filesystem",useCase:"compliance",complexity:"beginner",tags:["files","required","structure","documentation"]},{rule:S_,displayName:"Sensitive Data Detection",description:"Detect potential sensitive data like API keys and passwords",longDescription:"Scans files for patterns that might indicate sensitive data such as API keys, auth tokens, private keys, and database passwords. Essential for security compliance and preventing accidental data exposure.",plugin:"patterns",useCase:"security",complexity:"intermediate",tags:["security","secrets","api-keys","passwords","scanning"],learningPoints:["Using fileContains operator","Multiple regex patterns in checkPattern","Security-focused rule design"]},{rule:N_,displayName:"React Hooks Dependencies",description:"Check for missing or incorrect React hook dependencies",plugin:"react-patterns",useCase:"quality",complexity:"advanced",tags:["react","hooks","dependencies","useEffect","bugs"]},{rule:j_,displayName:"React Hooks Migration",description:"Track migration progress from class components to hooks",longDescription:"Measures the ratio of hook-based components to class-based components. Helps teams track their migration progress to modern React patterns and ensures new code follows hook conventions.",plugin:"react-patterns",useCase:"migration",complexity:"advanced",tags:["react","hooks","migration","class-components","modernization"],learningPoints:["Pattern ratio analysis","New vs legacy pattern tracking","Migration progress measurement"]},{rule:E_,displayName:"Component Library Migration",description:"Track UI library migration progress (e.g., Ant Design to MUI)",plugin:"patterns",useCase:"migration",complexity:"advanced",tags:["migration","ui-library","mui","antd","components"]},{rule:k_,displayName:"Directory Structure",description:"Verify the project follows standard directory conventions",plugin:"filesystem",useCase:"compliance",complexity:"intermediate",tags:["structure","directories","organization","standards"]},{rule:P_,displayName:"No Direct Database Calls",description:"Prevent direct database connections (Oracle, Postgres, MongoDB)",plugin:"patterns",useCase:"compliance",complexity:"intermediate",tags:["database","architecture","patterns","abstraction"]},{rule:R_,displayName:"Environment API Keys",description:"Detect API keys defined in .env files",plugin:"patterns",useCase:"security",complexity:"intermediate",tags:["env","api-keys","secrets","configuration"]}];function T_(e){return{id:e.rule.name,name:e.rule.name,displayName:e.displayName,description:e.description,longDescription:e.longDescription,plugin:e.plugin,useCase:e.useCase,complexity:e.complexity,tags:e.tags,source:"democonfig",author:"X-Fidelity Demo",rule:e.rule,learningPoints:e.learningPoints}}const O_=$_.map(T_),br=[...x_,...O_].sort((e,t)=>{const n={beginner:0,intermediate:1,advanced:2},s=n[e.complexity]-n[t.complexity];return s!==0?s:e.source!==t.source?e.source==="teaching"?-1:1:e.displayName.localeCompare(t.displayName)});br.filter(e=>e.plugin==="filesystem").length,br.filter(e=>e.plugin==="ast").length,br.filter(e=>e.plugin==="dependency").length,br.filter(e=>e.plugin==="react-patterns").length,br.filter(e=>e.plugin==="patterns").length,br.filter(e=>e.complexity==="beginner").length,br.filter(e=>e.complexity==="intermediate").length,br.filter(e=>e.complexity==="advanced").length;function x0(e){return e.toLowerCase().trim()}function M_(e,t){if(!t)return!0;const n=x0(t);return[e.displayName,e.description,e.longDescription||"",...e.tags,e.plugin,e.useCase,e.name].some(i=>x0(i).includes(n))}function A_(e,t){return!(t.search&&!M_(e,t.search)||t.plugin!=="all"&&e.plugin!==t.plugin||t.useCase!=="all"&&e.useCase!==t.useCase||t.complexity!=="all"&&e.complexity!==t.complexity||t.source!=="all"&&e.source!==t.source)}function I_(e){const[t,n]=g.useState({...v0,...e}),s=g.useMemo(()=>br.filter(v=>A_(v,t)),[t]),i=g.useMemo(()=>t.search!==""||t.plugin!=="all"||t.useCase!=="all"||t.complexity!=="all"||t.source!=="all",[t]),a=g.useCallback(v=>{n(x=>({...x,search:v}))},[]),u=g.useCallback(v=>{n(x=>({...x,plugin:v}))},[]),d=g.useCallback(v=>{n(x=>({...x,useCase:v}))},[]),p=g.useCallback(v=>{n(x=>({...x,complexity:v}))},[]),m=g.useCallback(v=>{n(x=>({...x,source:v}))},[]),h=g.useCallback(()=>{n(v0)},[]);return{templates:s,filters:t,setSearch:a,setPluginFilter:u,setUseCaseFilter:d,setComplexityFilter:p,setSourceFilter:m,resetFilters:h,totalCount:br.length,filteredCount:s.length,hasActiveFilters:i}}const w0=e=>{let t;const n=new Set,s=(m,h)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const x=t;t=h??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(b=>b(t,x))}},i=()=>t,d={setState:s,getState:i,getInitialState:()=>p,subscribe:m=>(n.add(m),()=>n.delete(m))},p=t=e(s,i,d);return d},D_=(e=>e?w0(e):w0),L_=e=>e;function F_(e,t=L_){const n=ot.useSyncExternalStore(e.subscribe,ot.useCallback(()=>t(e.getState()),[e,t]),ot.useCallback(()=>t(e.getInitialState()),[e,t]));return ot.useDebugValue(n),n}const z_=e=>{const t=D_(e),n=s=>F_(t,s);return Object.assign(n,t),n},V_=(e=>z_);var jx=Symbol.for("immer-nothing"),b0=Symbol.for("immer-draftable"),Me=Symbol.for("immer-state");function Yt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vt=Object,Uo=Vt.getPrototypeOf,Wl="constructor",Ec="prototype",Vf="configurable",Gl="enumerable",Tl="writable",Xs="value",vn=e=>!!e&&!!e[Me];function dr(e){var t;return e?Ex(e)||kc(e)||!!e[b0]||!!((t=e[Wl])!=null&&t[b0])||Pc(e)||Rc(e):!1}var U_=Vt[Ec][Wl].toString(),C0=new WeakMap;function Ex(e){if(!e||!$c(e))return!1;const t=Uo(e);if(t===null||t===Vt[Ec])return!0;const n=Vt.hasOwnProperty.call(t,Wl)&&t[Wl];if(n===Object)return!0;if(!To(n))return!1;let s=C0.get(n);return s===void 0&&(s=Function.toString.call(n),C0.set(n,s)),s===U_}function fi(e,t,n=!0){pi(e)===0?(n?Reflect.ownKeys(e):Vt.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((s,i)=>t(i,s,e))}function pi(e){const t=e[Me];return t?t.type_:kc(e)?1:Pc(e)?2:Rc(e)?3:0}var _0=(e,t,n=pi(e))=>n===2?e.has(t):Vt[Ec].hasOwnProperty.call(e,t),Uf=(e,t,n=pi(e))=>n===2?e.get(t):e[t],Kl=(e,t,n,s=pi(e))=>{s===2?e.set(t,n):s===3?e.add(n):e[t]=n};function H_(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var kc=Array.isArray,Pc=e=>e instanceof Map,Rc=e=>e instanceof Set,$c=e=>typeof e=="object",To=e=>typeof e=="function",Qd=e=>typeof e=="boolean";function q_(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var B_=e=>$c(e)?e==null?void 0:e[Me]:null,nt=e=>e.copy_||e.base_,W_=e=>{const t=B_(e);return t?t.copy_??t.base_:e},Rp=e=>e.modified_?e.copy_:e.base_;function Hf(e,t){if(Pc(e))return new Map(e);if(Rc(e))return new Set(e);if(kc(e))return Array[Ec].slice.call(e);const n=Ex(e);if(t===!0||t==="class_only"&&!n){const s=Vt.getOwnPropertyDescriptors(e);delete s[Me];let i=Reflect.ownKeys(s);for(let a=0;a<i.length;a++){const u=i[a],d=s[u];d[Tl]===!1&&(d[Tl]=!0,d[Vf]=!0),(d.get||d.set)&&(s[u]={[Vf]:!0,[Tl]:!0,[Gl]:d[Gl],[Xs]:e[u]})}return Vt.create(Uo(e),s)}else{const s=Uo(e);if(s!==null&&n)return{...e};const i=Vt.create(s);return Vt.assign(i,e)}}function $p(e,t=!1){return Tc(e)||vn(e)||!dr(e)||(pi(e)>1&&Vt.defineProperties(e,{set:Da,add:Da,clear:Da,delete:Da}),Vt.freeze(e),t&&fi(e,(n,s)=>{$p(s,!0)},!1)),e}function G_(){Yt(2)}var Da={[Xs]:G_};function Tc(e){return e===null||!$c(e)?!0:Vt.isFrozen(e)}var Qs="MapSet",qf="Patches",S0="ArrayMethods",Zl={};function Zn(e){const t=Zl[e];return t||Yt(0,e),t}var N0=e=>!!Zl[e];function K_(e,t){Zl[e]||(Zl[e]=t)}var ei,Yl=()=>ei,Z_=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:N0(Qs)?Zn(Qs):void 0,arrayMethodsPlugin_:N0(S0)?Zn(S0):void 0});function j0(e,t){t&&(e.patchPlugin_=Zn(qf),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bf(e){Wf(e),e.drafts_.forEach(Y_),e.drafts_=null}function Wf(e){e===ei&&(ei=e.parent_)}var E0=e=>ei=Z_(ei,e);function Y_(e){const t=e[Me];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function k0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Me].modified_&&(Bf(t),Yt(4)),dr(e)&&(e=P0(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Me].base_,e,t)}else e=P0(t,n);return J_(t,e,!0),Bf(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==jx?e:void 0}function P0(e,t){if(Tc(t))return t;const n=t[Me];if(!n)return Jl(t,e.handledSet_,e);if(!Oc(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:s}=n;if(s)for(;s.length>0;)s.pop()(e);Rx(n,e)}return n.copy_}function J_(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$p(t,n)}function kx(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Oc=(e,t)=>e.scope_===t,X_=[];function Px(e,t,n,s){const i=nt(e),a=e.type_;if(s!==void 0&&Uf(i,s,a)===t){Kl(i,s,n,a);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;fi(i,(p,m)=>{if(vn(m)){const h=d.get(m)||[];h.push(p),d.set(m,h)}})}const u=e.draftLocations_.get(t)??X_;for(const d of u)Kl(i,d,n,a)}function Q_(e,t,n){e.callbacks_.push(function(i){var d;const a=t;if(!a||!Oc(a,i))return;(d=i.mapSetPlugin_)==null||d.fixSetContents(a);const u=Rp(a);Px(e,a.draft_??a,u,n),Rx(a,i)})}function Rx(e,t){var s;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((s=e.assigned_)==null?void 0:s.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}kx(e)}}function Gf(e,t,n){const{scope_:s}=e;if(vn(n)){const i=n[Me];Oc(i,s)&&i.callbacks_.push(function(){Ol(e);const u=Rp(i);Px(e,n,u,t)})}else dr(n)&&e.callbacks_.push(function(){const a=nt(e);e.type_===3?a.has(n)&&Jl(n,s.handledSet_,s):Uf(a,t,e.type_)===n&&s.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Jl(Uf(e.copy_,t,e.type_),s.handledSet_,s)})}function Jl(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||vn(e)||t.has(e)||!dr(e)||Tc(e)||(t.add(e),fi(e,(s,i)=>{if(vn(i)){const a=i[Me];if(Oc(a,n)){const u=Rp(a);Kl(e,s,u,e.type_),kx(a)}}else dr(i)&&Jl(i,t,n)})),e}function eS(e,t){const n=kc(e),s={type_:n?1:0,scope_:t?t.scope_:Yl(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=s,a=Xl;n&&(i=[s],a=ti);const{revoke:u,proxy:d}=Proxy.revocable(i,a);return s.draft_=d,s.revoke_=u,[d,s]}var Xl={get(e,t){if(t===Me)return e;let n=e.scope_.arrayMethodsPlugin_;const s=e.type_===1&&typeof t=="string";if(s&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=nt(e);if(!_0(i,t,e.type_))return tS(e,i,t);const a=i[t];if(e.finalized_||!dr(a)||s&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&q_(t))return a;if(a===ef(e.base_,t)){Ol(e);const u=e.type_===1?+t:t,d=ri(e.scope_,a,e,u);return e.copy_[u]=d}return a},has(e,t){return t in nt(e)},ownKeys(e){return Reflect.ownKeys(nt(e))},set(e,t,n){const s=$x(nt(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,n),!0;if(!e.modified_){const i=ef(nt(e),t),a=i==null?void 0:i[Me];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(H_(n,i)&&(n!==void 0||_0(e.base_,t,e.type_)))return!0;Ol(e),zr(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Gf(e,t,n)),!0},deleteProperty(e,t){return Ol(e),ef(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),zr(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=nt(e),s=Reflect.getOwnPropertyDescriptor(n,t);return s&&{[Tl]:!0,[Vf]:e.type_!==1||t!=="length",[Gl]:s[Gl],[Xs]:n[t]}},defineProperty(){Yt(11)},getPrototypeOf(e){return Uo(e.base_)},setPrototypeOf(){Yt(12)}},ti={};for(let e in Xl){let t=Xl[e];ti[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}ti.deleteProperty=function(e,t){return ti.set.call(this,e,t,void 0)};ti.set=function(e,t,n){return Xl.set.call(this,e[0],t,n,e[0])};function ef(e,t){const n=e[Me];return(n?nt(n):e)[t]}function tS(e,t,n){var i;const s=$x(t,n);return s?Xs in s?s[Xs]:(i=s.get)==null?void 0:i.call(e.draft_):void 0}function $x(e,t){if(!(t in e))return;let n=Uo(e);for(;n;){const s=Object.getOwnPropertyDescriptor(n,t);if(s)return s;n=Uo(n)}}function zr(e){e.modified_||(e.modified_=!0,e.parent_&&zr(e.parent_))}function Ol(e){e.copy_||(e.assigned_=new Map,e.copy_=Hf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rS=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,s)=>{if(To(t)&&!To(n)){const a=n;n=t;const u=this;return function(p=a,...m){return u.produce(p,h=>n.call(this,h,...m))}}To(n)||Yt(6),s!==void 0&&!To(s)&&Yt(7);let i;if(dr(t)){const a=E0(this),u=ri(a,t,void 0);let d=!0;try{i=n(u),d=!1}finally{d?Bf(a):Wf(a)}return j0(a,s),k0(i,a)}else if(!t||!$c(t)){if(i=n(t),i===void 0&&(i=t),i===jx&&(i=void 0),this.autoFreeze_&&$p(i,!0),s){const a=[],u=[];Zn(qf).generateReplacementPatches_(t,i,{patches_:a,inversePatches_:u}),s(a,u)}return i}else Yt(1,t)},this.produceWithPatches=(t,n)=>{if(To(t))return(u,...d)=>this.produceWithPatches(u,p=>t(p,...d));let s,i;return[this.produce(t,n,(u,d)=>{s=u,i=d}),s,i]},Qd(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Qd(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Qd(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){dr(e)||Yt(8),vn(e)&&(e=nS(e));const t=E0(this),n=ri(t,e,void 0);return n[Me].isManual_=!0,Wf(t),n}finishDraft(e,t){const n=e&&e[Me];(!n||!n.isManual_)&&Yt(9);const{scope_:s}=n;return j0(s,t),k0(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const s=Zn(qf).applyPatches_;return vn(e)?s(e,t):this.produce(e,i=>s(i,t))}};function ri(e,t,n,s){const[i,a]=Pc(t)?Zn(Qs).proxyMap_(t,n):Rc(t)?Zn(Qs).proxySet_(t,n):eS(t,n);return((n==null?void 0:n.scope_)??Yl()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=s,n&&s!==void 0?Q_(n,a,s):a.callbacks_.push(function(p){var h;(h=p.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:m}=p;a.modified_&&m&&m.generatePatches_(a,[],p)}),i}function nS(e){return vn(e)||Yt(10,e),Tx(e)}function Tx(e){if(!dr(e)||Tc(e))return e;const t=e[Me];let n,s=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Hf(e,t.scope_.immer_.useStrictShallowCopy_),s=t.scope_.immer_.shouldUseStrictIteration()}else n=Hf(e,!0);return fi(n,(i,a)=>{Kl(n,i,Tx(a))},s),t&&(t.finalized_=!1),n}function oS(){class e extends Map{constructor(m,h){super(),this[Me]={type_:2,parent_:h,scope_:h?h.scope_:Yl(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:m,draft_:this,isManual_:!1,revoked_:!1,callbacks_:[]}}get size(){return nt(this[Me]).size}has(m){return nt(this[Me]).has(m)}set(m,h){const v=this[Me];return u(v),(!nt(v).has(m)||nt(v).get(m)!==h)&&(n(v),zr(v),v.assigned_.set(m,!0),v.copy_.set(m,h),v.assigned_.set(m,!0),Gf(v,m,h)),this}delete(m){if(!this.has(m))return!1;const h=this[Me];return u(h),n(h),zr(h),h.base_.has(m)?h.assigned_.set(m,!1):h.assigned_.delete(m),h.copy_.delete(m),!0}clear(){const m=this[Me];u(m),nt(m).size&&(n(m),zr(m),m.assigned_=new Map,fi(m.base_,h=>{m.assigned_.set(h,!1)}),m.copy_.clear())}forEach(m,h){const v=this[Me];nt(v).forEach((x,b,j)=>{m.call(h,this.get(b),b,this)})}get(m){const h=this[Me];u(h);const v=nt(h).get(m);if(h.finalized_||!dr(v)||v!==h.base_.get(m))return v;const x=ri(h.scope_,v,h,m);return n(h),h.copy_.set(m,x),x}keys(){return nt(this[Me]).keys()}values(){const m=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const h=m.next();return h.done?h:{done:!1,value:this.get(h.value)}}}}entries(){const m=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const h=m.next();if(h.done)return h;const v=this.get(h.value);return{done:!1,value:[h.value,v]}}}}[Symbol.iterator](){return this.entries()}}function t(p,m){const h=new e(p,m);return[h,h[Me]]}function n(p){p.copy_||(p.assigned_=new Map,p.copy_=new Map(p.base_))}class s extends Set{constructor(m,h){super(),this[Me]={type_:3,parent_:h,scope_:h?h.scope_:Yl(),modified_:!1,finalized_:!1,copy_:void 0,base_:m,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1,assigned_:void 0,callbacks_:[]}}get size(){return nt(this[Me]).size}has(m){const h=this[Me];return u(h),h.copy_?!!(h.copy_.has(m)||h.drafts_.has(m)&&h.copy_.has(h.drafts_.get(m))):h.base_.has(m)}add(m){const h=this[Me];return u(h),this.has(m)||(a(h),zr(h),h.copy_.add(m),Gf(h,m,m)),this}delete(m){if(!this.has(m))return!1;const h=this[Me];return u(h),a(h),zr(h),h.copy_.delete(m)||(h.drafts_.has(m)?h.copy_.delete(h.drafts_.get(m)):!1)}clear(){const m=this[Me];u(m),nt(m).size&&(a(m),zr(m),m.copy_.clear())}values(){const m=this[Me];return u(m),a(m),m.copy_.values()}entries(){const m=this[Me];return u(m),a(m),m.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(m,h){const v=this.values();let x=v.next();for(;!x.done;)m.call(h,x.value,x.value,this),x=v.next()}}function i(p,m){const h=new s(p,m);return[h,h[Me]]}function a(p){p.copy_||(p.copy_=new Set,p.base_.forEach(m=>{if(dr(m)){const h=ri(p.scope_,m,p,m);p.drafts_.set(m,h),p.copy_.add(h)}else p.copy_.add(m)}))}function u(p){p.revoked_&&Yt(3,JSON.stringify(nt(p)))}function d(p){if(p.type_===3&&p.copy_){const m=new Set(p.copy_);p.copy_.clear(),m.forEach(h=>{p.copy_.add(W_(h))})}}K_(Qs,{proxyMap_:t,proxySet_:i,fixSetContents:d})}var sS=new rS,iS=sS.produce;const aS=e=>(t,n,s)=>(s.setState=(i,a,...u)=>{const d=typeof i=="function"?iS(i):i;return t(d,a,...u)},e(s.setState,n,s)),lS=aS,cS=e=>(t,n,s)=>{const i=s.subscribe;return s.subscribe=((u,d,p)=>{let m=u;if(d){const h=(p==null?void 0:p.equalityFn)||Object.is;let v=u(s.getState());m=x=>{const b=u(x);if(!h(v,b)){const j=v;d(v=b,j)}},p!=null&&p.fireImmediately&&d(v,v)}return i(m)}),e(t,n,s)},uS=cS,dS={type:"object",required:["fact","operator","value"],properties:{fact:{type:"string",minLength:1},operator:{type:"string",minLength:1},value:{},path:{type:"string"},params:{type:"object",additionalProperties:!0}},additionalProperties:!1},fS={type:"object",required:["type","params"],properties:{type:{type:"string",enum:["warning","fatality","info"]},params:{type:"object",required:["message"],properties:{message:{type:"string",minLength:1},category:{type:"string"},ruleId:{type:"string"}},additionalProperties:!0}},additionalProperties:!1},Ox={$id:"https://x-fidelity.dev/schemas/rule.json",$schema:"http://json-schema.org/draft-07/schema#",title:"X-Fidelity Rule Definition",description:"Schema for validating X-Fidelity rule definitions",type:"object",required:["name","conditions","event"],properties:{name:{type:"string",pattern:"^[a-zA-Z][a-zA-Z0-9]*(-[a-z0-9]+)*$",minLength:3,description:"Rule name (camelCase first part, then kebab-case segments)"},conditions:{$ref:"#/$defs/nestedCondition"},event:fS,priority:{type:"integer",minimum:1,maximum:100,default:1,description:"Execution priority (higher runs first)"}},additionalProperties:!1,$defs:{condition:dS,nestedCondition:{type:"object",properties:{all:{type:"array",items:{$ref:"#/$defs/conditionOrNested"}},any:{type:"array",items:{$ref:"#/$defs/conditionOrNested"}},not:{$ref:"#/$defs/conditionOrNested"}},additionalProperties:!1},conditionOrNested:{oneOf:[{$ref:"#/$defs/condition"},{$ref:"#/$defs/nestedCondition"}]}}},pS={name:"mySampleRule-iterative",conditions:{all:[]},event:{type:"warning",params:{message:"Rule triggered"}}};function zt(e){return e==null?e:JSON.parse(JSON.stringify(e))}function Do(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(e===null||t===null)return e===t;if(typeof e!="object")return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length!==t.length?!1:e.every((i,a)=>Do(i,t[a]));if(Array.isArray(e)!==Array.isArray(t))return!1;const n=Object.keys(e),s=Object.keys(t);return n.length!==s.length?!1:n.every(i=>Do(e[i],t[i]))}function ar(e,t){if(!e||t.length===0)return e;let n=e;for(const s of t){if(n==null||typeof n!="object")return;if(Array.isArray(n)){const i=parseInt(s,10);if(isNaN(i))return;n=n[i]}else n=n[s]}return n}function mS(e,t,n){if(t.length===0)return n;const s=zt(e);let i=s;for(let u=0;u<t.length-1;u++){const d=t[u];if(d!==void 0)if(Array.isArray(i)){const p=parseInt(d,10);i=i[p]}else i&&typeof i=="object"&&(i=i[d])}const a=t[t.length-1];if(a===void 0)return s;if(Array.isArray(i)){const u=parseInt(a,10);i[u]=n}else i&&typeof i=="object"&&(i[a]=n);return s}function R0(e,t){if(t.length===0)return e;const n=zt(e);let s=n;for(let a=0;a<t.length-1;a++){const u=t[a];if(u!==void 0)if(Array.isArray(s)){const d=parseInt(u,10);s=s[d]}else s&&typeof s=="object"&&(s=s[u])}const i=t[t.length-1];if(i===void 0)return n;if(Array.isArray(s)){const a=parseInt(i,10);s.splice(a,1)}else s&&typeof s=="object"&&delete s[i];return n}function tf(e,t,n){if(t.length===0)return e;const s=zt(e),i=t.slice(0,-1),a=ar(s,i);if(!Array.isArray(a))return s;const u=t[t.length-1];if(u===void 0)return s;const d=parseInt(u,10);return a.splice(d,0,n),s}function hS(e){return e.slice(0,-1)}function Zt(e){return e.join(".")}function Kf(e,t){return e.length!==t.length?!1:e.every((n,s)=>n===t[s])}function gS(e,t){if(t.length===0)return"rule";const[n,...s]=t;if(n==="conditions"){if(s.length===0)return"conditions";const i=ar(e.conditions,s);return i&&typeof i=="object"&&("all"in i||"any"in i||"not"in i)?"condition-group":i&&typeof i=="object"&&"fact"in i?"condition":"condition-group"}return n==="event"?s.length===0?"event":"event-param":"unknown"}const yS=50;function vS(){return{history:[],historyIndex:-1,canUndo:!1,canRedo:!1}}function xS(e,t){return{undo:()=>{e(n=>{if(n.historyIndex<=0)return{};const s=n.historyIndex-1;return{rule:zt(n.history[s]),historyIndex:s,canUndo:s>0,canRedo:!0}})},redo:()=>{e(n=>{if(n.historyIndex>=n.history.length-1)return{};const s=n.historyIndex+1;return{rule:zt(n.history[s]),historyIndex:s,canUndo:!0,canRedo:s<n.history.length-1}})},clearHistory:()=>{e(()=>({history:[],historyIndex:-1,canUndo:!1,canRedo:!1}))},pushHistory:n=>{e(s=>{if(s.historyIndex>=0&&Do(s.history[s.historyIndex],n))return{};const a=[...s.history.slice(0,s.historyIndex+1),zt(n)];a.length>yS&&a.shift();const u=a.length-1;return{history:a,historyIndex:u,canUndo:u>0,canRedo:!1,isDirty:!0}})}}}var La={exports:{}},rf={},Dr={},Fn={},nf={},of={},sf={},$0;function Ql(){return $0||($0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(C){if(super(),!e.IDENTIFIER.test(C))throw new Error("CodeGen: name must be a valid identifier");this.str=C}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class s extends t{constructor(C){super(),this._items=typeof C=="string"?[C]:C}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const C=this._items[0];return C===""||C==='""'}get str(){var C;return(C=this._str)!==null&&C!==void 0?C:this._str=this._items.reduce((E,P)=>`${E}${P}`,"")}get names(){var C;return(C=this._names)!==null&&C!==void 0?C:this._names=this._items.reduce((E,P)=>(P instanceof n&&(E[P.str]=(E[P.str]||0)+1),E),{})}}e._Code=s,e.nil=new s("");function i(N,...C){const E=[N[0]];let P=0;for(;P<C.length;)d(E,C[P]),E.push(N[++P]);return new s(E)}e._=i;const a=new s("+");function u(N,...C){const E=[b(N[0])];let P=0;for(;P<C.length;)E.push(a),d(E,C[P]),E.push(a,b(N[++P]));return p(E),new s(E)}e.str=u;function d(N,C){C instanceof s?N.push(...C._items):C instanceof n?N.push(C):N.push(v(C))}e.addCodeArg=d;function p(N){let C=1;for(;C<N.length-1;){if(N[C]===a){const E=m(N[C-1],N[C+1]);if(E!==void 0){N.splice(C-1,3,E);continue}N[C++]="+"}C++}}function m(N,C){if(C==='""')return N;if(N==='""')return C;if(typeof N=="string")return C instanceof n||N[N.length-1]!=='"'?void 0:typeof C!="string"?`${N.slice(0,-1)}${C}"`:C[0]==='"'?N.slice(0,-1)+C.slice(1):void 0;if(typeof C=="string"&&C[0]==='"'&&!(N instanceof n))return`"${N}${C.slice(1)}`}function h(N,C){return C.emptyStr()?N:N.emptyStr()?C:u`${N}${C}`}e.strConcat=h;function v(N){return typeof N=="number"||typeof N=="boolean"||N===null?N:b(Array.isArray(N)?N.join(","):N)}function x(N){return new s(b(N))}e.stringify=x;function b(N){return JSON.stringify(N).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=b;function j(N){return typeof N=="string"&&e.IDENTIFIER.test(N)?new s(`.${N}`):i`[${N}]`}e.getProperty=j;function S(N){if(typeof N=="string"&&e.IDENTIFIER.test(N))return new s(`${N}`);throw new Error(`CodeGen: invalid export name: ${N}, use explicit $id name mapping`)}e.getEsmExportName=S;function w(N){return new s(N.toString())}e.regexpCode=w})(sf)),sf}var af={},T0;function O0(){return T0||(T0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Ql();class n extends Error{constructor(m){super(`CodeGen: "code" for ${m} not defined`),this.value=m.value}}var s;(function(p){p[p.Started=0]="Started",p[p.Completed=1]="Completed"})(s||(e.UsedValueState=s={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:m,parent:h}={}){this._names={},this._prefixes=m,this._parent=h}toName(m){return m instanceof t.Name?m:this.name(m)}name(m){return new t.Name(this._newName(m))}_newName(m){const h=this._names[m]||this._nameGroup(m);return`${m}${h.index++}`}_nameGroup(m){var h,v;if(!((v=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||v===void 0)&&v.has(m)||this._prefixes&&!this._prefixes.has(m))throw new Error(`CodeGen: prefix "${m}" is not allowed in this scope`);return this._names[m]={prefix:m,index:0}}}e.Scope=i;class a extends t.Name{constructor(m,h){super(h),this.prefix=m}setValue(m,{property:h,itemIndex:v}){this.value=m,this.scopePath=(0,t._)`.${new t.Name(h)}[${v}]`}}e.ValueScopeName=a;const u=(0,t._)`\n`;class d extends i{constructor(m){super(m),this._values={},this._scope=m.scope,this.opts={...m,_n:m.lines?u:t.nil}}get(){return this._scope}name(m){return new a(m,this._newName(m))}value(m,h){var v;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const x=this.toName(m),{prefix:b}=x,j=(v=h.key)!==null&&v!==void 0?v:h.ref;let S=this._values[b];if(S){const C=S.get(j);if(C)return C}else S=this._values[b]=new Map;S.set(j,x);const w=this._scope[b]||(this._scope[b]=[]),N=w.length;return w[N]=h.ref,x.setValue(h,{property:b,itemIndex:N}),x}getValue(m,h){const v=this._values[m];if(v)return v.get(h)}scopeRefs(m,h=this._values){return this._reduceValues(h,v=>{if(v.scopePath===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return(0,t._)`${m}${v.scopePath}`})}scopeCode(m=this._values,h,v){return this._reduceValues(m,x=>{if(x.value===void 0)throw new Error(`CodeGen: name "${x}" has no value`);return x.value.code},h,v)}_reduceValues(m,h,v={},x){let b=t.nil;for(const j in m){const S=m[j];if(!S)continue;const w=v[j]=v[j]||new Map;S.forEach(N=>{if(w.has(N))return;w.set(N,s.Started);let C=h(N);if(C){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;b=(0,t._)`${b}${E} ${N} = ${C};${this.opts._n}`}else if(C=x==null?void 0:x(N))b=(0,t._)`${b}${C}${this.opts._n}`;else throw new n(N);w.set(N,s.Completed)})}return b}}e.ValueScope=d})(af)),af}var M0;function $e(){return M0||(M0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Ql(),n=O0();var s=Ql();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return s.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return s.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return s.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return s.Name}});var i=O0();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(M,A){return this}}class u extends a{constructor(M,A,Z){super(),this.varKind=M,this.name=A,this.rhs=Z}render({es5:M,_n:A}){const Z=M?n.varKinds.var:this.varKind,ee=this.rhs===void 0?"":` = ${this.rhs}`;return`${Z} ${this.name}${ee};`+A}optimizeNames(M,A){if(M[this.name.str])return this.rhs&&(this.rhs=ne(this.rhs,M,A)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class d extends a{constructor(M,A,Z){super(),this.lhs=M,this.rhs=A,this.sideEffects=Z}render({_n:M}){return`${this.lhs} = ${this.rhs};`+M}optimizeNames(M,A){if(!(this.lhs instanceof t.Name&&!M[this.lhs.str]&&!this.sideEffects))return this.rhs=ne(this.rhs,M,A),this}get names(){const M=this.lhs instanceof t.Name?{}:{...this.lhs.names};return re(M,this.rhs)}}class p extends d{constructor(M,A,Z,ee){super(M,Z,ee),this.op=A}render({_n:M}){return`${this.lhs} ${this.op}= ${this.rhs};`+M}}class m extends a{constructor(M){super(),this.label=M,this.names={}}render({_n:M}){return`${this.label}:`+M}}class h extends a{constructor(M){super(),this.label=M,this.names={}}render({_n:M}){return`break${this.label?` ${this.label}`:""};`+M}}class v extends a{constructor(M){super(),this.error=M}render({_n:M}){return`throw ${this.error};`+M}get names(){return this.error.names}}class x extends a{constructor(M){super(),this.code=M}render({_n:M}){return`${this.code};`+M}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(M,A){return this.code=ne(this.code,M,A),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class b extends a{constructor(M=[]){super(),this.nodes=M}render(M){return this.nodes.reduce((A,Z)=>A+Z.render(M),"")}optimizeNodes(){const{nodes:M}=this;let A=M.length;for(;A--;){const Z=M[A].optimizeNodes();Array.isArray(Z)?M.splice(A,1,...Z):Z?M[A]=Z:M.splice(A,1)}return M.length>0?this:void 0}optimizeNames(M,A){const{nodes:Z}=this;let ee=Z.length;for(;ee--;){const ae=Z[ee];ae.optimizeNames(M,A)||(se(M,ae.names),Z.splice(ee,1))}return Z.length>0?this:void 0}get names(){return this.nodes.reduce((M,A)=>te(M,A.names),{})}}class j extends b{render(M){return"{"+M._n+super.render(M)+"}"+M._n}}class S extends b{}class w extends j{}w.kind="else";class N extends j{constructor(M,A){super(A),this.condition=M}render(M){let A=`if(${this.condition})`+super.render(M);return this.else&&(A+="else "+this.else.render(M)),A}optimizeNodes(){super.optimizeNodes();const M=this.condition;if(M===!0)return this.nodes;let A=this.else;if(A){const Z=A.optimizeNodes();A=this.else=Array.isArray(Z)?new w(Z):Z}if(A)return M===!1?A instanceof N?A:A.nodes:this.nodes.length?this:new N(le(M),A instanceof N?[A]:A.nodes);if(!(M===!1||!this.nodes.length))return this}optimizeNames(M,A){var Z;if(this.else=(Z=this.else)===null||Z===void 0?void 0:Z.optimizeNames(M,A),!!(super.optimizeNames(M,A)||this.else))return this.condition=ne(this.condition,M,A),this}get names(){const M=super.names;return re(M,this.condition),this.else&&te(M,this.else.names),M}}N.kind="if";class C extends j{}C.kind="for";class E extends C{constructor(M){super(),this.iteration=M}render(M){return`for(${this.iteration})`+super.render(M)}optimizeNames(M,A){if(super.optimizeNames(M,A))return this.iteration=ne(this.iteration,M,A),this}get names(){return te(super.names,this.iteration.names)}}class P extends C{constructor(M,A,Z,ee){super(),this.varKind=M,this.name=A,this.from=Z,this.to=ee}render(M){const A=M.es5?n.varKinds.var:this.varKind,{name:Z,from:ee,to:ae}=this;return`for(${A} ${Z}=${ee}; ${Z}<${ae}; ${Z}++)`+super.render(M)}get names(){const M=re(super.names,this.from);return re(M,this.to)}}class k extends C{constructor(M,A,Z,ee){super(),this.loop=M,this.varKind=A,this.name=Z,this.iterable=ee}render(M){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(M)}optimizeNames(M,A){if(super.optimizeNames(M,A))return this.iterable=ne(this.iterable,M,A),this}get names(){return te(super.names,this.iterable.names)}}class R extends j{constructor(M,A,Z){super(),this.name=M,this.args=A,this.async=Z}render(M){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(M)}}R.kind="func";class $ extends b{render(M){return"return "+super.render(M)}}$.kind="return";class L extends j{render(M){let A="try"+super.render(M);return this.catch&&(A+=this.catch.render(M)),this.finally&&(A+=this.finally.render(M)),A}optimizeNodes(){var M,A;return super.optimizeNodes(),(M=this.catch)===null||M===void 0||M.optimizeNodes(),(A=this.finally)===null||A===void 0||A.optimizeNodes(),this}optimizeNames(M,A){var Z,ee;return super.optimizeNames(M,A),(Z=this.catch)===null||Z===void 0||Z.optimizeNames(M,A),(ee=this.finally)===null||ee===void 0||ee.optimizeNames(M,A),this}get names(){const M=super.names;return this.catch&&te(M,this.catch.names),this.finally&&te(M,this.finally.names),M}}class K extends j{constructor(M){super(),this.error=M}render(M){return`catch(${this.error})`+super.render(M)}}K.kind="catch";class U extends j{render(M){return"finally"+super.render(M)}}U.kind="finally";class G{constructor(M,A={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...A,_n:A.lines?`
`:""},this._extScope=M,this._scope=new n.Scope({parent:M}),this._nodes=[new S]}toString(){return this._root.render(this.opts)}name(M){return this._scope.name(M)}scopeName(M){return this._extScope.name(M)}scopeValue(M,A){const Z=this._extScope.value(M,A);return(this._values[Z.prefix]||(this._values[Z.prefix]=new Set)).add(Z),Z}getScopeValue(M,A){return this._extScope.getValue(M,A)}scopeRefs(M){return this._extScope.scopeRefs(M,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(M,A,Z,ee){const ae=this._scope.toName(A);return Z!==void 0&&ee&&(this._constants[ae.str]=Z),this._leafNode(new u(M,ae,Z)),ae}const(M,A,Z){return this._def(n.varKinds.const,M,A,Z)}let(M,A,Z){return this._def(n.varKinds.let,M,A,Z)}var(M,A,Z){return this._def(n.varKinds.var,M,A,Z)}assign(M,A,Z){return this._leafNode(new d(M,A,Z))}add(M,A){return this._leafNode(new p(M,e.operators.ADD,A))}code(M){return typeof M=="function"?M():M!==t.nil&&this._leafNode(new x(M)),this}object(...M){const A=["{"];for(const[Z,ee]of M)A.length>1&&A.push(","),A.push(Z),(Z!==ee||this.opts.es5)&&(A.push(":"),(0,t.addCodeArg)(A,ee));return A.push("}"),new t._Code(A)}if(M,A,Z){if(this._blockNode(new N(M)),A&&Z)this.code(A).else().code(Z).endIf();else if(A)this.code(A).endIf();else if(Z)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(M){return this._elseNode(new N(M))}else(){return this._elseNode(new w)}endIf(){return this._endBlockNode(N,w)}_for(M,A){return this._blockNode(M),A&&this.code(A).endFor(),this}for(M,A){return this._for(new E(M),A)}forRange(M,A,Z,ee,ae=this.opts.es5?n.varKinds.var:n.varKinds.let){const he=this._scope.toName(M);return this._for(new P(ae,he,A,Z),()=>ee(he))}forOf(M,A,Z,ee=n.varKinds.const){const ae=this._scope.toName(M);if(this.opts.es5){const he=A instanceof t.Name?A:this.var("_arr",A);return this.forRange("_i",0,(0,t._)`${he}.length`,ge=>{this.var(ae,(0,t._)`${he}[${ge}]`),Z(ae)})}return this._for(new k("of",ee,ae,A),()=>Z(ae))}forIn(M,A,Z,ee=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(M,(0,t._)`Object.keys(${A})`,Z);const ae=this._scope.toName(M);return this._for(new k("in",ee,ae,A),()=>Z(ae))}endFor(){return this._endBlockNode(C)}label(M){return this._leafNode(new m(M))}break(M){return this._leafNode(new h(M))}return(M){const A=new $;if(this._blockNode(A),this.code(M),A.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($)}try(M,A,Z){if(!A&&!Z)throw new Error('CodeGen: "try" without "catch" and "finally"');const ee=new L;if(this._blockNode(ee),this.code(M),A){const ae=this.name("e");this._currNode=ee.catch=new K(ae),A(ae)}return Z&&(this._currNode=ee.finally=new U,this.code(Z)),this._endBlockNode(K,U)}throw(M){return this._leafNode(new v(M))}block(M,A){return this._blockStarts.push(this._nodes.length),M&&this.code(M).endBlock(A),this}endBlock(M){const A=this._blockStarts.pop();if(A===void 0)throw new Error("CodeGen: not in self-balancing block");const Z=this._nodes.length-A;if(Z<0||M!==void 0&&Z!==M)throw new Error(`CodeGen: wrong number of nodes: ${Z} vs ${M} expected`);return this._nodes.length=A,this}func(M,A=t.nil,Z,ee){return this._blockNode(new R(M,A,Z)),ee&&this.code(ee).endFunc(),this}endFunc(){return this._endBlockNode(R)}optimize(M=1){for(;M-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(M){return this._currNode.nodes.push(M),this}_blockNode(M){this._currNode.nodes.push(M),this._nodes.push(M)}_endBlockNode(M,A){const Z=this._currNode;if(Z instanceof M||A&&Z instanceof A)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${A?`${M.kind}/${A.kind}`:M.kind}"`)}_elseNode(M){const A=this._currNode;if(!(A instanceof N))throw new Error('CodeGen: "else" without "if"');return this._currNode=A.else=M,this}get _root(){return this._nodes[0]}get _currNode(){const M=this._nodes;return M[M.length-1]}set _currNode(M){const A=this._nodes;A[A.length-1]=M}}e.CodeGen=G;function te(F,M){for(const A in M)F[A]=(F[A]||0)+(M[A]||0);return F}function re(F,M){return M instanceof t._CodeOrName?te(F,M.names):F}function ne(F,M,A){if(F instanceof t.Name)return Z(F);if(!ee(F))return F;return new t._Code(F._items.reduce((ae,he)=>(he instanceof t.Name&&(he=Z(he)),he instanceof t._Code?ae.push(...he._items):ae.push(he),ae),[]));function Z(ae){const he=A[ae.str];return he===void 0||M[ae.str]!==1?ae:(delete M[ae.str],he)}function ee(ae){return ae instanceof t._Code&&ae._items.some(he=>he instanceof t.Name&&M[he.str]===1&&A[he.str]!==void 0)}}function se(F,M){for(const A in M)F[A]=(F[A]||0)-(M[A]||0)}function le(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,t._)`!${I(F)}`}e.not=le;const pe=O(e.operators.AND);function H(...F){return F.reduce(pe)}e.and=H;const X=O(e.operators.OR);function B(...F){return F.reduce(X)}e.or=B;function O(F){return(M,A)=>M===t.nil?A:A===t.nil?M:(0,t._)`${I(M)} ${F} ${I(A)}`}function I(F){return F instanceof t.Name?F:(0,t._)`(${F})`}})(of)),of}var Re={},A0;function De(){if(A0)return Re;A0=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.checkStrictMode=Re.getErrorPath=Re.Type=Re.useFunc=Re.setEvaluated=Re.evaluatedPropsToName=Re.mergeEvaluated=Re.eachItem=Re.unescapeJsonPointer=Re.escapeJsonPointer=Re.escapeFragment=Re.unescapeFragment=Re.schemaRefOrVal=Re.schemaHasRulesButRef=Re.schemaHasRules=Re.checkUnknownRules=Re.alwaysValidSchema=Re.toHash=void 0;const e=$e(),t=Ql();function n(k){const R={};for(const $ of k)R[$]=!0;return R}Re.toHash=n;function s(k,R){return typeof R=="boolean"?R:Object.keys(R).length===0?!0:(i(k,R),!a(R,k.self.RULES.all))}Re.alwaysValidSchema=s;function i(k,R=k.schema){const{opts:$,self:L}=k;if(!$.strictSchema||typeof R=="boolean")return;const K=L.RULES.keywords;for(const U in R)K[U]||P(k,`unknown keyword: "${U}"`)}Re.checkUnknownRules=i;function a(k,R){if(typeof k=="boolean")return!k;for(const $ in k)if(R[$])return!0;return!1}Re.schemaHasRules=a;function u(k,R){if(typeof k=="boolean")return!k;for(const $ in k)if($!=="$ref"&&R.all[$])return!0;return!1}Re.schemaHasRulesButRef=u;function d({topSchemaRef:k,schemaPath:R},$,L,K){if(!K){if(typeof $=="number"||typeof $=="boolean")return $;if(typeof $=="string")return(0,e._)`${$}`}return(0,e._)`${k}${R}${(0,e.getProperty)(L)}`}Re.schemaRefOrVal=d;function p(k){return v(decodeURIComponent(k))}Re.unescapeFragment=p;function m(k){return encodeURIComponent(h(k))}Re.escapeFragment=m;function h(k){return typeof k=="number"?`${k}`:k.replace(/~/g,"~0").replace(/\//g,"~1")}Re.escapeJsonPointer=h;function v(k){return k.replace(/~1/g,"/").replace(/~0/g,"~")}Re.unescapeJsonPointer=v;function x(k,R){if(Array.isArray(k))for(const $ of k)R($);else R(k)}Re.eachItem=x;function b({mergeNames:k,mergeToName:R,mergeValues:$,resultToName:L}){return(K,U,G,te)=>{const re=G===void 0?U:G instanceof e.Name?(U instanceof e.Name?k(K,U,G):R(K,U,G),G):U instanceof e.Name?(R(K,G,U),U):$(U,G);return te===e.Name&&!(re instanceof e.Name)?L(K,re):re}}Re.mergeEvaluated={props:b({mergeNames:(k,R,$)=>k.if((0,e._)`${$} !== true && ${R} !== undefined`,()=>{k.if((0,e._)`${R} === true`,()=>k.assign($,!0),()=>k.assign($,(0,e._)`${$} || {}`).code((0,e._)`Object.assign(${$}, ${R})`))}),mergeToName:(k,R,$)=>k.if((0,e._)`${$} !== true`,()=>{R===!0?k.assign($,!0):(k.assign($,(0,e._)`${$} || {}`),S(k,$,R))}),mergeValues:(k,R)=>k===!0?!0:{...k,...R},resultToName:j}),items:b({mergeNames:(k,R,$)=>k.if((0,e._)`${$} !== true && ${R} !== undefined`,()=>k.assign($,(0,e._)`${R} === true ? true : ${$} > ${R} ? ${$} : ${R}`)),mergeToName:(k,R,$)=>k.if((0,e._)`${$} !== true`,()=>k.assign($,R===!0?!0:(0,e._)`${$} > ${R} ? ${$} : ${R}`)),mergeValues:(k,R)=>k===!0?!0:Math.max(k,R),resultToName:(k,R)=>k.var("items",R)})};function j(k,R){if(R===!0)return k.var("props",!0);const $=k.var("props",(0,e._)`{}`);return R!==void 0&&S(k,$,R),$}Re.evaluatedPropsToName=j;function S(k,R,$){Object.keys($).forEach(L=>k.assign((0,e._)`${R}${(0,e.getProperty)(L)}`,!0))}Re.setEvaluated=S;const w={};function N(k,R){return k.scopeValue("func",{ref:R,code:w[R.code]||(w[R.code]=new t._Code(R.code))})}Re.useFunc=N;var C;(function(k){k[k.Num=0]="Num",k[k.Str=1]="Str"})(C||(Re.Type=C={}));function E(k,R,$){if(k instanceof e.Name){const L=R===C.Num;return $?L?(0,e._)`"[" + ${k} + "]"`:(0,e._)`"['" + ${k} + "']"`:L?(0,e._)`"/" + ${k}`:(0,e._)`"/" + ${k}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return $?(0,e.getProperty)(k).toString():"/"+h(k)}Re.getErrorPath=E;function P(k,R,$=k.opts.strictSchema){if($){if(R=`strict mode: ${R}`,$===!0)throw new Error(R);k.self.logger.warn(R)}}return Re.checkStrictMode=P,Re}var Fa={},I0;function bn(){if(I0)return Fa;I0=1,Object.defineProperty(Fa,"__esModule",{value:!0});const e=$e(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Fa.default=t,Fa}var D0;function Mc(){return D0||(D0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=$e(),n=De(),s=bn();e.keywordError={message:({keyword:w})=>(0,t.str)`must pass "${w}" keyword validation`},e.keyword$DataError={message:({keyword:w,schemaType:N})=>N?(0,t.str)`"${w}" keyword must be ${N} ($data)`:(0,t.str)`"${w}" keyword is invalid ($data)`};function i(w,N=e.keywordError,C,E){const{it:P}=w,{gen:k,compositeRule:R,allErrors:$}=P,L=v(w,N,C);E??(R||$)?p(k,L):m(P,(0,t._)`[${L}]`)}e.reportError=i;function a(w,N=e.keywordError,C){const{it:E}=w,{gen:P,compositeRule:k,allErrors:R}=E,$=v(w,N,C);p(P,$),k||R||m(E,s.default.vErrors)}e.reportExtraError=a;function u(w,N){w.assign(s.default.errors,N),w.if((0,t._)`${s.default.vErrors} !== null`,()=>w.if(N,()=>w.assign((0,t._)`${s.default.vErrors}.length`,N),()=>w.assign(s.default.vErrors,null)))}e.resetErrorsCount=u;function d({gen:w,keyword:N,schemaValue:C,data:E,errsCount:P,it:k}){if(P===void 0)throw new Error("ajv implementation error");const R=w.name("err");w.forRange("i",P,s.default.errors,$=>{w.const(R,(0,t._)`${s.default.vErrors}[${$}]`),w.if((0,t._)`${R}.instancePath === undefined`,()=>w.assign((0,t._)`${R}.instancePath`,(0,t.strConcat)(s.default.instancePath,k.errorPath))),w.assign((0,t._)`${R}.schemaPath`,(0,t.str)`${k.errSchemaPath}/${N}`),k.opts.verbose&&(w.assign((0,t._)`${R}.schema`,C),w.assign((0,t._)`${R}.data`,E))})}e.extendErrors=d;function p(w,N){const C=w.const("err",N);w.if((0,t._)`${s.default.vErrors} === null`,()=>w.assign(s.default.vErrors,(0,t._)`[${C}]`),(0,t._)`${s.default.vErrors}.push(${C})`),w.code((0,t._)`${s.default.errors}++`)}function m(w,N){const{gen:C,validateName:E,schemaEnv:P}=w;P.$async?C.throw((0,t._)`new ${w.ValidationError}(${N})`):(C.assign((0,t._)`${E}.errors`,N),C.return(!1))}const h={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function v(w,N,C){const{createErrors:E}=w.it;return E===!1?(0,t._)`{}`:x(w,N,C)}function x(w,N,C={}){const{gen:E,it:P}=w,k=[b(P,C),j(w,C)];return S(w,N,k),E.object(...k)}function b({errorPath:w},{instancePath:N}){const C=N?(0,t.str)`${w}${(0,n.getErrorPath)(N,n.Type.Str)}`:w;return[s.default.instancePath,(0,t.strConcat)(s.default.instancePath,C)]}function j({keyword:w,it:{errSchemaPath:N}},{schemaPath:C,parentSchema:E}){let P=E?N:(0,t.str)`${N}/${w}`;return C&&(P=(0,t.str)`${P}${(0,n.getErrorPath)(C,n.Type.Str)}`),[h.schemaPath,P]}function S(w,{params:N,message:C},E){const{keyword:P,data:k,schemaValue:R,it:$}=w,{opts:L,propertyName:K,topSchemaRef:U,schemaPath:G}=$;E.push([h.keyword,P],[h.params,typeof N=="function"?N(w):N||(0,t._)`{}`]),L.messages&&E.push([h.message,typeof C=="function"?C(w):C]),L.verbose&&E.push([h.schema,R],[h.parentSchema,(0,t._)`${U}${G}`],[s.default.data,k]),K&&E.push([h.propertyName,K])}})(nf)),nf}var L0;function wS(){if(L0)return Fn;L0=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.boolOrEmptySchema=Fn.topBoolOrEmptySchema=void 0;const e=Mc(),t=$e(),n=bn(),s={message:"boolean schema is false"};function i(d){const{gen:p,schema:m,validateName:h}=d;m===!1?u(d,!1):typeof m=="object"&&m.$async===!0?p.return(n.default.data):(p.assign((0,t._)`${h}.errors`,null),p.return(!0))}Fn.topBoolOrEmptySchema=i;function a(d,p){const{gen:m,schema:h}=d;h===!1?(m.var(p,!1),u(d)):m.var(p,!0)}Fn.boolOrEmptySchema=a;function u(d,p){const{gen:m,data:h}=d,v={gen:m,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:d};(0,e.reportError)(v,s,void 0,p)}return Fn}var ft={},zn={},F0;function Mx(){if(F0)return zn;F0=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.getRules=zn.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}zn.isJSONType=n;function s(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return zn.getRules=s,zn}var Lr={},z0;function Ax(){if(z0)return Lr;z0=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.shouldUseRule=Lr.shouldUseGroup=Lr.schemaHasRulesForType=void 0;function e({schema:s,self:i},a){const u=i.RULES.types[a];return u&&u!==!0&&t(s,u)}Lr.schemaHasRulesForType=e;function t(s,i){return i.rules.some(a=>n(s,a))}Lr.shouldUseGroup=t;function n(s,i){var a;return s[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(u=>s[u]!==void 0))}return Lr.shouldUseRule=n,Lr}var V0;function ec(){if(V0)return ft;V0=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.reportTypeError=ft.checkDataTypes=ft.checkDataType=ft.coerceAndCheckDataType=ft.getJSONTypes=ft.getSchemaTypes=ft.DataType=void 0;const e=Mx(),t=Ax(),n=Mc(),s=$e(),i=De();var a;(function(C){C[C.Correct=0]="Correct",C[C.Wrong=1]="Wrong"})(a||(ft.DataType=a={}));function u(C){const E=d(C.type);if(E.includes("null")){if(C.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!E.length&&C.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');C.nullable===!0&&E.push("null")}return E}ft.getSchemaTypes=u;function d(C){const E=Array.isArray(C)?C:C?[C]:[];if(E.every(e.isJSONType))return E;throw new Error("type must be JSONType or JSONType[]: "+E.join(","))}ft.getJSONTypes=d;function p(C,E){const{gen:P,data:k,opts:R}=C,$=h(E,R.coerceTypes),L=E.length>0&&!($.length===0&&E.length===1&&(0,t.schemaHasRulesForType)(C,E[0]));if(L){const K=j(E,k,R.strictNumbers,a.Wrong);P.if(K,()=>{$.length?v(C,E,$):w(C)})}return L}ft.coerceAndCheckDataType=p;const m=new Set(["string","number","integer","boolean","null"]);function h(C,E){return E?C.filter(P=>m.has(P)||E==="array"&&P==="array"):[]}function v(C,E,P){const{gen:k,data:R,opts:$}=C,L=k.let("dataType",(0,s._)`typeof ${R}`),K=k.let("coerced",(0,s._)`undefined`);$.coerceTypes==="array"&&k.if((0,s._)`${L} == 'object' && Array.isArray(${R}) && ${R}.length == 1`,()=>k.assign(R,(0,s._)`${R}[0]`).assign(L,(0,s._)`typeof ${R}`).if(j(E,R,$.strictNumbers),()=>k.assign(K,R))),k.if((0,s._)`${K} !== undefined`);for(const G of P)(m.has(G)||G==="array"&&$.coerceTypes==="array")&&U(G);k.else(),w(C),k.endIf(),k.if((0,s._)`${K} !== undefined`,()=>{k.assign(R,K),x(C,K)});function U(G){switch(G){case"string":k.elseIf((0,s._)`${L} == "number" || ${L} == "boolean"`).assign(K,(0,s._)`"" + ${R}`).elseIf((0,s._)`${R} === null`).assign(K,(0,s._)`""`);return;case"number":k.elseIf((0,s._)`${L} == "boolean" || ${R} === null
              || (${L} == "string" && ${R} && ${R} == +${R})`).assign(K,(0,s._)`+${R}`);return;case"integer":k.elseIf((0,s._)`${L} === "boolean" || ${R} === null
              || (${L} === "string" && ${R} && ${R} == +${R} && !(${R} % 1))`).assign(K,(0,s._)`+${R}`);return;case"boolean":k.elseIf((0,s._)`${R} === "false" || ${R} === 0 || ${R} === null`).assign(K,!1).elseIf((0,s._)`${R} === "true" || ${R} === 1`).assign(K,!0);return;case"null":k.elseIf((0,s._)`${R} === "" || ${R} === 0 || ${R} === false`),k.assign(K,null);return;case"array":k.elseIf((0,s._)`${L} === "string" || ${L} === "number"
              || ${L} === "boolean" || ${R} === null`).assign(K,(0,s._)`[${R}]`)}}}function x({gen:C,parentData:E,parentDataProperty:P},k){C.if((0,s._)`${E} !== undefined`,()=>C.assign((0,s._)`${E}[${P}]`,k))}function b(C,E,P,k=a.Correct){const R=k===a.Correct?s.operators.EQ:s.operators.NEQ;let $;switch(C){case"null":return(0,s._)`${E} ${R} null`;case"array":$=(0,s._)`Array.isArray(${E})`;break;case"object":$=(0,s._)`${E} && typeof ${E} == "object" && !Array.isArray(${E})`;break;case"integer":$=L((0,s._)`!(${E} % 1) && !isNaN(${E})`);break;case"number":$=L();break;default:return(0,s._)`typeof ${E} ${R} ${C}`}return k===a.Correct?$:(0,s.not)($);function L(K=s.nil){return(0,s.and)((0,s._)`typeof ${E} == "number"`,K,P?(0,s._)`isFinite(${E})`:s.nil)}}ft.checkDataType=b;function j(C,E,P,k){if(C.length===1)return b(C[0],E,P,k);let R;const $=(0,i.toHash)(C);if($.array&&$.object){const L=(0,s._)`typeof ${E} != "object"`;R=$.null?L:(0,s._)`!${E} || ${L}`,delete $.null,delete $.array,delete $.object}else R=s.nil;$.number&&delete $.integer;for(const L in $)R=(0,s.and)(R,b(L,E,P,k));return R}ft.checkDataTypes=j;const S={message:({schema:C})=>`must be ${C}`,params:({schema:C,schemaValue:E})=>typeof C=="string"?(0,s._)`{type: ${C}}`:(0,s._)`{type: ${E}}`};function w(C){const E=N(C);(0,n.reportError)(E,S)}ft.reportTypeError=w;function N(C){const{gen:E,data:P,schema:k}=C,R=(0,i.schemaRefOrVal)(C,k,"type");return{gen:E,keyword:"type",data:P,schema:k.type,schemaCode:R,schemaValue:R,parentSchema:k,params:{},it:C}}return ft}var Os={},U0;function bS(){if(U0)return Os;U0=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.assignDefaults=void 0;const e=$e(),t=De();function n(i,a){const{properties:u,items:d}=i.schema;if(a==="object"&&u)for(const p in u)s(i,p,u[p].default);else a==="array"&&Array.isArray(d)&&d.forEach((p,m)=>s(i,m,p.default))}Os.assignDefaults=n;function s(i,a,u){const{gen:d,compositeRule:p,data:m,opts:h}=i;if(u===void 0)return;const v=(0,e._)`${m}${(0,e.getProperty)(a)}`;if(p){(0,t.checkStrictMode)(i,`default is ignored for: ${v}`);return}let x=(0,e._)`${v} === undefined`;h.useDefaults==="empty"&&(x=(0,e._)`${x} || ${v} === null || ${v} === ""`),d.if(x,(0,e._)`${v} = ${(0,e.stringify)(u)}`)}return Os}var sr={},Ve={},H0;function mr(){if(H0)return Ve;H0=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.validateUnion=Ve.validateArray=Ve.usePattern=Ve.callValidateCode=Ve.schemaProperties=Ve.allSchemaProperties=Ve.noPropertyInData=Ve.propertyInData=Ve.isOwnProperty=Ve.hasPropFunc=Ve.reportMissingProp=Ve.checkMissingProp=Ve.checkReportMissingProp=void 0;const e=$e(),t=De(),n=bn(),s=De();function i(C,E){const{gen:P,data:k,it:R}=C;P.if(h(P,k,E,R.opts.ownProperties),()=>{C.setParams({missingProperty:(0,e._)`${E}`},!0),C.error()})}Ve.checkReportMissingProp=i;function a({gen:C,data:E,it:{opts:P}},k,R){return(0,e.or)(...k.map($=>(0,e.and)(h(C,E,$,P.ownProperties),(0,e._)`${R} = ${$}`)))}Ve.checkMissingProp=a;function u(C,E){C.setParams({missingProperty:E},!0),C.error()}Ve.reportMissingProp=u;function d(C){return C.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Ve.hasPropFunc=d;function p(C,E,P){return(0,e._)`${d(C)}.call(${E}, ${P})`}Ve.isOwnProperty=p;function m(C,E,P,k){const R=(0,e._)`${E}${(0,e.getProperty)(P)} !== undefined`;return k?(0,e._)`${R} && ${p(C,E,P)}`:R}Ve.propertyInData=m;function h(C,E,P,k){const R=(0,e._)`${E}${(0,e.getProperty)(P)} === undefined`;return k?(0,e.or)(R,(0,e.not)(p(C,E,P))):R}Ve.noPropertyInData=h;function v(C){return C?Object.keys(C).filter(E=>E!=="__proto__"):[]}Ve.allSchemaProperties=v;function x(C,E){return v(E).filter(P=>!(0,t.alwaysValidSchema)(C,E[P]))}Ve.schemaProperties=x;function b({schemaCode:C,data:E,it:{gen:P,topSchemaRef:k,schemaPath:R,errorPath:$},it:L},K,U,G){const te=G?(0,e._)`${C}, ${E}, ${k}${R}`:E,re=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,$)],[n.default.parentData,L.parentData],[n.default.parentDataProperty,L.parentDataProperty],[n.default.rootData,n.default.rootData]];L.opts.dynamicRef&&re.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const ne=(0,e._)`${te}, ${P.object(...re)}`;return U!==e.nil?(0,e._)`${K}.call(${U}, ${ne})`:(0,e._)`${K}(${ne})`}Ve.callValidateCode=b;const j=(0,e._)`new RegExp`;function S({gen:C,it:{opts:E}},P){const k=E.unicodeRegExp?"u":"",{regExp:R}=E.code,$=R(P,k);return C.scopeValue("pattern",{key:$.toString(),ref:$,code:(0,e._)`${R.code==="new RegExp"?j:(0,s.useFunc)(C,R)}(${P}, ${k})`})}Ve.usePattern=S;function w(C){const{gen:E,data:P,keyword:k,it:R}=C,$=E.name("valid");if(R.allErrors){const K=E.let("valid",!0);return L(()=>E.assign(K,!1)),K}return E.var($,!0),L(()=>E.break()),$;function L(K){const U=E.const("len",(0,e._)`${P}.length`);E.forRange("i",0,U,G=>{C.subschema({keyword:k,dataProp:G,dataPropType:t.Type.Num},$),E.if((0,e.not)($),K)})}}Ve.validateArray=w;function N(C){const{gen:E,schema:P,keyword:k,it:R}=C;if(!Array.isArray(P))throw new Error("ajv implementation error");if(P.some(U=>(0,t.alwaysValidSchema)(R,U))&&!R.opts.unevaluated)return;const L=E.let("valid",!1),K=E.name("_valid");E.block(()=>P.forEach((U,G)=>{const te=C.subschema({keyword:k,schemaProp:G,compositeRule:!0},K);E.assign(L,(0,e._)`${L} || ${K}`),C.mergeValidEvaluated(te,K)||E.if((0,e.not)(L))})),C.result(L,()=>C.reset(),()=>C.error(!0))}return Ve.validateUnion=N,Ve}var q0;function CS(){if(q0)return sr;q0=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.validateKeywordUsage=sr.validSchemaType=sr.funcKeywordCode=sr.macroKeywordCode=void 0;const e=$e(),t=bn(),n=mr(),s=Mc();function i(x,b){const{gen:j,keyword:S,schema:w,parentSchema:N,it:C}=x,E=b.macro.call(C.self,w,N,C),P=m(j,S,E);C.opts.validateSchema!==!1&&C.self.validateSchema(E,!0);const k=j.name("valid");x.subschema({schema:E,schemaPath:e.nil,errSchemaPath:`${C.errSchemaPath}/${S}`,topSchemaRef:P,compositeRule:!0},k),x.pass(k,()=>x.error(!0))}sr.macroKeywordCode=i;function a(x,b){var j;const{gen:S,keyword:w,schema:N,parentSchema:C,$data:E,it:P}=x;p(P,b);const k=!E&&b.compile?b.compile.call(P.self,N,C,P):b.validate,R=m(S,w,k),$=S.let("valid");x.block$data($,L),x.ok((j=b.valid)!==null&&j!==void 0?j:$);function L(){if(b.errors===!1)G(),b.modifying&&u(x),te(()=>x.error());else{const re=b.async?K():U();b.modifying&&u(x),te(()=>d(x,re))}}function K(){const re=S.let("ruleErrs",null);return S.try(()=>G((0,e._)`await `),ne=>S.assign($,!1).if((0,e._)`${ne} instanceof ${P.ValidationError}`,()=>S.assign(re,(0,e._)`${ne}.errors`),()=>S.throw(ne))),re}function U(){const re=(0,e._)`${R}.errors`;return S.assign(re,null),G(e.nil),re}function G(re=b.async?(0,e._)`await `:e.nil){const ne=P.opts.passContext?t.default.this:t.default.self,se=!("compile"in b&&!E||b.schema===!1);S.assign($,(0,e._)`${re}${(0,n.callValidateCode)(x,R,ne,se)}`,b.modifying)}function te(re){var ne;S.if((0,e.not)((ne=b.valid)!==null&&ne!==void 0?ne:$),re)}}sr.funcKeywordCode=a;function u(x){const{gen:b,data:j,it:S}=x;b.if(S.parentData,()=>b.assign(j,(0,e._)`${S.parentData}[${S.parentDataProperty}]`))}function d(x,b){const{gen:j}=x;j.if((0,e._)`Array.isArray(${b})`,()=>{j.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${b} : ${t.default.vErrors}.concat(${b})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,s.extendErrors)(x)},()=>x.error())}function p({schemaEnv:x},b){if(b.async&&!x.$async)throw new Error("async keyword in sync schema")}function m(x,b,j){if(j===void 0)throw new Error(`keyword "${b}" failed to compile`);return x.scopeValue("keyword",typeof j=="function"?{ref:j}:{ref:j,code:(0,e.stringify)(j)})}function h(x,b,j=!1){return!b.length||b.some(S=>S==="array"?Array.isArray(x):S==="object"?x&&typeof x=="object"&&!Array.isArray(x):typeof x==S||j&&typeof x>"u")}sr.validSchemaType=h;function v({schema:x,opts:b,self:j,errSchemaPath:S},w,N){if(Array.isArray(w.keyword)?!w.keyword.includes(N):w.keyword!==N)throw new Error("ajv implementation error");const C=w.dependencies;if(C!=null&&C.some(E=>!Object.prototype.hasOwnProperty.call(x,E)))throw new Error(`parent schema must have dependencies of ${N}: ${C.join(",")}`);if(w.validateSchema&&!w.validateSchema(x[N])){const P=`keyword "${N}" value is invalid at path "${S}": `+j.errorsText(w.validateSchema.errors);if(b.validateSchema==="log")j.logger.error(P);else throw new Error(P)}}return sr.validateKeywordUsage=v,sr}var Fr={},B0;function _S(){if(B0)return Fr;B0=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.extendSubschemaMode=Fr.extendSubschemaData=Fr.getSubschema=void 0;const e=$e(),t=De();function n(a,{keyword:u,schemaProp:d,schema:p,schemaPath:m,errSchemaPath:h,topSchemaRef:v}){if(u!==void 0&&p!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(u!==void 0){const x=a.schema[u];return d===void 0?{schema:x,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(u)}`,errSchemaPath:`${a.errSchemaPath}/${u}`}:{schema:x[d],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(u)}${(0,e.getProperty)(d)}`,errSchemaPath:`${a.errSchemaPath}/${u}/${(0,t.escapeFragment)(d)}`}}if(p!==void 0){if(m===void 0||h===void 0||v===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:p,schemaPath:m,topSchemaRef:v,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')}Fr.getSubschema=n;function s(a,u,{dataProp:d,dataPropType:p,data:m,dataTypes:h,propertyName:v}){if(m!==void 0&&d!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:x}=u;if(d!==void 0){const{errorPath:j,dataPathArr:S,opts:w}=u,N=x.let("data",(0,e._)`${u.data}${(0,e.getProperty)(d)}`,!0);b(N),a.errorPath=(0,e.str)`${j}${(0,t.getErrorPath)(d,p,w.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${d}`,a.dataPathArr=[...S,a.parentDataProperty]}if(m!==void 0){const j=m instanceof e.Name?m:x.let("data",m,!0);b(j),v!==void 0&&(a.propertyName=v)}h&&(a.dataTypes=h);function b(j){a.data=j,a.dataLevel=u.dataLevel+1,a.dataTypes=[],u.definedProperties=new Set,a.parentData=u.data,a.dataNames=[...u.dataNames,j]}}Fr.extendSubschemaData=s;function i(a,{jtdDiscriminator:u,jtdMetadata:d,compositeRule:p,createErrors:m,allErrors:h}){p!==void 0&&(a.compositeRule=p),m!==void 0&&(a.createErrors=m),h!==void 0&&(a.allErrors=h),a.jtdDiscriminator=u,a.jtdMetadata=d}return Fr.extendSubschemaMode=i,Fr}var _t={},lf,W0;function Ix(){return W0||(W0=1,lf=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,i,a;if(Array.isArray(t)){if(s=t.length,s!=n.length)return!1;for(i=s;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),s=a.length,s!==Object.keys(n).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=s;i--!==0;){var u=a[i];if(!e(t[u],n[u]))return!1}return!0}return t!==t&&n!==n}),lf}var cf={exports:{}},G0;function SS(){if(G0)return cf.exports;G0=1;var e=cf.exports=function(s,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var u=typeof a=="function"?a:a.pre||function(){},d=a.post||function(){};t(i,u,d,s,"",s)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(s,i,a,u,d,p,m,h,v,x){if(u&&typeof u=="object"&&!Array.isArray(u)){i(u,d,p,m,h,v,x);for(var b in u){var j=u[b];if(Array.isArray(j)){if(b in e.arrayKeywords)for(var S=0;S<j.length;S++)t(s,i,a,j[S],d+"/"+b+"/"+S,p,d,b,u,S)}else if(b in e.propsKeywords){if(j&&typeof j=="object")for(var w in j)t(s,i,a,j[w],d+"/"+b+"/"+n(w),p,d,b,u,w)}else(b in e.keywords||s.allKeys&&!(b in e.skipKeywords))&&t(s,i,a,j,d+"/"+b,p,d,b,u)}a(u,d,p,m,h,v,x)}}function n(s){return s.replace(/~/g,"~0").replace(/\//g,"~1")}return cf.exports}var K0;function Ac(){if(K0)return _t;K0=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.getSchemaRefs=_t.resolveUrl=_t.normalizeId=_t._getFullPath=_t.getFullPath=_t.inlineRef=void 0;const e=De(),t=Ix(),n=SS(),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(S,w=!0){return typeof S=="boolean"?!0:w===!0?!u(S):w?d(S)<=w:!1}_t.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(S){for(const w in S){if(a.has(w))return!0;const N=S[w];if(Array.isArray(N)&&N.some(u)||typeof N=="object"&&u(N))return!0}return!1}function d(S){let w=0;for(const N in S){if(N==="$ref")return 1/0;if(w++,!s.has(N)&&(typeof S[N]=="object"&&(0,e.eachItem)(S[N],C=>w+=d(C)),w===1/0))return 1/0}return w}function p(S,w="",N){N!==!1&&(w=v(w));const C=S.parse(w);return m(S,C)}_t.getFullPath=p;function m(S,w){return S.serialize(w).split("#")[0]+"#"}_t._getFullPath=m;const h=/#\/?$/;function v(S){return S?S.replace(h,""):""}_t.normalizeId=v;function x(S,w,N){return N=v(N),S.resolve(w,N)}_t.resolveUrl=x;const b=/^[a-z_][-a-z0-9._]*$/i;function j(S,w){if(typeof S=="boolean")return{};const{schemaId:N,uriResolver:C}=this.opts,E=v(S[N]||w),P={"":E},k=p(C,E,!1),R={},$=new Set;return n(S,{allKeys:!0},(U,G,te,re)=>{if(re===void 0)return;const ne=k+G;let se=P[re];typeof U[N]=="string"&&(se=le.call(this,U[N])),pe.call(this,U.$anchor),pe.call(this,U.$dynamicAnchor),P[G]=se;function le(H){const X=this.opts.uriResolver.resolve;if(H=v(se?X(se,H):H),$.has(H))throw K(H);$.add(H);let B=this.refs[H];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?L(U,B.schema,H):H!==v(ne)&&(H[0]==="#"?(L(U,R[H],H),R[H]=U):this.refs[H]=ne),H}function pe(H){if(typeof H=="string"){if(!b.test(H))throw new Error(`invalid anchor "${H}"`);le.call(this,`#${H}`)}}}),R;function L(U,G,te){if(G!==void 0&&!t(U,G))throw K(te)}function K(U){return new Error(`reference "${U}" resolves to more than one schema`)}}return _t.getSchemaRefs=j,_t}var Z0;function Ic(){if(Z0)return Dr;Z0=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.getData=Dr.KeywordCxt=Dr.validateFunctionCode=void 0;const e=wS(),t=ec(),n=Ax(),s=ec(),i=bS(),a=CS(),u=_S(),d=$e(),p=bn(),m=Ac(),h=De(),v=Mc();function x(V){if(k(V)&&($(V),P(V))){w(V);return}b(V,()=>(0,e.topBoolOrEmptySchema)(V))}Dr.validateFunctionCode=x;function b({gen:V,validateName:W,schema:oe,schemaEnv:de,opts:ve},je){ve.code.es5?V.func(W,(0,d._)`${p.default.data}, ${p.default.valCxt}`,de.$async,()=>{V.code((0,d._)`"use strict"; ${C(oe,ve)}`),S(V,ve),V.code(je)}):V.func(W,(0,d._)`${p.default.data}, ${j(ve)}`,de.$async,()=>V.code(C(oe,ve)).code(je))}function j(V){return(0,d._)`{${p.default.instancePath}="", ${p.default.parentData}, ${p.default.parentDataProperty}, ${p.default.rootData}=${p.default.data}${V.dynamicRef?(0,d._)`, ${p.default.dynamicAnchors}={}`:d.nil}}={}`}function S(V,W){V.if(p.default.valCxt,()=>{V.var(p.default.instancePath,(0,d._)`${p.default.valCxt}.${p.default.instancePath}`),V.var(p.default.parentData,(0,d._)`${p.default.valCxt}.${p.default.parentData}`),V.var(p.default.parentDataProperty,(0,d._)`${p.default.valCxt}.${p.default.parentDataProperty}`),V.var(p.default.rootData,(0,d._)`${p.default.valCxt}.${p.default.rootData}`),W.dynamicRef&&V.var(p.default.dynamicAnchors,(0,d._)`${p.default.valCxt}.${p.default.dynamicAnchors}`)},()=>{V.var(p.default.instancePath,(0,d._)`""`),V.var(p.default.parentData,(0,d._)`undefined`),V.var(p.default.parentDataProperty,(0,d._)`undefined`),V.var(p.default.rootData,p.default.data),W.dynamicRef&&V.var(p.default.dynamicAnchors,(0,d._)`{}`)})}function w(V){const{schema:W,opts:oe,gen:de}=V;b(V,()=>{oe.$comment&&W.$comment&&re(V),U(V),de.let(p.default.vErrors,null),de.let(p.default.errors,0),oe.unevaluated&&N(V),L(V),ne(V)})}function N(V){const{gen:W,validateName:oe}=V;V.evaluated=W.const("evaluated",(0,d._)`${oe}.evaluated`),W.if((0,d._)`${V.evaluated}.dynamicProps`,()=>W.assign((0,d._)`${V.evaluated}.props`,(0,d._)`undefined`)),W.if((0,d._)`${V.evaluated}.dynamicItems`,()=>W.assign((0,d._)`${V.evaluated}.items`,(0,d._)`undefined`))}function C(V,W){const oe=typeof V=="object"&&V[W.schemaId];return oe&&(W.code.source||W.code.process)?(0,d._)`/*# sourceURL=${oe} */`:d.nil}function E(V,W){if(k(V)&&($(V),P(V))){R(V,W);return}(0,e.boolOrEmptySchema)(V,W)}function P({schema:V,self:W}){if(typeof V=="boolean")return!V;for(const oe in V)if(W.RULES.all[oe])return!0;return!1}function k(V){return typeof V.schema!="boolean"}function R(V,W){const{schema:oe,gen:de,opts:ve}=V;ve.$comment&&oe.$comment&&re(V),G(V),te(V);const je=de.const("_errs",p.default.errors);L(V,je),de.var(W,(0,d._)`${je} === ${p.default.errors}`)}function $(V){(0,h.checkUnknownRules)(V),K(V)}function L(V,W){if(V.opts.jtd)return le(V,[],!1,W);const oe=(0,t.getSchemaTypes)(V.schema),de=(0,t.coerceAndCheckDataType)(V,oe);le(V,oe,!de,W)}function K(V){const{schema:W,errSchemaPath:oe,opts:de,self:ve}=V;W.$ref&&de.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(W,ve.RULES)&&ve.logger.warn(`$ref: keywords ignored in schema at path "${oe}"`)}function U(V){const{schema:W,opts:oe}=V;W.default!==void 0&&oe.useDefaults&&oe.strictSchema&&(0,h.checkStrictMode)(V,"default is ignored in the schema root")}function G(V){const W=V.schema[V.opts.schemaId];W&&(V.baseId=(0,m.resolveUrl)(V.opts.uriResolver,V.baseId,W))}function te(V){if(V.schema.$async&&!V.schemaEnv.$async)throw new Error("async schema in sync schema")}function re({gen:V,schemaEnv:W,schema:oe,errSchemaPath:de,opts:ve}){const je=oe.$comment;if(ve.$comment===!0)V.code((0,d._)`${p.default.self}.logger.log(${je})`);else if(typeof ve.$comment=="function"){const Ue=(0,d.str)`${de}/$comment`,ht=V.scopeValue("root",{ref:W.root});V.code((0,d._)`${p.default.self}.opts.$comment(${je}, ${Ue}, ${ht}.schema)`)}}function ne(V){const{gen:W,schemaEnv:oe,validateName:de,ValidationError:ve,opts:je}=V;oe.$async?W.if((0,d._)`${p.default.errors} === 0`,()=>W.return(p.default.data),()=>W.throw((0,d._)`new ${ve}(${p.default.vErrors})`)):(W.assign((0,d._)`${de}.errors`,p.default.vErrors),je.unevaluated&&se(V),W.return((0,d._)`${p.default.errors} === 0`))}function se({gen:V,evaluated:W,props:oe,items:de}){oe instanceof d.Name&&V.assign((0,d._)`${W}.props`,oe),de instanceof d.Name&&V.assign((0,d._)`${W}.items`,de)}function le(V,W,oe,de){const{gen:ve,schema:je,data:Ue,allErrors:ht,opts:Ze,self:tt}=V,{RULES:Ge}=tt;if(je.$ref&&(Ze.ignoreKeywordsWithRef||!(0,h.schemaHasRulesButRef)(je,Ge))){ve.block(()=>ee(V,"$ref",Ge.all.$ref.definition));return}Ze.jtd||H(V,W),ve.block(()=>{for(const wt of Ge.rules)hr(wt);hr(Ge.post)});function hr(wt){(0,n.shouldUseGroup)(je,wt)&&(wt.type?(ve.if((0,s.checkDataType)(wt.type,Ue,Ze.strictNumbers)),pe(V,wt),W.length===1&&W[0]===wt.type&&oe&&(ve.else(),(0,s.reportTypeError)(V)),ve.endIf()):pe(V,wt),ht||ve.if((0,d._)`${p.default.errors} === ${de||0}`))}}function pe(V,W){const{gen:oe,schema:de,opts:{useDefaults:ve}}=V;ve&&(0,i.assignDefaults)(V,W.type),oe.block(()=>{for(const je of W.rules)(0,n.shouldUseRule)(de,je)&&ee(V,je.keyword,je.definition,W.type)})}function H(V,W){V.schemaEnv.meta||!V.opts.strictTypes||(X(V,W),V.opts.allowUnionTypes||B(V,W),O(V,V.dataTypes))}function X(V,W){if(W.length){if(!V.dataTypes.length){V.dataTypes=W;return}W.forEach(oe=>{F(V.dataTypes,oe)||A(V,`type "${oe}" not allowed by context "${V.dataTypes.join(",")}"`)}),M(V,W)}}function B(V,W){W.length>1&&!(W.length===2&&W.includes("null"))&&A(V,"use allowUnionTypes to allow union type keyword")}function O(V,W){const oe=V.self.RULES.all;for(const de in oe){const ve=oe[de];if(typeof ve=="object"&&(0,n.shouldUseRule)(V.schema,ve)){const{type:je}=ve.definition;je.length&&!je.some(Ue=>I(W,Ue))&&A(V,`missing type "${je.join(",")}" for keyword "${de}"`)}}}function I(V,W){return V.includes(W)||W==="number"&&V.includes("integer")}function F(V,W){return V.includes(W)||W==="integer"&&V.includes("number")}function M(V,W){const oe=[];for(const de of V.dataTypes)F(W,de)?oe.push(de):W.includes("integer")&&de==="number"&&oe.push("integer");V.dataTypes=oe}function A(V,W){const oe=V.schemaEnv.baseId+V.errSchemaPath;W+=` at "${oe}" (strictTypes)`,(0,h.checkStrictMode)(V,W,V.opts.strictTypes)}class Z{constructor(W,oe,de){if((0,a.validateKeywordUsage)(W,oe,de),this.gen=W.gen,this.allErrors=W.allErrors,this.keyword=de,this.data=W.data,this.schema=W.schema[de],this.$data=oe.$data&&W.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(W,this.schema,de,this.$data),this.schemaType=oe.schemaType,this.parentSchema=W.schema,this.params={},this.it=W,this.def=oe,this.$data)this.schemaCode=W.gen.const("vSchema",ge(this.$data,W));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,oe.schemaType,oe.allowUndefined))throw new Error(`${de} value must be ${JSON.stringify(oe.schemaType)}`);("code"in oe?oe.trackErrors:oe.errors!==!1)&&(this.errsCount=W.gen.const("_errs",p.default.errors))}result(W,oe,de){this.failResult((0,d.not)(W),oe,de)}failResult(W,oe,de){this.gen.if(W),de?de():this.error(),oe?(this.gen.else(),oe(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(W,oe){this.failResult((0,d.not)(W),void 0,oe)}fail(W){if(W===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(W),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(W){if(!this.$data)return this.fail(W);const{schemaCode:oe}=this;this.fail((0,d._)`${oe} !== undefined && (${(0,d.or)(this.invalid$data(),W)})`)}error(W,oe,de){if(oe){this.setParams(oe),this._error(W,de),this.setParams({});return}this._error(W,de)}_error(W,oe){(W?v.reportExtraError:v.reportError)(this,this.def.error,oe)}$dataError(){(0,v.reportError)(this,this.def.$dataError||v.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,v.resetErrorsCount)(this.gen,this.errsCount)}ok(W){this.allErrors||this.gen.if(W)}setParams(W,oe){oe?Object.assign(this.params,W):this.params=W}block$data(W,oe,de=d.nil){this.gen.block(()=>{this.check$data(W,de),oe()})}check$data(W=d.nil,oe=d.nil){if(!this.$data)return;const{gen:de,schemaCode:ve,schemaType:je,def:Ue}=this;de.if((0,d.or)((0,d._)`${ve} === undefined`,oe)),W!==d.nil&&de.assign(W,!0),(je.length||Ue.validateSchema)&&(de.elseIf(this.invalid$data()),this.$dataError(),W!==d.nil&&de.assign(W,!1)),de.else()}invalid$data(){const{gen:W,schemaCode:oe,schemaType:de,def:ve,it:je}=this;return(0,d.or)(Ue(),ht());function Ue(){if(de.length){if(!(oe instanceof d.Name))throw new Error("ajv implementation error");const Ze=Array.isArray(de)?de:[de];return(0,d._)`${(0,s.checkDataTypes)(Ze,oe,je.opts.strictNumbers,s.DataType.Wrong)}`}return d.nil}function ht(){if(ve.validateSchema){const Ze=W.scopeValue("validate$data",{ref:ve.validateSchema});return(0,d._)`!${Ze}(${oe})`}return d.nil}}subschema(W,oe){const de=(0,u.getSubschema)(this.it,W);(0,u.extendSubschemaData)(de,this.it,W),(0,u.extendSubschemaMode)(de,W);const ve={...this.it,...de,items:void 0,props:void 0};return E(ve,oe),ve}mergeEvaluated(W,oe){const{it:de,gen:ve}=this;de.opts.unevaluated&&(de.props!==!0&&W.props!==void 0&&(de.props=h.mergeEvaluated.props(ve,W.props,de.props,oe)),de.items!==!0&&W.items!==void 0&&(de.items=h.mergeEvaluated.items(ve,W.items,de.items,oe)))}mergeValidEvaluated(W,oe){const{it:de,gen:ve}=this;if(de.opts.unevaluated&&(de.props!==!0||de.items!==!0))return ve.if(oe,()=>this.mergeEvaluated(W,d.Name)),!0}}Dr.KeywordCxt=Z;function ee(V,W,oe,de){const ve=new Z(V,oe,W);"code"in oe?oe.code(ve,de):ve.$data&&oe.validate?(0,a.funcKeywordCode)(ve,oe):"macro"in oe?(0,a.macroKeywordCode)(ve,oe):(oe.compile||oe.validate)&&(0,a.funcKeywordCode)(ve,oe)}const ae=/^\/(?:[^~]|~0|~1)*$/,he=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ge(V,{dataLevel:W,dataNames:oe,dataPathArr:de}){let ve,je;if(V==="")return p.default.rootData;if(V[0]==="/"){if(!ae.test(V))throw new Error(`Invalid JSON-pointer: ${V}`);ve=V,je=p.default.rootData}else{const tt=he.exec(V);if(!tt)throw new Error(`Invalid JSON-pointer: ${V}`);const Ge=+tt[1];if(ve=tt[2],ve==="#"){if(Ge>=W)throw new Error(Ze("property/index",Ge));return de[W-Ge]}if(Ge>W)throw new Error(Ze("data",Ge));if(je=oe[W-Ge],!ve)return je}let Ue=je;const ht=ve.split("/");for(const tt of ht)tt&&(je=(0,d._)`${je}${(0,d.getProperty)((0,h.unescapeJsonPointer)(tt))}`,Ue=(0,d._)`${Ue} && ${je}`);return Ue;function Ze(tt,Ge){return`Cannot access ${tt} ${Ge} levels up, current level is ${W}`}}return Dr.getData=ge,Dr}var za={},Y0;function Tp(){if(Y0)return za;Y0=1,Object.defineProperty(za,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return za.default=e,za}var Va={},J0;function Dc(){if(J0)return Va;J0=1,Object.defineProperty(Va,"__esModule",{value:!0});const e=Ac();class t extends Error{constructor(s,i,a,u){super(u||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,e.resolveUrl)(s,i,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(s,this.missingRef))}}return Va.default=t,Va}var Dt={},X0;function Op(){if(X0)return Dt;X0=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.resolveSchema=Dt.getCompilingSchema=Dt.resolveRef=Dt.compileSchema=Dt.SchemaEnv=void 0;const e=$e(),t=Tp(),n=bn(),s=Ac(),i=De(),a=Ic();class u{constructor(N){var C;this.refs={},this.dynamicAnchors={};let E;typeof N.schema=="object"&&(E=N.schema),this.schema=N.schema,this.schemaId=N.schemaId,this.root=N.root||this,this.baseId=(C=N.baseId)!==null&&C!==void 0?C:(0,s.normalizeId)(E==null?void 0:E[N.schemaId||"$id"]),this.schemaPath=N.schemaPath,this.localRefs=N.localRefs,this.meta=N.meta,this.$async=E==null?void 0:E.$async,this.refs={}}}Dt.SchemaEnv=u;function d(w){const N=h.call(this,w);if(N)return N;const C=(0,s.getFullPath)(this.opts.uriResolver,w.root.baseId),{es5:E,lines:P}=this.opts.code,{ownProperties:k}=this.opts,R=new e.CodeGen(this.scope,{es5:E,lines:P,ownProperties:k});let $;w.$async&&($=R.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const L=R.scopeName("validate");w.validateName=L;const K={gen:R,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:R.scopeValue("schema",this.opts.code.source===!0?{ref:w.schema,code:(0,e.stringify)(w.schema)}:{ref:w.schema}),validateName:L,ValidationError:$,schema:w.schema,schemaEnv:w,rootId:C,baseId:w.baseId||C,schemaPath:e.nil,errSchemaPath:w.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let U;try{this._compilations.add(w),(0,a.validateFunctionCode)(K),R.optimize(this.opts.code.optimize);const G=R.toString();U=`${R.scopeRefs(n.default.scope)}return ${G}`,this.opts.code.process&&(U=this.opts.code.process(U,w));const re=new Function(`${n.default.self}`,`${n.default.scope}`,U)(this,this.scope.get());if(this.scope.value(L,{ref:re}),re.errors=null,re.schema=w.schema,re.schemaEnv=w,w.$async&&(re.$async=!0),this.opts.code.source===!0&&(re.source={validateName:L,validateCode:G,scopeValues:R._values}),this.opts.unevaluated){const{props:ne,items:se}=K;re.evaluated={props:ne instanceof e.Name?void 0:ne,items:se instanceof e.Name?void 0:se,dynamicProps:ne instanceof e.Name,dynamicItems:se instanceof e.Name},re.source&&(re.source.evaluated=(0,e.stringify)(re.evaluated))}return w.validate=re,w}catch(G){throw delete w.validate,delete w.validateName,U&&this.logger.error("Error compiling schema, function code:",U),G}finally{this._compilations.delete(w)}}Dt.compileSchema=d;function p(w,N,C){var E;C=(0,s.resolveUrl)(this.opts.uriResolver,N,C);const P=w.refs[C];if(P)return P;let k=x.call(this,w,C);if(k===void 0){const R=(E=w.localRefs)===null||E===void 0?void 0:E[C],{schemaId:$}=this.opts;R&&(k=new u({schema:R,schemaId:$,root:w,baseId:N}))}if(k!==void 0)return w.refs[C]=m.call(this,k)}Dt.resolveRef=p;function m(w){return(0,s.inlineRef)(w.schema,this.opts.inlineRefs)?w.schema:w.validate?w:d.call(this,w)}function h(w){for(const N of this._compilations)if(v(N,w))return N}Dt.getCompilingSchema=h;function v(w,N){return w.schema===N.schema&&w.root===N.root&&w.baseId===N.baseId}function x(w,N){let C;for(;typeof(C=this.refs[N])=="string";)N=C;return C||this.schemas[N]||b.call(this,w,N)}function b(w,N){const C=this.opts.uriResolver.parse(N),E=(0,s._getFullPath)(this.opts.uriResolver,C);let P=(0,s.getFullPath)(this.opts.uriResolver,w.baseId,void 0);if(Object.keys(w.schema).length>0&&E===P)return S.call(this,C,w);const k=(0,s.normalizeId)(E),R=this.refs[k]||this.schemas[k];if(typeof R=="string"){const $=b.call(this,w,R);return typeof($==null?void 0:$.schema)!="object"?void 0:S.call(this,C,$)}if(typeof(R==null?void 0:R.schema)=="object"){if(R.validate||d.call(this,R),k===(0,s.normalizeId)(N)){const{schema:$}=R,{schemaId:L}=this.opts,K=$[L];return K&&(P=(0,s.resolveUrl)(this.opts.uriResolver,P,K)),new u({schema:$,schemaId:L,root:w,baseId:P})}return S.call(this,C,R)}}Dt.resolveSchema=b;const j=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function S(w,{baseId:N,schema:C,root:E}){var P;if(((P=w.fragment)===null||P===void 0?void 0:P[0])!=="/")return;for(const $ of w.fragment.slice(1).split("/")){if(typeof C=="boolean")return;const L=C[(0,i.unescapeFragment)($)];if(L===void 0)return;C=L;const K=typeof C=="object"&&C[this.opts.schemaId];!j.has($)&&K&&(N=(0,s.resolveUrl)(this.opts.uriResolver,N,K))}let k;if(typeof C!="boolean"&&C.$ref&&!(0,i.schemaHasRulesButRef)(C,this.RULES)){const $=(0,s.resolveUrl)(this.opts.uriResolver,N,C.$ref);k=b.call(this,E,$)}const{schemaId:R}=this.opts;if(k=k||new u({schema:C,schemaId:R,root:E,baseId:N}),k.schema!==k.root.schema)return k}return Dt}const NS="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",jS="Meta-schema for $data reference (JSON AnySchema extension proposal)",ES="object",kS=["$data"],PS={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},RS=!1,$S={$id:NS,description:jS,type:ES,required:kS,properties:PS,additionalProperties:RS};var Ua={},Ms={exports:{}},uf,Q0;function Dx(){if(Q0)return uf;Q0=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function n(x){let b="",j=0,S=0;for(S=0;S<x.length;S++)if(j=x[S].charCodeAt(0),j!==48){if(!(j>=48&&j<=57||j>=65&&j<=70||j>=97&&j<=102))return"";b+=x[S];break}for(S+=1;S<x.length;S++){if(j=x[S].charCodeAt(0),!(j>=48&&j<=57||j>=65&&j<=70||j>=97&&j<=102))return"";b+=x[S]}return b}const s=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function i(x){return x.length=0,!0}function a(x,b,j){if(x.length){const S=n(x);if(S!=="")b.push(S);else return j.error=!0,!1;x.length=0}return!0}function u(x){let b=0;const j={error:!1,address:"",zone:""},S=[],w=[];let N=!1,C=!1,E=a;for(let P=0;P<x.length;P++){const k=x[P];if(!(k==="["||k==="]"))if(k===":"){if(N===!0&&(C=!0),!E(w,S,j))break;if(++b>7){j.error=!0;break}P>0&&x[P-1]===":"&&(N=!0),S.push(":");continue}else if(k==="%"){if(!E(w,S,j))break;E=i}else{w.push(k);continue}}return w.length&&(E===i?j.zone=w.join(""):C?S.push(w.join("")):S.push(n(w))),j.address=S.join(""),j}function d(x){if(p(x,":")<2)return{host:x,isIPV6:!1};const b=u(x);if(b.error)return{host:x,isIPV6:!1};{let j=b.address,S=b.address;return b.zone&&(j+="%"+b.zone,S+="%25"+b.zone),{host:j,isIPV6:!0,escapedHost:S}}}function p(x,b){let j=0;for(let S=0;S<x.length;S++)x[S]===b&&j++;return j}function m(x){let b=x;const j=[];let S=-1,w=0;for(;w=b.length;){if(w===1){if(b===".")break;if(b==="/"){j.push("/");break}else{j.push(b);break}}else if(w===2){if(b[0]==="."){if(b[1]===".")break;if(b[1]==="/"){b=b.slice(2);continue}}else if(b[0]==="/"&&(b[1]==="."||b[1]==="/")){j.push("/");break}}else if(w===3&&b==="/.."){j.length!==0&&j.pop(),j.push("/");break}if(b[0]==="."){if(b[1]==="."){if(b[2]==="/"){b=b.slice(3);continue}}else if(b[1]==="/"){b=b.slice(2);continue}}else if(b[0]==="/"&&b[1]==="."){if(b[2]==="/"){b=b.slice(2);continue}else if(b[2]==="."&&b[3]==="/"){b=b.slice(3),j.length!==0&&j.pop();continue}}if((S=b.indexOf("/",1))===-1){j.push(b);break}else j.push(b.slice(0,S)),b=b.slice(S)}return j.join("")}function h(x,b){const j=b!==!0?escape:unescape;return x.scheme!==void 0&&(x.scheme=j(x.scheme)),x.userinfo!==void 0&&(x.userinfo=j(x.userinfo)),x.host!==void 0&&(x.host=j(x.host)),x.path!==void 0&&(x.path=j(x.path)),x.query!==void 0&&(x.query=j(x.query)),x.fragment!==void 0&&(x.fragment=j(x.fragment)),x}function v(x){const b=[];if(x.userinfo!==void 0&&(b.push(x.userinfo),b.push("@")),x.host!==void 0){let j=unescape(x.host);if(!t(j)){const S=d(j);S.isIPV6===!0?j=`[${S.escapedHost}]`:j=x.host}b.push(j)}return(typeof x.port=="number"||typeof x.port=="string")&&(b.push(":"),b.push(String(x.port))),b.length?b.join(""):void 0}return uf={nonSimpleDomain:s,recomposeAuthority:v,normalizeComponentEncoding:h,removeDotSegments:m,isIPv4:t,isUUID:e,normalizeIPv6:d,stringArrayToHexStripped:n},uf}var df,ey;function TS(){if(ey)return df;ey=1;const{isUUID:e}=Dx(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,n=["http","https","ws","wss","urn","urn:uuid"];function s(k){return n.indexOf(k)!==-1}function i(k){return k.secure===!0?!0:k.secure===!1?!1:k.scheme?k.scheme.length===3&&(k.scheme[0]==="w"||k.scheme[0]==="W")&&(k.scheme[1]==="s"||k.scheme[1]==="S")&&(k.scheme[2]==="s"||k.scheme[2]==="S"):!1}function a(k){return k.host||(k.error=k.error||"HTTP URIs must have a host."),k}function u(k){const R=String(k.scheme).toLowerCase()==="https";return(k.port===(R?443:80)||k.port==="")&&(k.port=void 0),k.path||(k.path="/"),k}function d(k){return k.secure=i(k),k.resourceName=(k.path||"/")+(k.query?"?"+k.query:""),k.path=void 0,k.query=void 0,k}function p(k){if((k.port===(i(k)?443:80)||k.port==="")&&(k.port=void 0),typeof k.secure=="boolean"&&(k.scheme=k.secure?"wss":"ws",k.secure=void 0),k.resourceName){const[R,$]=k.resourceName.split("?");k.path=R&&R!=="/"?R:void 0,k.query=$,k.resourceName=void 0}return k.fragment=void 0,k}function m(k,R){if(!k.path)return k.error="URN can not be parsed",k;const $=k.path.match(t);if($){const L=R.scheme||k.scheme||"urn";k.nid=$[1].toLowerCase(),k.nss=$[2];const K=`${L}:${R.nid||k.nid}`,U=P(K);k.path=void 0,U&&(k=U.parse(k,R))}else k.error=k.error||"URN can not be parsed.";return k}function h(k,R){if(k.nid===void 0)throw new Error("URN without nid cannot be serialized");const $=R.scheme||k.scheme||"urn",L=k.nid.toLowerCase(),K=`${$}:${R.nid||L}`,U=P(K);U&&(k=U.serialize(k,R));const G=k,te=k.nss;return G.path=`${L||R.nid}:${te}`,R.skipEscape=!0,G}function v(k,R){const $=k;return $.uuid=$.nss,$.nss=void 0,!R.tolerant&&(!$.uuid||!e($.uuid))&&($.error=$.error||"UUID is not valid."),$}function x(k){const R=k;return R.nss=(k.uuid||"").toLowerCase(),R}const b={scheme:"http",domainHost:!0,parse:a,serialize:u},j={scheme:"https",domainHost:b.domainHost,parse:a,serialize:u},S={scheme:"ws",domainHost:!0,parse:d,serialize:p},w={scheme:"wss",domainHost:S.domainHost,parse:S.parse,serialize:S.serialize},E={http:b,https:j,ws:S,wss:w,urn:{scheme:"urn",parse:m,serialize:h,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:v,serialize:x,skipNormalize:!0}};Object.setPrototypeOf(E,null);function P(k){return k&&(E[k]||E[k.toLowerCase()])||void 0}return df={wsIsSecure:i,SCHEMES:E,isValidSchemeName:s,getSchemeHandler:P},df}var ty;function OS(){if(ty)return Ms.exports;ty=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:n,normalizeComponentEncoding:s,isIPv4:i,nonSimpleDomain:a}=Dx(),{SCHEMES:u,getSchemeHandler:d}=TS();function p(w,N){return typeof w=="string"?w=x(j(w,N),N):typeof w=="object"&&(w=j(x(w,N),N)),w}function m(w,N,C){const E=C?Object.assign({scheme:"null"},C):{scheme:"null"},P=h(j(w,E),j(N,E),E,!0);return E.skipEscape=!0,x(P,E)}function h(w,N,C,E){const P={};return E||(w=j(x(w,C),C),N=j(x(N,C),C)),C=C||{},!C.tolerant&&N.scheme?(P.scheme=N.scheme,P.userinfo=N.userinfo,P.host=N.host,P.port=N.port,P.path=t(N.path||""),P.query=N.query):(N.userinfo!==void 0||N.host!==void 0||N.port!==void 0?(P.userinfo=N.userinfo,P.host=N.host,P.port=N.port,P.path=t(N.path||""),P.query=N.query):(N.path?(N.path[0]==="/"?P.path=t(N.path):((w.userinfo!==void 0||w.host!==void 0||w.port!==void 0)&&!w.path?P.path="/"+N.path:w.path?P.path=w.path.slice(0,w.path.lastIndexOf("/")+1)+N.path:P.path=N.path,P.path=t(P.path)),P.query=N.query):(P.path=w.path,N.query!==void 0?P.query=N.query:P.query=w.query),P.userinfo=w.userinfo,P.host=w.host,P.port=w.port),P.scheme=w.scheme),P.fragment=N.fragment,P}function v(w,N,C){return typeof w=="string"?(w=unescape(w),w=x(s(j(w,C),!0),{...C,skipEscape:!0})):typeof w=="object"&&(w=x(s(w,!0),{...C,skipEscape:!0})),typeof N=="string"?(N=unescape(N),N=x(s(j(N,C),!0),{...C,skipEscape:!0})):typeof N=="object"&&(N=x(s(N,!0),{...C,skipEscape:!0})),w.toLowerCase()===N.toLowerCase()}function x(w,N){const C={host:w.host,scheme:w.scheme,userinfo:w.userinfo,port:w.port,path:w.path,query:w.query,nid:w.nid,nss:w.nss,uuid:w.uuid,fragment:w.fragment,reference:w.reference,resourceName:w.resourceName,secure:w.secure,error:""},E=Object.assign({},N),P=[],k=d(E.scheme||C.scheme);k&&k.serialize&&k.serialize(C,E),C.path!==void 0&&(E.skipEscape?C.path=unescape(C.path):(C.path=escape(C.path),C.scheme!==void 0&&(C.path=C.path.split("%3A").join(":")))),E.reference!=="suffix"&&C.scheme&&P.push(C.scheme,":");const R=n(C);if(R!==void 0&&(E.reference!=="suffix"&&P.push("//"),P.push(R),C.path&&C.path[0]!=="/"&&P.push("/")),C.path!==void 0){let $=C.path;!E.absolutePath&&(!k||!k.absolutePath)&&($=t($)),R===void 0&&$[0]==="/"&&$[1]==="/"&&($="/%2F"+$.slice(2)),P.push($)}return C.query!==void 0&&P.push("?",C.query),C.fragment!==void 0&&P.push("#",C.fragment),P.join("")}const b=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function j(w,N){const C=Object.assign({},N),E={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let P=!1;C.reference==="suffix"&&(C.scheme?w=C.scheme+":"+w:w="//"+w);const k=w.match(b);if(k){if(E.scheme=k[1],E.userinfo=k[3],E.host=k[4],E.port=parseInt(k[5],10),E.path=k[6]||"",E.query=k[7],E.fragment=k[8],isNaN(E.port)&&(E.port=k[5]),E.host)if(i(E.host)===!1){const L=e(E.host);E.host=L.host.toLowerCase(),P=L.isIPV6}else P=!0;E.scheme===void 0&&E.userinfo===void 0&&E.host===void 0&&E.port===void 0&&E.query===void 0&&!E.path?E.reference="same-document":E.scheme===void 0?E.reference="relative":E.fragment===void 0?E.reference="absolute":E.reference="uri",C.reference&&C.reference!=="suffix"&&C.reference!==E.reference&&(E.error=E.error||"URI is not a "+C.reference+" reference.");const R=d(C.scheme||E.scheme);if(!C.unicodeSupport&&(!R||!R.unicodeSupport)&&E.host&&(C.domainHost||R&&R.domainHost)&&P===!1&&a(E.host))try{E.host=URL.domainToASCII(E.host.toLowerCase())}catch($){E.error=E.error||"Host's domain name can not be converted to ASCII: "+$}(!R||R&&!R.skipNormalize)&&(w.indexOf("%")!==-1&&(E.scheme!==void 0&&(E.scheme=unescape(E.scheme)),E.host!==void 0&&(E.host=unescape(E.host))),E.path&&(E.path=escape(unescape(E.path))),E.fragment&&(E.fragment=encodeURI(decodeURIComponent(E.fragment)))),R&&R.parse&&R.parse(E,C)}else E.error=E.error||"URI can not be parsed.";return E}const S={SCHEMES:u,normalize:p,resolve:m,resolveComponent:h,equal:v,serialize:x,parse:j};return Ms.exports=S,Ms.exports.default=S,Ms.exports.fastUri=S,Ms.exports}var ry;function MS(){if(ry)return Ua;ry=1,Object.defineProperty(Ua,"__esModule",{value:!0});const e=OS();return e.code='require("ajv/dist/runtime/uri").default',Ua.default=e,Ua}var ny;function AS(){return ny||(ny=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ic();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=$e();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const s=Tp(),i=Dc(),a=Mx(),u=Op(),d=$e(),p=Ac(),m=ec(),h=De(),v=$S,x=MS(),b=(B,O)=>new RegExp(B,O);b.code="new RegExp";const j=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),w={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},N={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},C=200;function E(B){var O,I,F,M,A,Z,ee,ae,he,ge,V,W,oe,de,ve,je,Ue,ht,Ze,tt,Ge,hr,wt,Qn,eo;const Wr=B.strict,Cn=(O=B.code)===null||O===void 0?void 0:O.optimize,_n=Cn===!0||Cn===void 0?1:Cn||0,Ko=(F=(I=B.code)===null||I===void 0?void 0:I.regExp)!==null&&F!==void 0?F:b,Sn=(M=B.uriResolver)!==null&&M!==void 0?M:x.default;return{strictSchema:(Z=(A=B.strictSchema)!==null&&A!==void 0?A:Wr)!==null&&Z!==void 0?Z:!0,strictNumbers:(ae=(ee=B.strictNumbers)!==null&&ee!==void 0?ee:Wr)!==null&&ae!==void 0?ae:!0,strictTypes:(ge=(he=B.strictTypes)!==null&&he!==void 0?he:Wr)!==null&&ge!==void 0?ge:"log",strictTuples:(W=(V=B.strictTuples)!==null&&V!==void 0?V:Wr)!==null&&W!==void 0?W:"log",strictRequired:(de=(oe=B.strictRequired)!==null&&oe!==void 0?oe:Wr)!==null&&de!==void 0?de:!1,code:B.code?{...B.code,optimize:_n,regExp:Ko}:{optimize:_n,regExp:Ko},loopRequired:(ve=B.loopRequired)!==null&&ve!==void 0?ve:C,loopEnum:(je=B.loopEnum)!==null&&je!==void 0?je:C,meta:(Ue=B.meta)!==null&&Ue!==void 0?Ue:!0,messages:(ht=B.messages)!==null&&ht!==void 0?ht:!0,inlineRefs:(Ze=B.inlineRefs)!==null&&Ze!==void 0?Ze:!0,schemaId:(tt=B.schemaId)!==null&&tt!==void 0?tt:"$id",addUsedSchema:(Ge=B.addUsedSchema)!==null&&Ge!==void 0?Ge:!0,validateSchema:(hr=B.validateSchema)!==null&&hr!==void 0?hr:!0,validateFormats:(wt=B.validateFormats)!==null&&wt!==void 0?wt:!0,unicodeRegExp:(Qn=B.unicodeRegExp)!==null&&Qn!==void 0?Qn:!0,int32range:(eo=B.int32range)!==null&&eo!==void 0?eo:!0,uriResolver:Sn}}class P{constructor(O={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,O=this.opts={...O,...E(O)};const{es5:I,lines:F}=this.opts.code;this.scope=new d.ValueScope({scope:{},prefixes:S,es5:I,lines:F}),this.logger=te(O.logger);const M=O.validateFormats;O.validateFormats=!1,this.RULES=(0,a.getRules)(),k.call(this,w,O,"NOT SUPPORTED"),k.call(this,N,O,"DEPRECATED","warn"),this._metaOpts=U.call(this),O.formats&&L.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),O.keywords&&K.call(this,O.keywords),typeof O.meta=="object"&&this.addMetaSchema(O.meta),$.call(this),O.validateFormats=M}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:O,meta:I,schemaId:F}=this.opts;let M=v;F==="id"&&(M={...v},M.id=M.$id,delete M.$id),I&&O&&this.addMetaSchema(M,M[F],!1)}defaultMeta(){const{meta:O,schemaId:I}=this.opts;return this.opts.defaultMeta=typeof O=="object"?O[I]||O:void 0}validate(O,I){let F;if(typeof O=="string"){if(F=this.getSchema(O),!F)throw new Error(`no schema with key or ref "${O}"`)}else F=this.compile(O);const M=F(I);return"$async"in F||(this.errors=F.errors),M}compile(O,I){const F=this._addSchema(O,I);return F.validate||this._compileSchemaEnv(F)}compileAsync(O,I){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return M.call(this,O,I);async function M(ge,V){await A.call(this,ge.$schema);const W=this._addSchema(ge,V);return W.validate||Z.call(this,W)}async function A(ge){ge&&!this.getSchema(ge)&&await M.call(this,{$ref:ge},!0)}async function Z(ge){try{return this._compileSchemaEnv(ge)}catch(V){if(!(V instanceof i.default))throw V;return ee.call(this,V),await ae.call(this,V.missingSchema),Z.call(this,ge)}}function ee({missingSchema:ge,missingRef:V}){if(this.refs[ge])throw new Error(`AnySchema ${ge} is loaded but ${V} cannot be resolved`)}async function ae(ge){const V=await he.call(this,ge);this.refs[ge]||await A.call(this,V.$schema),this.refs[ge]||this.addSchema(V,ge,I)}async function he(ge){const V=this._loading[ge];if(V)return V;try{return await(this._loading[ge]=F(ge))}finally{delete this._loading[ge]}}}addSchema(O,I,F,M=this.opts.validateSchema){if(Array.isArray(O)){for(const Z of O)this.addSchema(Z,void 0,F,M);return this}let A;if(typeof O=="object"){const{schemaId:Z}=this.opts;if(A=O[Z],A!==void 0&&typeof A!="string")throw new Error(`schema ${Z} must be string`)}return I=(0,p.normalizeId)(I||A),this._checkUnique(I),this.schemas[I]=this._addSchema(O,F,I,M,!0),this}addMetaSchema(O,I,F=this.opts.validateSchema){return this.addSchema(O,I,!0,F),this}validateSchema(O,I){if(typeof O=="boolean")return!0;let F;if(F=O.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const M=this.validate(F,O);if(!M&&I){const A="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(A);else throw new Error(A)}return M}getSchema(O){let I;for(;typeof(I=R.call(this,O))=="string";)O=I;if(I===void 0){const{schemaId:F}=this.opts,M=new u.SchemaEnv({schema:{},schemaId:F});if(I=u.resolveSchema.call(this,M,O),!I)return;this.refs[O]=I}return I.validate||this._compileSchemaEnv(I)}removeSchema(O){if(O instanceof RegExp)return this._removeAllSchemas(this.schemas,O),this._removeAllSchemas(this.refs,O),this;switch(typeof O){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const I=R.call(this,O);return typeof I=="object"&&this._cache.delete(I.schema),delete this.schemas[O],delete this.refs[O],this}case"object":{const I=O;this._cache.delete(I);let F=O[this.opts.schemaId];return F&&(F=(0,p.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(O){for(const I of O)this.addKeyword(I);return this}addKeyword(O,I){let F;if(typeof O=="string")F=O,typeof I=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),I.keyword=F);else if(typeof O=="object"&&I===void 0){if(I=O,F=I.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ne.call(this,F,I),!I)return(0,h.eachItem)(F,A=>se.call(this,A)),this;pe.call(this,I);const M={...I,type:(0,m.getJSONTypes)(I.type),schemaType:(0,m.getJSONTypes)(I.schemaType)};return(0,h.eachItem)(F,M.type.length===0?A=>se.call(this,A,M):A=>M.type.forEach(Z=>se.call(this,A,M,Z))),this}getKeyword(O){const I=this.RULES.all[O];return typeof I=="object"?I.definition:!!I}removeKeyword(O){const{RULES:I}=this;delete I.keywords[O],delete I.all[O];for(const F of I.rules){const M=F.rules.findIndex(A=>A.keyword===O);M>=0&&F.rules.splice(M,1)}return this}addFormat(O,I){return typeof I=="string"&&(I=new RegExp(I)),this.formats[O]=I,this}errorsText(O=this.errors,{separator:I=", ",dataVar:F="data"}={}){return!O||O.length===0?"No errors":O.map(M=>`${F}${M.instancePath} ${M.message}`).reduce((M,A)=>M+I+A)}$dataMetaSchema(O,I){const F=this.RULES.all;O=JSON.parse(JSON.stringify(O));for(const M of I){const A=M.split("/").slice(1);let Z=O;for(const ee of A)Z=Z[ee];for(const ee in F){const ae=F[ee];if(typeof ae!="object")continue;const{$data:he}=ae.definition,ge=Z[ee];he&&ge&&(Z[ee]=X(ge))}}return O}_removeAllSchemas(O,I){for(const F in O){const M=O[F];(!I||I.test(F))&&(typeof M=="string"?delete O[F]:M&&!M.meta&&(this._cache.delete(M.schema),delete O[F]))}}_addSchema(O,I,F,M=this.opts.validateSchema,A=this.opts.addUsedSchema){let Z;const{schemaId:ee}=this.opts;if(typeof O=="object")Z=O[ee];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof O!="boolean")throw new Error("schema must be object or boolean")}let ae=this._cache.get(O);if(ae!==void 0)return ae;F=(0,p.normalizeId)(Z||F);const he=p.getSchemaRefs.call(this,O,F);return ae=new u.SchemaEnv({schema:O,schemaId:ee,meta:I,baseId:F,localRefs:he}),this._cache.set(ae.schema,ae),A&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=ae),M&&this.validateSchema(O,!0),ae}_checkUnique(O){if(this.schemas[O]||this.refs[O])throw new Error(`schema with key or id "${O}" already exists`)}_compileSchemaEnv(O){if(O.meta?this._compileMetaSchema(O):u.compileSchema.call(this,O),!O.validate)throw new Error("ajv implementation error");return O.validate}_compileMetaSchema(O){const I=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,O)}finally{this.opts=I}}}P.ValidationError=s.default,P.MissingRefError=i.default,e.default=P;function k(B,O,I,F="error"){for(const M in B){const A=M;A in O&&this.logger[F](`${I}: option ${M}. ${B[A]}`)}}function R(B){return B=(0,p.normalizeId)(B),this.schemas[B]||this.refs[B]}function $(){const B=this.opts.schemas;if(B)if(Array.isArray(B))this.addSchema(B);else for(const O in B)this.addSchema(B[O],O)}function L(){for(const B in this.opts.formats){const O=this.opts.formats[B];O&&this.addFormat(B,O)}}function K(B){if(Array.isArray(B)){this.addVocabulary(B);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const O in B){const I=B[O];I.keyword||(I.keyword=O),this.addKeyword(I)}}function U(){const B={...this.opts};for(const O of j)delete B[O];return B}const G={log(){},warn(){},error(){}};function te(B){if(B===!1)return G;if(B===void 0)return console;if(B.log&&B.warn&&B.error)return B;throw new Error("logger must implement log, warn and error methods")}const re=/^[a-z_$][a-z0-9_$:-]*$/i;function ne(B,O){const{RULES:I}=this;if((0,h.eachItem)(B,F=>{if(I.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!re.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!O&&O.$data&&!("code"in O||"validate"in O))throw new Error('$data keyword must have "code" or "validate" function')}function se(B,O,I){var F;const M=O==null?void 0:O.post;if(I&&M)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:A}=this;let Z=M?A.post:A.rules.find(({type:ae})=>ae===I);if(Z||(Z={type:I,rules:[]},A.rules.push(Z)),A.keywords[B]=!0,!O)return;const ee={keyword:B,definition:{...O,type:(0,m.getJSONTypes)(O.type),schemaType:(0,m.getJSONTypes)(O.schemaType)}};O.before?le.call(this,Z,ee,O.before):Z.rules.push(ee),A.all[B]=ee,(F=O.implements)===null||F===void 0||F.forEach(ae=>this.addKeyword(ae))}function le(B,O,I){const F=B.rules.findIndex(M=>M.keyword===I);F>=0?B.rules.splice(F,0,O):(B.rules.push(O),this.logger.warn(`rule ${I} is not defined`))}function pe(B){let{metaSchema:O}=B;O!==void 0&&(B.$data&&this.opts.$data&&(O=X(O)),B.validateSchema=this.compile(O,!0))}const H={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function X(B){return{anyOf:[B,H]}}})(rf)),rf}var Ha={},qa={},Ba={},oy;function IS(){if(oy)return Ba;oy=1,Object.defineProperty(Ba,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ba.default=e,Ba}var pn={},sy;function DS(){if(sy)return pn;sy=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.callRef=pn.getValidate=void 0;const e=Dc(),t=mr(),n=$e(),s=bn(),i=Op(),a=De(),u={keyword:"$ref",schemaType:"string",code(m){const{gen:h,schema:v,it:x}=m,{baseId:b,schemaEnv:j,validateName:S,opts:w,self:N}=x,{root:C}=j;if((v==="#"||v==="#/")&&b===C.baseId)return P();const E=i.resolveRef.call(N,C,b,v);if(E===void 0)throw new e.default(x.opts.uriResolver,b,v);if(E instanceof i.SchemaEnv)return k(E);return R(E);function P(){if(j===C)return p(m,S,j,j.$async);const $=h.scopeValue("root",{ref:C});return p(m,(0,n._)`${$}.validate`,C,C.$async)}function k($){const L=d(m,$);p(m,L,$,$.$async)}function R($){const L=h.scopeValue("schema",w.code.source===!0?{ref:$,code:(0,n.stringify)($)}:{ref:$}),K=h.name("valid"),U=m.subschema({schema:$,dataTypes:[],schemaPath:n.nil,topSchemaRef:L,errSchemaPath:v},K);m.mergeEvaluated(U),m.ok(K)}}};function d(m,h){const{gen:v}=m;return h.validate?v.scopeValue("validate",{ref:h.validate}):(0,n._)`${v.scopeValue("wrapper",{ref:h})}.validate`}pn.getValidate=d;function p(m,h,v,x){const{gen:b,it:j}=m,{allErrors:S,schemaEnv:w,opts:N}=j,C=N.passContext?s.default.this:n.nil;x?E():P();function E(){if(!w.$async)throw new Error("async schema referenced by sync schema");const $=b.let("valid");b.try(()=>{b.code((0,n._)`await ${(0,t.callValidateCode)(m,h,C)}`),R(h),S||b.assign($,!0)},L=>{b.if((0,n._)`!(${L} instanceof ${j.ValidationError})`,()=>b.throw(L)),k(L),S||b.assign($,!1)}),m.ok($)}function P(){m.result((0,t.callValidateCode)(m,h,C),()=>R(h),()=>k(h))}function k($){const L=(0,n._)`${$}.errors`;b.assign(s.default.vErrors,(0,n._)`${s.default.vErrors} === null ? ${L} : ${s.default.vErrors}.concat(${L})`),b.assign(s.default.errors,(0,n._)`${s.default.vErrors}.length`)}function R($){var L;if(!j.opts.unevaluated)return;const K=(L=v==null?void 0:v.validate)===null||L===void 0?void 0:L.evaluated;if(j.props!==!0)if(K&&!K.dynamicProps)K.props!==void 0&&(j.props=a.mergeEvaluated.props(b,K.props,j.props));else{const U=b.var("props",(0,n._)`${$}.evaluated.props`);j.props=a.mergeEvaluated.props(b,U,j.props,n.Name)}if(j.items!==!0)if(K&&!K.dynamicItems)K.items!==void 0&&(j.items=a.mergeEvaluated.items(b,K.items,j.items));else{const U=b.var("items",(0,n._)`${$}.evaluated.items`);j.items=a.mergeEvaluated.items(b,U,j.items,n.Name)}}}return pn.callRef=p,pn.default=u,pn}var iy;function LS(){if(iy)return qa;iy=1,Object.defineProperty(qa,"__esModule",{value:!0});const e=IS(),t=DS(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return qa.default=n,qa}var Wa={},Ga={},ay;function FS(){if(ay)return Ga;ay=1,Object.defineProperty(Ga,"__esModule",{value:!0});const e=$e(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},s={message:({keyword:a,schemaCode:u})=>(0,e.str)`must be ${n[a].okStr} ${u}`,params:({keyword:a,schemaCode:u})=>(0,e._)`{comparison: ${n[a].okStr}, limit: ${u}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:s,code(a){const{keyword:u,data:d,schemaCode:p}=a;a.fail$data((0,e._)`${d} ${n[u].fail} ${p} || isNaN(${d})`)}};return Ga.default=i,Ga}var Ka={},ly;function zS(){if(ly)return Ka;ly=1,Object.defineProperty(Ka,"__esModule",{value:!0});const e=$e(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:s})=>(0,e.str)`must be multiple of ${s}`,params:({schemaCode:s})=>(0,e._)`{multipleOf: ${s}}`},code(s){const{gen:i,data:a,schemaCode:u,it:d}=s,p=d.opts.multipleOfPrecision,m=i.let("res"),h=p?(0,e._)`Math.abs(Math.round(${m}) - ${m}) > 1e-${p}`:(0,e._)`${m} !== parseInt(${m})`;s.fail$data((0,e._)`(${u} === 0 || (${m} = ${a}/${u}, ${h}))`)}};return Ka.default=n,Ka}var Za={},Ya={},cy;function VS(){if(cy)return Ya;cy=1,Object.defineProperty(Ya,"__esModule",{value:!0});function e(t){const n=t.length;let s=0,i=0,a;for(;i<n;)s++,a=t.charCodeAt(i++),a>=55296&&a<=56319&&i<n&&(a=t.charCodeAt(i),(a&64512)===56320&&i++);return s}return Ya.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Ya}var uy;function US(){if(uy)return Za;uy=1,Object.defineProperty(Za,"__esModule",{value:!0});const e=$e(),t=De(),n=VS(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:u}){const d=a==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${d} than ${u} characters`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:u,data:d,schemaCode:p,it:m}=a,h=u==="maxLength"?e.operators.GT:e.operators.LT,v=m.opts.unicode===!1?(0,e._)`${d}.length`:(0,e._)`${(0,t.useFunc)(a.gen,n.default)}(${d})`;a.fail$data((0,e._)`${v} ${h} ${p}`)}};return Za.default=i,Za}var Ja={},dy;function HS(){if(dy)return Ja;dy=1,Object.defineProperty(Ja,"__esModule",{value:!0});const e=mr(),t=$e(),s={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:a,$data:u,schema:d,schemaCode:p,it:m}=i,h=m.opts.unicodeRegExp?"u":"",v=u?(0,t._)`(new RegExp(${p}, ${h}))`:(0,e.usePattern)(i,d);i.fail$data((0,t._)`!${v}.test(${a})`)}};return Ja.default=s,Ja}var Xa={},fy;function qS(){if(fy)return Xa;fy=1,Object.defineProperty(Xa,"__esModule",{value:!0});const e=$e(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:i}){const a=s==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:i,data:a,schemaCode:u}=s,d=i==="maxProperties"?e.operators.GT:e.operators.LT;s.fail$data((0,e._)`Object.keys(${a}).length ${d} ${u}`)}};return Xa.default=n,Xa}var Qa={},py;function BS(){if(py)return Qa;py=1,Object.defineProperty(Qa,"__esModule",{value:!0});const e=mr(),t=$e(),n=De(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,t.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,t._)`{missingProperty: ${a}}`},code(a){const{gen:u,schema:d,schemaCode:p,data:m,$data:h,it:v}=a,{opts:x}=v;if(!h&&d.length===0)return;const b=d.length>=x.loopRequired;if(v.allErrors?j():S(),x.strictRequired){const C=a.parentSchema.properties,{definedProperties:E}=a.it;for(const P of d)if((C==null?void 0:C[P])===void 0&&!E.has(P)){const k=v.schemaEnv.baseId+v.errSchemaPath,R=`required property "${P}" is not defined at "${k}" (strictRequired)`;(0,n.checkStrictMode)(v,R,v.opts.strictRequired)}}function j(){if(b||h)a.block$data(t.nil,w);else for(const C of d)(0,e.checkReportMissingProp)(a,C)}function S(){const C=u.let("missing");if(b||h){const E=u.let("valid",!0);a.block$data(E,()=>N(C,E)),a.ok(E)}else u.if((0,e.checkMissingProp)(a,d,C)),(0,e.reportMissingProp)(a,C),u.else()}function w(){u.forOf("prop",p,C=>{a.setParams({missingProperty:C}),u.if((0,e.noPropertyInData)(u,m,C,x.ownProperties),()=>a.error())})}function N(C,E){a.setParams({missingProperty:C}),u.forOf(C,p,()=>{u.assign(E,(0,e.propertyInData)(u,m,C,x.ownProperties)),u.if((0,t.not)(E),()=>{a.error(),u.break()})},t.nil)}}};return Qa.default=i,Qa}var el={},my;function WS(){if(my)return el;my=1,Object.defineProperty(el,"__esModule",{value:!0});const e=$e(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:i}){const a=s==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:i,data:a,schemaCode:u}=s,d=i==="maxItems"?e.operators.GT:e.operators.LT;s.fail$data((0,e._)`${a}.length ${d} ${u}`)}};return el.default=n,el}var tl={},rl={},hy;function Mp(){if(hy)return rl;hy=1,Object.defineProperty(rl,"__esModule",{value:!0});const e=Ix();return e.code='require("ajv/dist/runtime/equal").default',rl.default=e,rl}var gy;function GS(){if(gy)return tl;gy=1,Object.defineProperty(tl,"__esModule",{value:!0});const e=ec(),t=$e(),n=De(),s=Mp(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:u,j:d}})=>(0,t.str)`must NOT have duplicate items (items ## ${d} and ${u} are identical)`,params:({params:{i:u,j:d}})=>(0,t._)`{i: ${u}, j: ${d}}`},code(u){const{gen:d,data:p,$data:m,schema:h,parentSchema:v,schemaCode:x,it:b}=u;if(!m&&!h)return;const j=d.let("valid"),S=v.items?(0,e.getSchemaTypes)(v.items):[];u.block$data(j,w,(0,t._)`${x} === false`),u.ok(j);function w(){const P=d.let("i",(0,t._)`${p}.length`),k=d.let("j");u.setParams({i:P,j:k}),d.assign(j,!0),d.if((0,t._)`${P} > 1`,()=>(N()?C:E)(P,k))}function N(){return S.length>0&&!S.some(P=>P==="object"||P==="array")}function C(P,k){const R=d.name("item"),$=(0,e.checkDataTypes)(S,R,b.opts.strictNumbers,e.DataType.Wrong),L=d.const("indices",(0,t._)`{}`);d.for((0,t._)`;${P}--;`,()=>{d.let(R,(0,t._)`${p}[${P}]`),d.if($,(0,t._)`continue`),S.length>1&&d.if((0,t._)`typeof ${R} == "string"`,(0,t._)`${R} += "_"`),d.if((0,t._)`typeof ${L}[${R}] == "number"`,()=>{d.assign(k,(0,t._)`${L}[${R}]`),u.error(),d.assign(j,!1).break()}).code((0,t._)`${L}[${R}] = ${P}`)})}function E(P,k){const R=(0,n.useFunc)(d,s.default),$=d.name("outer");d.label($).for((0,t._)`;${P}--;`,()=>d.for((0,t._)`${k} = ${P}; ${k}--;`,()=>d.if((0,t._)`${R}(${p}[${P}], ${p}[${k}])`,()=>{u.error(),d.assign(j,!1).break($)})))}}};return tl.default=a,tl}var nl={},yy;function KS(){if(yy)return nl;yy=1,Object.defineProperty(nl,"__esModule",{value:!0});const e=$e(),t=De(),n=Mp(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,e._)`{allowedValue: ${a}}`},code(a){const{gen:u,data:d,$data:p,schemaCode:m,schema:h}=a;p||h&&typeof h=="object"?a.fail$data((0,e._)`!${(0,t.useFunc)(u,n.default)}(${d}, ${m})`):a.fail((0,e._)`${h} !== ${d}`)}};return nl.default=i,nl}var ol={},vy;function ZS(){if(vy)return ol;vy=1,Object.defineProperty(ol,"__esModule",{value:!0});const e=$e(),t=De(),n=Mp(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,e._)`{allowedValues: ${a}}`},code(a){const{gen:u,data:d,$data:p,schema:m,schemaCode:h,it:v}=a;if(!p&&m.length===0)throw new Error("enum must have non-empty array");const x=m.length>=v.opts.loopEnum;let b;const j=()=>b??(b=(0,t.useFunc)(u,n.default));let S;if(x||p)S=u.let("valid"),a.block$data(S,w);else{if(!Array.isArray(m))throw new Error("ajv implementation error");const C=u.const("vSchema",h);S=(0,e.or)(...m.map((E,P)=>N(C,P)))}a.pass(S);function w(){u.assign(S,!1),u.forOf("v",h,C=>u.if((0,e._)`${j()}(${d}, ${C})`,()=>u.assign(S,!0).break()))}function N(C,E){const P=m[E];return typeof P=="object"&&P!==null?(0,e._)`${j()}(${d}, ${C}[${E}])`:(0,e._)`${d} === ${P}`}}};return ol.default=i,ol}var xy;function YS(){if(xy)return Wa;xy=1,Object.defineProperty(Wa,"__esModule",{value:!0});const e=FS(),t=zS(),n=US(),s=HS(),i=qS(),a=BS(),u=WS(),d=GS(),p=KS(),m=ZS(),h=[e.default,t.default,n.default,s.default,i.default,a.default,u.default,d.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},p.default,m.default];return Wa.default=h,Wa}var sl={},Ro={},wy;function Lx(){if(wy)return Ro;wy=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.validateAdditionalItems=void 0;const e=$e(),t=De(),s={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{parentSchema:u,it:d}=a,{items:p}=u;if(!Array.isArray(p)){(0,t.checkStrictMode)(d,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,p)}};function i(a,u){const{gen:d,schema:p,data:m,keyword:h,it:v}=a;v.items=!0;const x=d.const("len",(0,e._)`${m}.length`);if(p===!1)a.setParams({len:u.length}),a.pass((0,e._)`${x} <= ${u.length}`);else if(typeof p=="object"&&!(0,t.alwaysValidSchema)(v,p)){const j=d.var("valid",(0,e._)`${x} <= ${u.length}`);d.if((0,e.not)(j),()=>b(j)),a.ok(j)}function b(j){d.forRange("i",u.length,x,S=>{a.subschema({keyword:h,dataProp:S,dataPropType:t.Type.Num},j),v.allErrors||d.if((0,e.not)(j),()=>d.break())})}}return Ro.validateAdditionalItems=i,Ro.default=s,Ro}var il={},$o={},by;function Fx(){if(by)return $o;by=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.validateTuple=void 0;const e=$e(),t=De(),n=mr(),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:u,it:d}=a;if(Array.isArray(u))return i(a,"additionalItems",u);d.items=!0,!(0,t.alwaysValidSchema)(d,u)&&a.ok((0,n.validateArray)(a))}};function i(a,u,d=a.schema){const{gen:p,parentSchema:m,data:h,keyword:v,it:x}=a;S(m),x.opts.unevaluated&&d.length&&x.items!==!0&&(x.items=t.mergeEvaluated.items(p,d.length,x.items));const b=p.name("valid"),j=p.const("len",(0,e._)`${h}.length`);d.forEach((w,N)=>{(0,t.alwaysValidSchema)(x,w)||(p.if((0,e._)`${j} > ${N}`,()=>a.subschema({keyword:v,schemaProp:N,dataProp:N},b)),a.ok(b))});function S(w){const{opts:N,errSchemaPath:C}=x,E=d.length,P=E===w.minItems&&(E===w.maxItems||w[u]===!1);if(N.strictTuples&&!P){const k=`"${v}" is ${E}-tuple, but minItems or maxItems/${u} are not specified or different at path "${C}"`;(0,t.checkStrictMode)(x,k,N.strictTuples)}}}return $o.validateTuple=i,$o.default=s,$o}var Cy;function JS(){if(Cy)return il;Cy=1,Object.defineProperty(il,"__esModule",{value:!0});const e=Fx(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return il.default=t,il}var al={},_y;function XS(){if(_y)return al;_y=1,Object.defineProperty(al,"__esModule",{value:!0});const e=$e(),t=De(),n=mr(),s=Lx(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:u}})=>(0,e.str)`must NOT have more than ${u} items`,params:({params:{len:u}})=>(0,e._)`{limit: ${u}}`},code(u){const{schema:d,parentSchema:p,it:m}=u,{prefixItems:h}=p;m.items=!0,!(0,t.alwaysValidSchema)(m,d)&&(h?(0,s.validateAdditionalItems)(u,h):u.ok((0,n.validateArray)(u)))}};return al.default=a,al}var ll={},Sy;function QS(){if(Sy)return ll;Sy=1,Object.defineProperty(ll,"__esModule",{value:!0});const e=$e(),t=De(),s={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:u,parentSchema:d,data:p,it:m}=i;let h,v;const{minContains:x,maxContains:b}=d;m.opts.next?(h=x===void 0?1:x,v=b):h=1;const j=a.const("len",(0,e._)`${p}.length`);if(i.setParams({min:h,max:v}),v===void 0&&h===0){(0,t.checkStrictMode)(m,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(v!==void 0&&h>v){(0,t.checkStrictMode)(m,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(m,u)){let E=(0,e._)`${j} >= ${h}`;v!==void 0&&(E=(0,e._)`${E} && ${j} <= ${v}`),i.pass(E);return}m.items=!0;const S=a.name("valid");v===void 0&&h===1?N(S,()=>a.if(S,()=>a.break())):h===0?(a.let(S,!0),v!==void 0&&a.if((0,e._)`${p}.length > 0`,w)):(a.let(S,!1),w()),i.result(S,()=>i.reset());function w(){const E=a.name("_valid"),P=a.let("count",0);N(E,()=>a.if(E,()=>C(P)))}function N(E,P){a.forRange("i",0,j,k=>{i.subschema({keyword:"contains",dataProp:k,dataPropType:t.Type.Num,compositeRule:!0},E),P()})}function C(E){a.code((0,e._)`${E}++`),v===void 0?a.if((0,e._)`${E} >= ${h}`,()=>a.assign(S,!0).break()):(a.if((0,e._)`${E} > ${v}`,()=>a.assign(S,!1).break()),h===1?a.assign(S,!0):a.if((0,e._)`${E} >= ${h}`,()=>a.assign(S,!0)))}}};return ll.default=s,ll}var ff={},Ny;function eN(){return Ny||(Ny=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=$e(),n=De(),s=mr();e.error={message:({params:{property:p,depsCount:m,deps:h}})=>{const v=m===1?"property":"properties";return(0,t.str)`must have ${v} ${h} when property ${p} is present`},params:({params:{property:p,depsCount:m,deps:h,missingProperty:v}})=>(0,t._)`{property: ${p},
    missingProperty: ${v},
    depsCount: ${m},
    deps: ${h}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(p){const[m,h]=a(p);u(p,m),d(p,h)}};function a({schema:p}){const m={},h={};for(const v in p){if(v==="__proto__")continue;const x=Array.isArray(p[v])?m:h;x[v]=p[v]}return[m,h]}function u(p,m=p.schema){const{gen:h,data:v,it:x}=p;if(Object.keys(m).length===0)return;const b=h.let("missing");for(const j in m){const S=m[j];if(S.length===0)continue;const w=(0,s.propertyInData)(h,v,j,x.opts.ownProperties);p.setParams({property:j,depsCount:S.length,deps:S.join(", ")}),x.allErrors?h.if(w,()=>{for(const N of S)(0,s.checkReportMissingProp)(p,N)}):(h.if((0,t._)`${w} && (${(0,s.checkMissingProp)(p,S,b)})`),(0,s.reportMissingProp)(p,b),h.else())}}e.validatePropertyDeps=u;function d(p,m=p.schema){const{gen:h,data:v,keyword:x,it:b}=p,j=h.name("valid");for(const S in m)(0,n.alwaysValidSchema)(b,m[S])||(h.if((0,s.propertyInData)(h,v,S,b.opts.ownProperties),()=>{const w=p.subschema({keyword:x,schemaProp:S},j);p.mergeValidEvaluated(w,j)},()=>h.var(j,!0)),p.ok(j))}e.validateSchemaDeps=d,e.default=i})(ff)),ff}var cl={},jy;function tN(){if(jy)return cl;jy=1,Object.defineProperty(cl,"__esModule",{value:!0});const e=$e(),t=De(),s={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:u,data:d,it:p}=i;if((0,t.alwaysValidSchema)(p,u))return;const m=a.name("valid");a.forIn("key",d,h=>{i.setParams({propertyName:h}),i.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},m),a.if((0,e.not)(m),()=>{i.error(!0),p.allErrors||a.break()})}),i.ok(m)}};return cl.default=s,cl}var ul={},Ey;function zx(){if(Ey)return ul;Ey=1,Object.defineProperty(ul,"__esModule",{value:!0});const e=mr(),t=$e(),n=bn(),s=De(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:u})=>(0,t._)`{additionalProperty: ${u.additionalProperty}}`},code(u){const{gen:d,schema:p,parentSchema:m,data:h,errsCount:v,it:x}=u;if(!v)throw new Error("ajv implementation error");const{allErrors:b,opts:j}=x;if(x.props=!0,j.removeAdditional!=="all"&&(0,s.alwaysValidSchema)(x,p))return;const S=(0,e.allSchemaProperties)(m.properties),w=(0,e.allSchemaProperties)(m.patternProperties);N(),u.ok((0,t._)`${v} === ${n.default.errors}`);function N(){d.forIn("key",h,R=>{!S.length&&!w.length?P(R):d.if(C(R),()=>P(R))})}function C(R){let $;if(S.length>8){const L=(0,s.schemaRefOrVal)(x,m.properties,"properties");$=(0,e.isOwnProperty)(d,L,R)}else S.length?$=(0,t.or)(...S.map(L=>(0,t._)`${R} === ${L}`)):$=t.nil;return w.length&&($=(0,t.or)($,...w.map(L=>(0,t._)`${(0,e.usePattern)(u,L)}.test(${R})`))),(0,t.not)($)}function E(R){d.code((0,t._)`delete ${h}[${R}]`)}function P(R){if(j.removeAdditional==="all"||j.removeAdditional&&p===!1){E(R);return}if(p===!1){u.setParams({additionalProperty:R}),u.error(),b||d.break();return}if(typeof p=="object"&&!(0,s.alwaysValidSchema)(x,p)){const $=d.name("valid");j.removeAdditional==="failing"?(k(R,$,!1),d.if((0,t.not)($),()=>{u.reset(),E(R)})):(k(R,$),b||d.if((0,t.not)($),()=>d.break()))}}function k(R,$,L){const K={keyword:"additionalProperties",dataProp:R,dataPropType:s.Type.Str};L===!1&&Object.assign(K,{compositeRule:!0,createErrors:!1,allErrors:!1}),u.subschema(K,$)}}};return ul.default=a,ul}var dl={},ky;function rN(){if(ky)return dl;ky=1,Object.defineProperty(dl,"__esModule",{value:!0});const e=Ic(),t=mr(),n=De(),s=zx(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:u,schema:d,parentSchema:p,data:m,it:h}=a;h.opts.removeAdditional==="all"&&p.additionalProperties===void 0&&s.default.code(new e.KeywordCxt(h,s.default,"additionalProperties"));const v=(0,t.allSchemaProperties)(d);for(const w of v)h.definedProperties.add(w);h.opts.unevaluated&&v.length&&h.props!==!0&&(h.props=n.mergeEvaluated.props(u,(0,n.toHash)(v),h.props));const x=v.filter(w=>!(0,n.alwaysValidSchema)(h,d[w]));if(x.length===0)return;const b=u.name("valid");for(const w of x)j(w)?S(w):(u.if((0,t.propertyInData)(u,m,w,h.opts.ownProperties)),S(w),h.allErrors||u.else().var(b,!0),u.endIf()),a.it.definedProperties.add(w),a.ok(b);function j(w){return h.opts.useDefaults&&!h.compositeRule&&d[w].default!==void 0}function S(w){a.subschema({keyword:"properties",schemaProp:w,dataProp:w},b)}}};return dl.default=i,dl}var fl={},Py;function nN(){if(Py)return fl;Py=1,Object.defineProperty(fl,"__esModule",{value:!0});const e=mr(),t=$e(),n=De(),s=De(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:u,schema:d,data:p,parentSchema:m,it:h}=a,{opts:v}=h,x=(0,e.allSchemaProperties)(d),b=x.filter(P=>(0,n.alwaysValidSchema)(h,d[P]));if(x.length===0||b.length===x.length&&(!h.opts.unevaluated||h.props===!0))return;const j=v.strictSchema&&!v.allowMatchingProperties&&m.properties,S=u.name("valid");h.props!==!0&&!(h.props instanceof t.Name)&&(h.props=(0,s.evaluatedPropsToName)(u,h.props));const{props:w}=h;N();function N(){for(const P of x)j&&C(P),h.allErrors?E(P):(u.var(S,!0),E(P),u.if(S))}function C(P){for(const k in j)new RegExp(P).test(k)&&(0,n.checkStrictMode)(h,`property ${k} matches pattern ${P} (use allowMatchingProperties)`)}function E(P){u.forIn("key",p,k=>{u.if((0,t._)`${(0,e.usePattern)(a,P)}.test(${k})`,()=>{const R=b.includes(P);R||a.subschema({keyword:"patternProperties",schemaProp:P,dataProp:k,dataPropType:s.Type.Str},S),h.opts.unevaluated&&w!==!0?u.assign((0,t._)`${w}[${k}]`,!0):!R&&!h.allErrors&&u.if((0,t.not)(S),()=>u.break())})})}}};return fl.default=i,fl}var pl={},Ry;function oN(){if(Ry)return pl;Ry=1,Object.defineProperty(pl,"__esModule",{value:!0});const e=De(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:s,schema:i,it:a}=n;if((0,e.alwaysValidSchema)(a,i)){n.fail();return}const u=s.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),n.failResult(u,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return pl.default=t,pl}var ml={},$y;function sN(){if($y)return ml;$y=1,Object.defineProperty(ml,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:mr().validateUnion,error:{message:"must match a schema in anyOf"}};return ml.default=t,ml}var hl={},Ty;function iN(){if(Ty)return hl;Ty=1,Object.defineProperty(hl,"__esModule",{value:!0});const e=$e(),t=De(),s={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:u,parentSchema:d,it:p}=i;if(!Array.isArray(u))throw new Error("ajv implementation error");if(p.opts.discriminator&&d.discriminator)return;const m=u,h=a.let("valid",!1),v=a.let("passing",null),x=a.name("_valid");i.setParams({passing:v}),a.block(b),i.result(h,()=>i.reset(),()=>i.error(!0));function b(){m.forEach((j,S)=>{let w;(0,t.alwaysValidSchema)(p,j)?a.var(x,!0):w=i.subschema({keyword:"oneOf",schemaProp:S,compositeRule:!0},x),S>0&&a.if((0,e._)`${x} && ${h}`).assign(h,!1).assign(v,(0,e._)`[${v}, ${S}]`).else(),a.if(x,()=>{a.assign(h,!0),a.assign(v,S),w&&i.mergeEvaluated(w,e.Name)})})}}};return hl.default=s,hl}var gl={},Oy;function aN(){if(Oy)return gl;Oy=1,Object.defineProperty(gl,"__esModule",{value:!0});const e=De(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:s,schema:i,it:a}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const u=s.name("valid");i.forEach((d,p)=>{if((0,e.alwaysValidSchema)(a,d))return;const m=n.subschema({keyword:"allOf",schemaProp:p},u);n.ok(u),n.mergeEvaluated(m)})}};return gl.default=t,gl}var yl={},My;function lN(){if(My)return yl;My=1,Object.defineProperty(yl,"__esModule",{value:!0});const e=$e(),t=De(),s={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,e.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,e._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:u,parentSchema:d,it:p}=a;d.then===void 0&&d.else===void 0&&(0,t.checkStrictMode)(p,'"if" without "then" and "else" is ignored');const m=i(p,"then"),h=i(p,"else");if(!m&&!h)return;const v=u.let("valid",!0),x=u.name("_valid");if(b(),a.reset(),m&&h){const S=u.let("ifClause");a.setParams({ifClause:S}),u.if(x,j("then",S),j("else",S))}else m?u.if(x,j("then")):u.if((0,e.not)(x),j("else"));a.pass(v,()=>a.error(!0));function b(){const S=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},x);a.mergeEvaluated(S)}function j(S,w){return()=>{const N=a.subschema({keyword:S},x);u.assign(v,x),a.mergeValidEvaluated(N,v),w?u.assign(w,(0,e._)`${S}`):a.setParams({ifClause:S})}}}};function i(a,u){const d=a.schema[u];return d!==void 0&&!(0,t.alwaysValidSchema)(a,d)}return yl.default=s,yl}var vl={},Ay;function cN(){if(Ay)return vl;Ay=1,Object.defineProperty(vl,"__esModule",{value:!0});const e=De(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:s,it:i}){s.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return vl.default=t,vl}var Iy;function uN(){if(Iy)return sl;Iy=1,Object.defineProperty(sl,"__esModule",{value:!0});const e=Lx(),t=JS(),n=Fx(),s=XS(),i=QS(),a=eN(),u=tN(),d=zx(),p=rN(),m=nN(),h=oN(),v=sN(),x=iN(),b=aN(),j=lN(),S=cN();function w(N=!1){const C=[h.default,v.default,x.default,b.default,j.default,S.default,u.default,d.default,a.default,p.default,m.default];return N?C.push(t.default,s.default):C.push(e.default,n.default),C.push(i.default),C}return sl.default=w,sl}var xl={},wl={},Dy;function dN(){if(Dy)return wl;Dy=1,Object.defineProperty(wl,"__esModule",{value:!0});const e=$e(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:s})=>(0,e.str)`must match format "${s}"`,params:({schemaCode:s})=>(0,e._)`{format: ${s}}`},code(s,i){const{gen:a,data:u,$data:d,schema:p,schemaCode:m,it:h}=s,{opts:v,errSchemaPath:x,schemaEnv:b,self:j}=h;if(!v.validateFormats)return;d?S():w();function S(){const N=a.scopeValue("formats",{ref:j.formats,code:v.code.formats}),C=a.const("fDef",(0,e._)`${N}[${m}]`),E=a.let("fType"),P=a.let("format");a.if((0,e._)`typeof ${C} == "object" && !(${C} instanceof RegExp)`,()=>a.assign(E,(0,e._)`${C}.type || "string"`).assign(P,(0,e._)`${C}.validate`),()=>a.assign(E,(0,e._)`"string"`).assign(P,C)),s.fail$data((0,e.or)(k(),R()));function k(){return v.strictSchema===!1?e.nil:(0,e._)`${m} && !${P}`}function R(){const $=b.$async?(0,e._)`(${C}.async ? await ${P}(${u}) : ${P}(${u}))`:(0,e._)`${P}(${u})`,L=(0,e._)`(typeof ${P} == "function" ? ${$} : ${P}.test(${u}))`;return(0,e._)`${P} && ${P} !== true && ${E} === ${i} && !${L}`}}function w(){const N=j.formats[p];if(!N){k();return}if(N===!0)return;const[C,E,P]=R(N);C===i&&s.pass($());function k(){if(v.strictSchema===!1){j.logger.warn(L());return}throw new Error(L());function L(){return`unknown format "${p}" ignored in schema at path "${x}"`}}function R(L){const K=L instanceof RegExp?(0,e.regexpCode)(L):v.code.formats?(0,e._)`${v.code.formats}${(0,e.getProperty)(p)}`:void 0,U=a.scopeValue("formats",{key:p,ref:L,code:K});return typeof L=="object"&&!(L instanceof RegExp)?[L.type||"string",L.validate,(0,e._)`${U}.validate`]:["string",L,U]}function $(){if(typeof N=="object"&&!(N instanceof RegExp)&&N.async){if(!b.$async)throw new Error("async format in sync schema");return(0,e._)`await ${P}(${u})`}return typeof E=="function"?(0,e._)`${P}(${u})`:(0,e._)`${P}.test(${u})`}}}};return wl.default=n,wl}var Ly;function fN(){if(Ly)return xl;Ly=1,Object.defineProperty(xl,"__esModule",{value:!0});const t=[dN().default];return xl.default=t,xl}var Vn={},Fy;function pN(){return Fy||(Fy=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.contentVocabulary=Vn.metadataVocabulary=void 0,Vn.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Vn.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Vn}var zy;function mN(){if(zy)return Ha;zy=1,Object.defineProperty(Ha,"__esModule",{value:!0});const e=LS(),t=YS(),n=uN(),s=fN(),i=pN(),a=[e.default,t.default,(0,n.default)(),s.default,i.metadataVocabulary,i.contentVocabulary];return Ha.default=a,Ha}var bl={},As={},Vy;function hN(){if(Vy)return As;Vy=1,Object.defineProperty(As,"__esModule",{value:!0}),As.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(As.DiscrError=e={})),As}var Uy;function gN(){if(Uy)return bl;Uy=1,Object.defineProperty(bl,"__esModule",{value:!0});const e=$e(),t=hN(),n=Op(),s=Dc(),i=De(),u={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:d,tagName:p}})=>d===t.DiscrError.Tag?`tag "${p}" must be string`:`value of tag "${p}" must be in oneOf`,params:({params:{discrError:d,tag:p,tagName:m}})=>(0,e._)`{error: ${d}, tag: ${m}, tagValue: ${p}}`},code(d){const{gen:p,data:m,schema:h,parentSchema:v,it:x}=d,{oneOf:b}=v;if(!x.opts.discriminator)throw new Error("discriminator: requires discriminator option");const j=h.propertyName;if(typeof j!="string")throw new Error("discriminator: requires propertyName");if(h.mapping)throw new Error("discriminator: mapping is not supported");if(!b)throw new Error("discriminator: requires oneOf keyword");const S=p.let("valid",!1),w=p.const("tag",(0,e._)`${m}${(0,e.getProperty)(j)}`);p.if((0,e._)`typeof ${w} == "string"`,()=>N(),()=>d.error(!1,{discrError:t.DiscrError.Tag,tag:w,tagName:j})),d.ok(S);function N(){const P=E();p.if(!1);for(const k in P)p.elseIf((0,e._)`${w} === ${k}`),p.assign(S,C(P[k]));p.else(),d.error(!1,{discrError:t.DiscrError.Mapping,tag:w,tagName:j}),p.endIf()}function C(P){const k=p.name("valid"),R=d.subschema({keyword:"oneOf",schemaProp:P},k);return d.mergeEvaluated(R,e.Name),k}function E(){var P;const k={},R=L(v);let $=!0;for(let G=0;G<b.length;G++){let te=b[G];if(te!=null&&te.$ref&&!(0,i.schemaHasRulesButRef)(te,x.self.RULES)){const ne=te.$ref;if(te=n.resolveRef.call(x.self,x.schemaEnv.root,x.baseId,ne),te instanceof n.SchemaEnv&&(te=te.schema),te===void 0)throw new s.default(x.opts.uriResolver,x.baseId,ne)}const re=(P=te==null?void 0:te.properties)===null||P===void 0?void 0:P[j];if(typeof re!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${j}"`);$=$&&(R||L(te)),K(re,G)}if(!$)throw new Error(`discriminator: "${j}" must be required`);return k;function L({required:G}){return Array.isArray(G)&&G.includes(j)}function K(G,te){if(G.const)U(G.const,te);else if(G.enum)for(const re of G.enum)U(re,te);else throw new Error(`discriminator: "properties/${j}" must have "const" or "enum"`)}function U(G,te){if(typeof G!="string"||G in k)throw new Error(`discriminator: "${j}" values must be unique strings`);k[G]=te}}}};return bl.default=u,bl}const yN="http://json-schema.org/draft-07/schema#",vN="http://json-schema.org/draft-07/schema#",xN="Core schema meta-schema",wN={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},bN=["object","boolean"],CN={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},_N={$schema:yN,$id:vN,title:xN,definitions:wN,type:bN,properties:CN,default:!0};var Hy;function Vx(){return Hy||(Hy=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=AS(),s=mN(),i=gN(),a=_N,u=["/properties"],d="http://json-schema.org/draft-07/schema";class p extends n.default{_addVocabularies(){super._addVocabularies(),s.default.forEach(j=>this.addVocabulary(j)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const j=this.opts.$data?this.$dataMetaSchema(a,u):a;this.addMetaSchema(j,d,!1),this.refs["http://json-schema.org/schema"]=d}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(d)?d:void 0)}}t.Ajv=p,e.exports=t=p,e.exports.Ajv=p,Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var m=Ic();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return m.KeywordCxt}});var h=$e();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var v=Tp();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return v.default}});var x=Dc();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return x.default}})})(La,La.exports)),La.exports}var SN=Vx();const NN=ai(SN);var Cl={exports:{}},pf={},qy;function jN(){return qy||(qy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(G,te){return{validate:G,compare:te}}e.fullFormats={date:t(a,u),time:t(p(!0),m),"date-time":t(x(!0),b),"iso-time":t(p(),h),"iso-date-time":t(x(),j),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:N,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:U,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:E,int32:{type:"number",validate:R},int64:{type:"number",validate:$},float:{type:"number",validate:L},double:{type:"number",validate:L},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,u),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,b),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,h),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,j),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function n(G){return G%4===0&&(G%100!==0||G%400===0)}const s=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(G){const te=s.exec(G);if(!te)return!1;const re=+te[1],ne=+te[2],se=+te[3];return ne>=1&&ne<=12&&se>=1&&se<=(ne===2&&n(re)?29:i[ne])}function u(G,te){if(G&&te)return G>te?1:G<te?-1:0}const d=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function p(G){return function(re){const ne=d.exec(re);if(!ne)return!1;const se=+ne[1],le=+ne[2],pe=+ne[3],H=ne[4],X=ne[5]==="-"?-1:1,B=+(ne[6]||0),O=+(ne[7]||0);if(B>23||O>59||G&&!H)return!1;if(se<=23&&le<=59&&pe<60)return!0;const I=le-O*X,F=se-B*X-(I<0?1:0);return(F===23||F===-1)&&(I===59||I===-1)&&pe<61}}function m(G,te){if(!(G&&te))return;const re=new Date("2020-01-01T"+G).valueOf(),ne=new Date("2020-01-01T"+te).valueOf();if(re&&ne)return re-ne}function h(G,te){if(!(G&&te))return;const re=d.exec(G),ne=d.exec(te);if(re&&ne)return G=re[1]+re[2]+re[3],te=ne[1]+ne[2]+ne[3],G>te?1:G<te?-1:0}const v=/t|\s/i;function x(G){const te=p(G);return function(ne){const se=ne.split(v);return se.length===2&&a(se[0])&&te(se[1])}}function b(G,te){if(!(G&&te))return;const re=new Date(G).valueOf(),ne=new Date(te).valueOf();if(re&&ne)return re-ne}function j(G,te){if(!(G&&te))return;const[re,ne]=G.split(v),[se,le]=te.split(v),pe=u(re,se);if(pe!==void 0)return pe||m(ne,le)}const S=/\/|:/,w=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function N(G){return S.test(G)&&w.test(G)}const C=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function E(G){return C.lastIndex=0,C.test(G)}const P=-2147483648,k=2**31-1;function R(G){return Number.isInteger(G)&&G<=k&&G>=P}function $(G){return Number.isInteger(G)}function L(){return!0}const K=/[^\\]\\Z/;function U(G){if(K.test(G))return!1;try{return new RegExp(G),!0}catch{return!1}}})(pf)),pf}var mf={},By;function EN(){return By||(By=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Vx(),n=$e(),s=n.operators,i={formatMaximum:{okStr:"<=",ok:s.LTE,fail:s.GT},formatMinimum:{okStr:">=",ok:s.GTE,fail:s.LT},formatExclusiveMaximum:{okStr:"<",ok:s.LT,fail:s.GTE},formatExclusiveMinimum:{okStr:">",ok:s.GT,fail:s.LTE}},a={message:({keyword:d,schemaCode:p})=>(0,n.str)`should be ${i[d].okStr} ${p}`,params:({keyword:d,schemaCode:p})=>(0,n._)`{comparison: ${i[d].okStr}, limit: ${p}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:a,code(d){const{gen:p,data:m,schemaCode:h,keyword:v,it:x}=d,{opts:b,self:j}=x;if(!b.validateFormats)return;const S=new t.KeywordCxt(x,j.RULES.all.format.definition,"format");S.$data?w():N();function w(){const E=p.scopeValue("formats",{ref:j.formats,code:b.code.formats}),P=p.const("fmt",(0,n._)`${E}[${S.schemaCode}]`);d.fail$data((0,n.or)((0,n._)`typeof ${P} != "object"`,(0,n._)`${P} instanceof RegExp`,(0,n._)`typeof ${P}.compare != "function"`,C(P)))}function N(){const E=S.schema,P=j.formats[E];if(!P||P===!0)return;if(typeof P!="object"||P instanceof RegExp||typeof P.compare!="function")throw new Error(`"${v}": format "${E}" does not define "compare" function`);const k=p.scopeValue("formats",{key:E,ref:P,code:b.code.formats?(0,n._)`${b.code.formats}${(0,n.getProperty)(E)}`:void 0});d.fail$data(C(k))}function C(E){return(0,n._)`${E}.compare(${m}, ${h}) ${i[v].fail} 0`}},dependencies:["format"]};const u=d=>(d.addKeyword(e.formatLimitDefinition),d);e.default=u})(mf)),mf}var Wy;function kN(){return Wy||(Wy=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=jN(),s=EN(),i=$e(),a=new i.Name("fullFormats"),u=new i.Name("fastFormats"),d=(m,h={keywords:!0})=>{if(Array.isArray(h))return p(m,h,n.fullFormats,a),m;const[v,x]=h.mode==="fast"?[n.fastFormats,u]:[n.fullFormats,a],b=h.formats||n.formatNames;return p(m,b,v,x),h.keywords&&(0,s.default)(m),m};d.get=(m,h="full")=>{const x=(h==="fast"?n.fastFormats:n.fullFormats)[m];if(!x)throw new Error(`Unknown format "${m}"`);return x};function p(m,h,v,x){var b,j;(b=(j=m.opts.code).formats)!==null&&b!==void 0||(j.formats=(0,i._)`require("ajv-formats/dist/formats").${x}`);for(const S of h)m.addFormat(S,v[S])}e.exports=t=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d})(Cl,Cl.exports)),Cl.exports}var PN=kN();const RN=ai(PN),$N=[{name:"equal",plugin:"built-in",description:"Checks if fact value equals the compare value (strict equality)",valueType:"any",example:{factValue:"hello",compareValue:"hello",result:!0},documentationUrl:"/docs/operators/equal",category:"comparison"},{name:"notEqual",plugin:"built-in",description:"Checks if fact value does not equal the compare value",valueType:"any",example:{factValue:"hello",compareValue:"world",result:!0},documentationUrl:"/docs/operators/not-equal",category:"comparison"},{name:"lessThan",plugin:"built-in",description:"Checks if fact value is less than the compare value",valueType:"number",example:{factValue:5,compareValue:10,result:!0},documentationUrl:"/docs/operators/less-than",category:"comparison"},{name:"lessThanInclusive",plugin:"built-in",description:"Checks if fact value is less than or equal to the compare value",valueType:"number",example:{factValue:10,compareValue:10,result:!0},documentationUrl:"/docs/operators/less-than-inclusive",category:"comparison"},{name:"greaterThan",plugin:"built-in",description:"Checks if fact value is greater than the compare value",valueType:"number",example:{factValue:15,compareValue:10,result:!0},documentationUrl:"/docs/operators/greater-than",category:"comparison"},{name:"greaterThanInclusive",plugin:"built-in",description:"Checks if fact value is greater than or equal to the compare value",valueType:"number",example:{factValue:10,compareValue:10,result:!0},documentationUrl:"/docs/operators/greater-than-inclusive",category:"comparison"},{name:"in",plugin:"built-in",description:"Checks if fact value is in the compare value array",valueType:"array",example:{factValue:"admin",compareValue:["admin","user","guest"],result:!0},documentationUrl:"/docs/operators/in",category:"membership"},{name:"notIn",plugin:"built-in",description:"Checks if fact value is not in the compare value array",valueType:"array",example:{factValue:"superuser",compareValue:["admin","user","guest"],result:!0},documentationUrl:"/docs/operators/not-in",category:"membership"},{name:"contains",plugin:"built-in",description:"Checks if fact value (string or array) contains the compare value",valueType:"any",example:{factValue:"hello world",compareValue:"world",result:!0},documentationUrl:"/docs/operators/contains",category:"membership"},{name:"doesNotContain",plugin:"built-in",description:"Checks if fact value does not contain the compare value",valueType:"any",example:{factValue:"hello world",compareValue:"foo",result:!0},documentationUrl:"/docs/operators/does-not-contain",category:"membership"}],TN=[{name:"fileExists",plugin:"filesystem",description:"Checks if a file exists at the specified path",valueType:"boolean",example:{factValue:!0,compareValue:!0,result:!0},documentationUrl:"/docs/operators/file-exists",category:"filesystem"},{name:"fileDoesNotExist",plugin:"filesystem",description:"Checks if a file does not exist at the specified path",valueType:"boolean",example:{factValue:!1,compareValue:!0,result:!0},documentationUrl:"/docs/operators/file-does-not-exist",category:"filesystem"},{name:"fileContains",plugin:"filesystem",description:"Checks if file content contains pattern matches",valueType:"boolean",example:{factValue:{result:[{match:"TODO"}]},compareValue:!0,result:!0},documentationUrl:"/docs/operators/file-contains",category:"filesystem"},{name:"fileContainsWithPosition",plugin:"filesystem",description:"Checks if file contains matches with position data",valueType:"object",example:{factValue:{matches:[{range:{start:0,end:10}}]},compareValue:{expectMatch:!0},result:!0},documentationUrl:"/docs/operators/file-contains-with-position",category:"filesystem"},{name:"missingRequiredFiles",plugin:"filesystem",description:"Checks if number of missing required files exceeds threshold",valueType:"number",example:{factValue:{missing:["README.md"],total:3,found:2},compareValue:0,result:!0},documentationUrl:"/docs/operators/missing-required-files",category:"filesystem"},{name:"matchesPattern",plugin:"patterns",description:"Checks if fact value matches a regex pattern",valueType:"string",example:{factValue:"TODO: fix this",compareValue:"^TODO:",result:!0},documentationUrl:"/docs/operators/matches-pattern",category:"pattern"},{name:"matchesSatisfy",plugin:"patterns",description:"Evaluates extractValues result using parameter-driven conditions",valueType:"object",example:{factValue:{matches:[{value:"test"}]},compareValue:{count:{op:">=",value:1}},result:!0},documentationUrl:"/docs/operators/matches-satisfy",category:"pattern"},{name:"globalPatternCount",plugin:"patterns",description:"Checks if global pattern count meets a threshold",valueType:"object",example:{factValue:[{match:"TODO"},{match:"FIXME"}],compareValue:{threshold:2},result:!0},documentationUrl:"/docs/operators/global-pattern-count",category:"pattern"},{name:"versionSatisfies",plugin:"dependency",description:"Checks if version satisfies a semver range",valueType:"string",example:{factValue:"18.2.0",compareValue:">=18.0.0",result:!0},documentationUrl:"/docs/operators/version-satisfies",category:"version"},{name:"outdatedFramework",plugin:"dependency",description:"Checks if project uses outdated framework versions",valueType:"boolean",example:{factValue:[{dependency:"react",currentVersion:"17.0.0",requiredVersion:"18.0.0"}],compareValue:!0,result:!0},documentationUrl:"/docs/operators/outdated-framework",category:"version"},{name:"astNodeExists",plugin:"ast",description:"Checks if an AST node of the specified type exists",valueType:"string",example:{factValue:{hasNode:!0,nodeType:"function_declaration"},compareValue:"function_declaration",result:!0},documentationUrl:"/docs/operators/ast-node-exists",category:"ast"},{name:"astPatternMatch",plugin:"ast",description:"Checks if AST matches a pattern specification",valueType:"object",example:{factValue:{matchedNodes:[{type:"arrow_function"}]},compareValue:{type:"arrow_function",minOccurrences:1},result:!0},documentationUrl:"/docs/operators/ast-pattern-match",category:"ast"},{name:"astComplexity",plugin:"ast",description:"Checks if AST complexity metrics exceed thresholds",valueType:"any",example:{factValue:{complexities:[{name:"fn",metrics:{cyclomaticComplexity:15}}]},compareValue:!0,result:!0},documentationUrl:"/docs/operators/ast-complexity",category:"ast"},{name:"functionCount",plugin:"ast",description:"Checks if function count meets criteria",valueType:"any",example:{factValue:{count:10},compareValue:{threshold:5,comparison:"gte"},result:!0},documentationUrl:"/docs/operators/function-count",category:"ast"},{name:"regexMatch",plugin:"patterns",description:"Checks if fact value matches a regular expression pattern",valueType:"string",example:{factValue:"src/components/Button.tsx",compareValue:"\\.(tsx|ts)$",result:!0},documentationUrl:"/docs/operators/regex-match",category:"pattern"},{name:"globalPatternRatio",plugin:"patterns",description:"Checks if the ratio of pattern matches to total files meets a threshold",valueType:"object",example:{factValue:{ratio:.75,matchCount:15,totalCount:20},compareValue:{threshold:.5},result:!0},documentationUrl:"/docs/operators/global-pattern-ratio",category:"pattern"},{name:"nonStandardDirectoryStructure",plugin:"filesystem",description:"Checks if the directory structure deviates from expected standards",valueType:"boolean",example:{factValue:{nonStandard:!0,issues:["missing src/","extra dist/"]},compareValue:!0,result:!0},documentationUrl:"/docs/operators/non-standard-directory-structure",category:"filesystem"},{name:"hasIssues",plugin:"react-patterns",description:"Checks if React pattern analysis found issues",valueType:"boolean",example:{factValue:{hasIssues:!0,issues:["Missing cleanup in useEffect"]},compareValue:!0,result:!0},documentationUrl:"/docs/operators/has-issues",category:"pattern"},{name:"invalidRemoteValidation",plugin:"remote-validator",description:"Checks if remote validation returned invalid result",valueType:"boolean",example:{factValue:{valid:!1,message:"ID not found"},compareValue:!0,result:!0},documentationUrl:"/docs/operators/invalid-remote-validation",category:"pattern"},{name:"customOperator",plugin:"custom",description:"Custom operator for plugin examples and extensions",valueType:"any",example:{factValue:"custom-value",compareValue:"expected",result:!0},documentationUrl:"/docs/operators/custom-operator",category:"pattern"},{name:"openaiAnalysisHighSeverity",plugin:"openai",description:"Checks if OpenAI analysis found high severity issues",valueType:"boolean",example:{factValue:{severity:"high",issues:["Security vulnerability detected"]},compareValue:!0,result:!0},documentationUrl:"/docs/operators/openai-analysis-high-severity",category:"pattern"}],Ap=[...$N,...TN];function Ux(e){return Ap.find(t=>t.name===e)}function ON(e,t){return Ap.filter(n=>t.includes(n.name))}function MN(e){switch(e){case"string":return"Text value";case"number":return"Numeric value";case"boolean":return"True or false";case"array":return"List of values";case"object":return"Object with properties";case"any":return"Any value type";default:return"Unknown type"}}function AN(){const e=new NN({allErrors:!0,verbose:!0,strict:!1,strictTypes:!1,strictTuples:!1,allowUnionTypes:!0});return RN(e),e}let hf=null,Gy=null;function IN(){return hf||(hf=AN(),Gy=hf.compile(Ox)),Gy}function DN(e){return e?e.split("/").filter(Boolean):[]}function LN(e){const{keyword:t,params:n,message:s}=e;switch(t){case"required":return`Missing required property: ${n.missingProperty}`;case"type":return`Expected ${n.type}, got ${typeof e.data}`;case"enum":return`Must be one of: ${n.allowedValues.join(", ")}`;case"pattern":return`Must match pattern: ${n.pattern}`;case"minLength":return`Must be at least ${n.limit} characters`;case"minimum":return`Must be at least ${n.limit}`;case"maximum":return`Must be at most ${n.limit}`;case"additionalProperties":return`Unknown property: ${n.additionalProperty}`;case"oneOf":return"Must match exactly one schema";default:return s||`Validation error: ${t}`}}function FN(e){const t=IN();return t(e)?{valid:!0,errors:[]}:{valid:!1,errors:(t.errors||[]).map(i=>({path:DN(i.instancePath),message:LN(i),keyword:i.keyword,params:i.params}))}}function zN(){return{validationErrors:[],isValidating:!1,isValid:!0,lastValidatedAt:null}}function VN(e,t){const{fn:n,cancel:s}=r4(()=>{const i=e();if(!i){t({valid:!0,errors:[]});return}const a=FN(i);t(a)},Ur.VALIDATION);return{validate:n,cancel:s}}function UN(e,t){const{validate:n,cancel:s}=VN(()=>t().rule,i=>{e(()=>({validationErrors:i.errors,isValid:i.valid,isValidating:!1,lastValidatedAt:Date.now()}))});return{validate:()=>{e(()=>({isValidating:!0})),n()},clearValidation:()=>{s(),e(()=>({validationErrors:[],isValid:!0,isValidating:!1,lastValidatedAt:null}))},setValidationErrors:i=>{e(()=>({validationErrors:i,isValid:i.length===0,isValidating:!1,lastValidatedAt:Date.now()}))},_cleanup:s}}oS();function HN(){return{rule:null,originalRule:null,selectedPath:[],isDirty:!1,isSaving:!1,lastUpdateSource:null,lastUpdateTime:0,expandedPaths:new Set(["conditions"])}}const ke=V_()(uS(lS((e,t)=>{const n=xS(i=>e(a=>Object.assign(a,i(a)))),s=UN(i=>e(a=>Object.assign(a,i(a))),t);return{...HN(),...vS(),...zN(),...n,validate:s.validate,clearValidation:s.clearValidation,setValidationErrors:s.setValidationErrors,setRule:(i,a="external")=>{const u=t().rule;Do(u,i)||(e(d=>{d.rule=i?zt(i):null,d.lastUpdateSource=a,d.lastUpdateTime=Date.now(),d.isDirty=a!=="history"&&i!==null}),i&&a!=="history"&&n.pushHistory(i),s.validate())},loadRule:i=>{n.clearHistory(),e(a=>{a.rule=zt(i),a.originalRule=zt(i),a.selectedPath=[],a.lastUpdateSource="external",a.lastUpdateTime=Date.now(),a.history=[zt(i)],a.historyIndex=0,a.canUndo=!1,a.canRedo=!1,a.isDirty=!1}),s.validate()},newRule:()=>{const i=zt(pS);t().loadRule(i)},resetRule:()=>{const i=t().originalRule;i&&t().loadRule(i)},updateNode:(i,a,u="form")=>{const d=t().rule;if(!d)return;const p=ar(d,i);if(Do(p,a))return;const m=mS(d,i,a);t().setRule(m,u)},deleteNode:(i,a="tree")=>{const u=t().rule;if(!u)return;const d=R0(u,i);t().setRule(d,a);const p=t().selectedPath;p.length>=i.length&&i.every((h,v)=>h===p[v])&&t().selectNode(hS(i),a)},addCondition:(i,a,u="tree")=>{const d=t().rule;if(!d)return;const p=ar(d,i);if(!Array.isArray(p))return;const m=[...i,String(p.length)],h=tf(d,m,a);t().setRule(h,u),t().selectNode(m,u)},addConditionGroup:(i,a,u="tree")=>{const d=t().rule;if(!d)return;const p=ar(d,i);if(!Array.isArray(p))return;const m={[a]:[]},h=[...i,String(p.length)],v=tf(d,h,m);t().setRule(v,u),t().toggleExpanded(h.join(".")),t().selectNode(h,u)},moveNode:(i,a,u,d="tree")=>{const p=t().rule;if(!p)return;const m=ar(p,i);if(m===void 0)return;const h=i.slice(0,-1),v=parseInt(i[i.length-1]??"0",10),x=ar(p,h);if(!Array.isArray(x))return;const b=ar(p,a);if(!Array.isArray(b))return;const j=h.length===a.length&&h.every((C,E)=>C===a[E]);let S=u;j&&v<u&&(S=u-1);let w=R0(p,i);const N=[...a,String(S)];w=tf(w,N,m),t().setRule(w,d),t().selectNode(N,d)},selectNode:(i,a="tree")=>{const u=t().selectedPath;Do(u,i)||e(d=>{d.selectedPath=[...i],d.lastUpdateSource=a,d.lastUpdateTime=Date.now()})},clearSelection:()=>{e(i=>{i.selectedPath=[]})},toggleExpanded:i=>{e(a=>{a.expandedPaths.has(i)?a.expandedPaths.delete(i):a.expandedPaths.add(i)})},expandAll:()=>{const i=t().rule;if(!i)return;const a=new Set;function u(d,p){if(!(!d||typeof d!="object"))if(Array.isArray(d)){const m=p.join(".");m&&a.add(m),d.forEach((h,v)=>u(h,[...p,String(v)]))}else{const m=p.join(".");m&&a.add(m);for(const h of Object.keys(d))u(d[h],[...p,h])}}u(i.conditions,["conditions"]),e(d=>{d.expandedPaths=a})},collapseAll:()=>{e(i=>{i.expandedPaths=new Set(["conditions"])})},markSaved:()=>{e(i=>{i.isDirty=!1,i.originalRule=i.rule?zt(i.rule):null,i.isSaving=!1})},setSaving:i=>{e(a=>{a.isSaving=i})}}})));ke.subscribe(e=>e.rule,(e,t)=>{e!==t&&ke.getState().validate()});function Ky(e,t){return e.length<=t?e:e.slice(0,t-3)+"..."}function qN(e){return e.rule}function BN(e){return e.selectedPath}function WN(e){return!e.rule||e.selectedPath.length===0?e.rule:ar(e.rule,e.selectedPath)}function GN(e){return e.rule?gS(e.rule,e.selectedPath):"unknown"}function KN(e){return e.validationErrors}function ZN(e){return e.isValid}function YN(e){return e!==null&&typeof e=="object"&&"fact"in e&&"operator"in e&&"value"in e}function Hx(e){return e!==null&&typeof e=="object"&&("all"in e||"any"in e||"not"in e)}function qx(e){return"all"in e?"all":"any"in e?"any":"not"}function tc(e,t,n){const s=Zt(t);if(YN(e))return{id:s,path:t,type:"condition",label:`${e.fact} ${e.operator} ${JSON.stringify(e.value)}`,children:[],data:e};if(Hx(e)){const i=qx(e),a=e[i];if(i==="not"){const d=e.not;if(d){const p=tc(d,[...t,"not"],n);return{id:s,path:t,type:"condition-group",label:"NOT",children:[p],data:e,isExpanded:n.has(s)}}return{id:s,path:t,type:"condition-group",label:"NOT",children:[],data:e,isExpanded:n.has(s)}}const u=(a||[]).map((d,p)=>tc(d,[...t,i,String(p)],n));return{id:s,path:t,type:"condition-group",label:i.toUpperCase(),children:u,data:e,isExpanded:n.has(s)}}return{id:s,path:t,type:"condition",label:"Unknown",children:[],data:e}}function JN(e){const{rule:t,expandedPaths:n}=e;if(!t)return[];const s=[],i={id:"rule",path:[],type:"rule",label:t.name||"Unnamed Rule",children:[],data:t,isExpanded:n.has("")};if(t.conditions){const a=["conditions"],u={id:"conditions",path:a,type:"conditions",label:"Conditions",children:[],data:t.conditions,isExpanded:n.has("conditions")};if(Hx(t.conditions)){const d=qx(t.conditions),p=t.conditions[d],m=[...a,d],h=Zt(m);if(d==="not"&&t.conditions.not){const v=tc(t.conditions.not,[...m],n),x={id:h,path:m,type:"condition-group",label:"NOT",children:[v],data:t.conditions,isExpanded:n.has(h)};u.children.push(x)}else if(Array.isArray(p)){const v=p.map((b,j)=>tc(b,[...m,String(j)],n)),x={id:h,path:m,type:"condition-group",label:d.toUpperCase(),children:v,data:t.conditions,isExpanded:n.has(h)};u.children.push(x)}}i.children.push(u)}if(t.event){const a=["event"],u=Zt(a),d=[],p=[...a,"type"];if(d.push({id:Zt(p),path:p,type:"event-param",label:`type: "${t.event.type}"`,children:[],data:t.event.type}),t.event.params){const h=[...a,"params"],v=Zt(h),x=[];if(t.event.params.message){const b=[...h,"message"];x.push({id:Zt(b),path:b,type:"event-param",label:`message: "${Ky(t.event.params.message,30)}"`,children:[],data:t.event.params.message})}if(t.event.params.details){const b=[...h,"details"],j=Zt(b),S=[],w=t.event.params.details;for(const[N,C]of Object.entries(w)){const E=[...b,N],P=typeof C=="string"?`"${C}"`:JSON.stringify(C);S.push({id:Zt(E),path:E,type:"event-param",label:`${N}: ${Ky(P,25)}`,children:[],data:C})}x.push({id:j,path:b,type:"event-param",label:"details",children:S,data:t.event.params.details,isExpanded:n.has(j)})}if(t.event.params.category){const b=[...h,"category"];x.push({id:Zt(b),path:b,type:"event-param",label:`category: "${t.event.params.category}"`,children:[],data:t.event.params.category})}if(t.event.params.ruleId){const b=[...h,"ruleId"];x.push({id:Zt(b),path:b,type:"event-param",label:`ruleId: "${t.event.params.ruleId}"`,children:[],data:t.event.params.ruleId})}d.push({id:v,path:h,type:"event-param",label:"params",children:x,data:t.event.params,isExpanded:n.has(v)})}const m={id:"event",path:a,type:"event",label:"Event",children:d,data:t.event,isExpanded:n.has(u)};i.children.push(m)}return s.push(i),s}function XN(){return{fact:"fileContent",operator:"contains",value:""}}function QN({onSelect:e}){const[t,n]=g.useState(null),s=ke(C=>C.loadRule),{templates:i,filters:a,setSearch:u,setPluginFilter:d,setUseCaseFilter:p,setComplexityFilter:m,setSourceFilter:h,resetFilters:v,totalCount:x,filteredCount:b,hasActiveFilters:j}=I_(),S=g.useCallback(C=>{s(C.rule),e==null||e(C)},[s,e]),w=g.useCallback(C=>{n(C)},[]),N=g.useCallback(()=>{n(null)},[]);return t?c.jsx(p_,{template:t,onUse:S,onClose:N}):c.jsxs("div",{className:"space-y-5",children:[c.jsx(n4,{value:a.search,onChange:u,placeholder:"Search templates by name, description, or tags...",resultCount:b,totalCount:x}),c.jsx(i_,{plugin:a.plugin,useCase:a.useCase,complexity:a.complexity,source:a.source,onPluginChange:d,onUseCaseChange:p,onComplexityChange:m,onSourceChange:h,onReset:v,hasActiveFilters:j}),c.jsx("div",{className:"flex items-center justify-between text-sm",children:c.jsx("span",{className:"text-foreground-muted",children:b===x?c.jsxs(c.Fragment,{children:["Showing all ",x," templates"]}):c.jsxs(c.Fragment,{children:["Showing ",b," of ",x," templates"]})})}),c.jsx(d_,{templates:i,onUse:S,onPreview:w,hasActiveFilters:j,onResetFilters:v})]})}function e8({theme:e,onToggleTheme:t}){const[n,s]=g.useState(!1);return c.jsxs("header",{className:"h-[var(--xfi-header-height)] flex items-center justify-between px-4 border-b border-border bg-background-secondary",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:"/x-fidelity/rule-builder/x-fi.png",alt:"X-Fidelity logo",className:"w-10 h-10 rounded-lg"}),c.jsx("span",{className:"text-lg font-semibold text-foreground",children:"X-Fi Rule Builder"})]}),c.jsxs("nav",{className:"flex items-center gap-2",children:[c.jsxs("a",{href:"/x-fidelity/docs/rules/rule-builder-guide",className:"flex items-center gap-2 px-3 py-2 rounded-md text-foreground-muted hover:text-foreground hover:bg-accent transition-colors focus-ring","aria-label":"Back to documentation",children:[c.jsx(bv,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Docs"})]}),c.jsxs(mv,{open:n,onOpenChange:s,children:[c.jsx(e9,{asChild:!0,children:c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-md bg-primary text-white hover:bg-primary-dark transition-colors focus-ring","aria-label":"Open template library",children:[c.jsx($9,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:"Templates"})]})}),c.jsxs(hv,{children:[c.jsx(gv,{className:"fixed inset-0 bg-black/50 animate-fade-in"}),c.jsxs(yv,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90vw] max-w-4xl max-h-[85vh] bg-background rounded-lg shadow-xl border border-border overflow-hidden focus-ring",children:[c.jsx(vv,{className:"sr-only",children:"Template Library"}),c.jsx(xv,{className:"sr-only",children:"Browse and select from pre-built rule templates"}),c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[c.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Template Library"}),c.jsx(wv,{asChild:!0,children:c.jsx("button",{className:"p-2 rounded-md hover:bg-accent transition-colors focus-ring","aria-label":"Close template library",children:c.jsx(Bn,{className:"w-4 h-4 text-foreground-muted"})})})]}),c.jsx("div",{className:"p-4 overflow-auto max-h-[calc(85vh-60px)]",children:c.jsx(QN,{onSelect:()=>s(!1)})})]})]})]}),c.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-accent transition-colors focus-ring","aria-label":e==="dark"?"Switch to light mode":"Switch to dark mode",title:e==="dark"?"Switch to light mode":"Switch to dark mode",children:e==="dark"?c.jsx(J9,{className:"w-5 h-5 text-foreground-muted"}):c.jsx(F9,{className:"w-5 h-5 text-foreground-muted"})})]})]})}var Lc="Collapsible",[t8]=Br(Lc),[r8,Ip]=t8(Lc),Bx=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:i,disabled:a,onOpenChange:u,...d}=e,[p,m]=Fo({prop:s,defaultProp:i??!1,onChange:u,caller:Lc});return c.jsx(r8,{scope:n,disabled:a,contentId:Vr(),open:p,onOpenToggle:g.useCallback(()=>m(h=>!h),[m]),children:c.jsx(Oe.div,{"data-state":Lp(p),"data-disabled":a?"":void 0,...d,ref:t})})});Bx.displayName=Lc;var Wx="CollapsibleTrigger",Gx=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,i=Ip(Wx,n);return c.jsx(Oe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Lp(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...s,ref:t,onClick:be(e.onClick,i.onOpenToggle)})});Gx.displayName=Wx;var Dp="CollapsibleContent",Kx=g.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=Ip(Dp,e.__scopeCollapsible);return c.jsx(fr,{present:n||i.open,children:({present:a})=>c.jsx(n8,{...s,ref:t,present:a})})});Kx.displayName=Dp;var n8=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:i,...a}=e,u=Ip(Dp,n),[d,p]=g.useState(s),m=g.useRef(null),h=Fe(t,m),v=g.useRef(0),x=v.current,b=g.useRef(0),j=b.current,S=u.open||d,w=g.useRef(S),N=g.useRef(void 0);return g.useEffect(()=>{const C=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(C)},[]),mt(()=>{const C=m.current;if(C){N.current=N.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const E=C.getBoundingClientRect();v.current=E.height,b.current=E.width,w.current||(C.style.transitionDuration=N.current.transitionDuration,C.style.animationName=N.current.animationName),p(s)}},[u.open,s]),c.jsx(Oe.div,{"data-state":Lp(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!S,...a,ref:h,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:S&&i})});function Lp(e){return e?"open":"closed"}var Zx=Bx,Yx=Gx,Jx=Kx,o8=Symbol("radix.slottable");function s8(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=o8,t}var[Fc]=Br("Tooltip",[Wo]),zc=Wo(),Xx="TooltipProvider",i8=700,Zf="tooltip.open",[a8,Fp]=Fc(Xx),Qx=e=>{const{__scopeTooltip:t,delayDuration:n=i8,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,u=g.useRef(!0),d=g.useRef(!1),p=g.useRef(0);return g.useEffect(()=>{const m=p.current;return()=>window.clearTimeout(m)},[]),c.jsx(a8,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(p.current),u.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:g.useCallback(m=>{d.current=m},[]),disableHoverableContent:i,children:a})};Qx.displayName=Xx;var ni="Tooltip",[l8,mi]=Fc(ni),e2=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:i,onOpenChange:a,disableHoverableContent:u,delayDuration:d}=e,p=Fp(ni,e.__scopeTooltip),m=zc(t),[h,v]=g.useState(null),x=Vr(),b=g.useRef(0),j=u??p.disableHoverableContent,S=d??p.delayDuration,w=g.useRef(!1),[N,C]=Fo({prop:s,defaultProp:i??!1,onChange:$=>{$?(p.onOpen(),document.dispatchEvent(new CustomEvent(Zf))):p.onClose(),a==null||a($)},caller:ni}),E=g.useMemo(()=>N?w.current?"delayed-open":"instant-open":"closed",[N]),P=g.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w.current=!1,C(!0)},[C]),k=g.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C(!1)},[C]),R=g.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,C(!0),b.current=0},S)},[S,C]);return g.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),c.jsx(bp,{...m,children:c.jsx(l8,{scope:t,contentId:x,open:N,stateAttribute:E,trigger:h,onTriggerChange:v,onTriggerEnter:g.useCallback(()=>{p.isOpenDelayedRef.current?R():P()},[p.isOpenDelayedRef,R,P]),onTriggerLeave:g.useCallback(()=>{j?k():(window.clearTimeout(b.current),b.current=0)},[k,j]),onOpen:P,onClose:k,disableHoverableContent:j,children:n})})};e2.displayName=ni;var Yf="TooltipTrigger",t2=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=mi(Yf,n),a=Fp(Yf,n),u=zc(n),d=g.useRef(null),p=Fe(t,d,i.onTriggerChange),m=g.useRef(!1),h=g.useRef(!1),v=g.useCallback(()=>m.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),c.jsx(Cp,{asChild:!0,...u,children:c.jsx(Oe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:p,onPointerMove:be(e.onPointerMove,x=>{x.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:be(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:be(e.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:be(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:be(e.onBlur,i.onClose),onClick:be(e.onClick,i.onClose)})})});t2.displayName=Yf;var zp="TooltipPortal",[c8,u8]=Fc(zp,{forceMount:void 0}),r2=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:i}=e,a=mi(zp,t);return c.jsx(c8,{scope:t,forceMount:n,children:c.jsx(fr,{present:n||a.open,children:c.jsx(ui,{asChild:!0,container:i,children:s})})})};r2.displayName=zp;var Ho="TooltipContent",n2=g.forwardRef((e,t)=>{const n=u8(Ho,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,u=mi(Ho,e.__scopeTooltip);return c.jsx(fr,{present:s||u.open,children:u.disableHoverableContent?c.jsx(o2,{side:i,...a,ref:t}):c.jsx(d8,{side:i,...a,ref:t})})}),d8=g.forwardRef((e,t)=>{const n=mi(Ho,e.__scopeTooltip),s=Fp(Ho,e.__scopeTooltip),i=g.useRef(null),a=Fe(t,i),[u,d]=g.useState(null),{trigger:p,onClose:m}=n,h=i.current,{onPointerInTransitChange:v}=s,x=g.useCallback(()=>{d(null),v(!1)},[v]),b=g.useCallback((j,S)=>{const w=j.currentTarget,N={x:j.clientX,y:j.clientY},C=h8(N,w.getBoundingClientRect()),E=g8(N,C),P=y8(S.getBoundingClientRect()),k=x8([...E,...P]);d(k),v(!0)},[v]);return g.useEffect(()=>()=>x(),[x]),g.useEffect(()=>{if(p&&h){const j=w=>b(w,h),S=w=>b(w,p);return p.addEventListener("pointerleave",j),h.addEventListener("pointerleave",S),()=>{p.removeEventListener("pointerleave",j),h.removeEventListener("pointerleave",S)}}},[p,h,b,x]),g.useEffect(()=>{if(u){const j=S=>{const w=S.target,N={x:S.clientX,y:S.clientY},C=(p==null?void 0:p.contains(w))||(h==null?void 0:h.contains(w)),E=!v8(N,u);C?x():E&&(x(),m())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[p,h,u,m,x]),c.jsx(o2,{...e,ref:a})}),[f8,p8]=Fc(ni,{isInside:!1}),m8=s8("TooltipContent"),o2=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:u,...d}=e,p=mi(Ho,n),m=zc(n),{onClose:h}=p;return g.useEffect(()=>(document.addEventListener(Zf,h),()=>document.removeEventListener(Zf,h)),[h]),g.useEffect(()=>{if(p.trigger){const v=x=>{const b=x.target;b!=null&&b.contains(p.trigger)&&h()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[p.trigger,h]),c.jsx(ci,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:h,children:c.jsxs(_p,{"data-state":p.stateAttribute,...m,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(m8,{children:s}),c.jsx(f8,{scope:n,isInside:!0,children:c.jsx(D3,{id:p.contentId,role:"tooltip",children:i||s})})]})})});n2.displayName=Ho;var s2="TooltipArrow",i2=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=zc(n);return p8(s2,n).isInside?null:c.jsx(Sp,{...i,...s,ref:t})});i2.displayName=s2;function h8(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function g8(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function y8(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function v8(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const d=t[a],p=t[u],m=d.x,h=d.y,v=p.x,x=p.y;h>s!=x>s&&n<(v-m)*(s-h)/(x-h)+m&&(i=!i)}return i}function x8(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),w8(t)}function w8(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],u=n[n.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Vc=Qx,Uc=e2,Hc=t2,qc=r2,Bc=n2,Wc=i2;function gf({title:e,onExpand:t,tooltip:n}){return c.jsxs("div",{className:"panel-header flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{children:e}),n&&c.jsx(Vc,{delayDuration:300,children:c.jsxs(Uc,{children:[c.jsx(Hc,{asChild:!0,children:c.jsx("button",{type:"button",className:"p-0.5 rounded hover:bg-accent transition-colors focus-ring","aria-label":"Show help",children:c.jsx(Nr,{className:"w-3.5 h-3.5 text-foreground-muted"})})}),c.jsx(qc,{children:c.jsxs(Bc,{className:"bg-background-elevated text-foreground text-xs px-3 py-2 rounded-md shadow-lg border border-border max-w-xs z-50",sideOffset:5,children:[n,c.jsx(Wc,{className:"fill-background-elevated"})]})})]})})]}),c.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-accent transition-colors focus-ring","aria-label":`Expand ${e}`,title:`Open ${e} in modal`,children:c.jsx(Z9,{className:"w-3.5 h-3.5 text-foreground-muted"})})]})}const Tt={width:900,height:600,minWidth:400,minHeight:300,maxWidth:1400,maxHeight:900};function yf({title:e,open:t,onClose:n,children:s}){const[i,a]=g.useState({x:0,y:0}),[u,d]=g.useState({width:Tt.width,height:Tt.height}),[p,m]=g.useState(!1),[h,v]=g.useState(null),x=g.useRef({x:0,y:0,posX:0,posY:0}),b=g.useRef({x:0,y:0,width:0,height:0,posX:0,posY:0});g.useEffect(()=>{t&&(a({x:0,y:0}),d({width:Tt.width,height:Tt.height}))},[t]);const j=g.useCallback(w=>{w.target.closest("button")||(w.preventDefault(),m(!0),x.current={x:w.clientX,y:w.clientY,posX:i.x,posY:i.y})},[i]),S=g.useCallback(w=>N=>{N.preventDefault(),N.stopPropagation(),v(w),b.current={x:N.clientX,y:N.clientY,width:u.width,height:u.height,posX:i.x,posY:i.y}},[u,i]);return g.useEffect(()=>{if(!p&&!h)return;const w=C=>{if(p){const E=C.clientX-x.current.x,P=C.clientY-x.current.y;a({x:x.current.posX+E,y:x.current.posY+P})}else if(h){const E=C.clientX-b.current.x,P=C.clientY-b.current.y,{width:k,height:R,posX:$,posY:L}=b.current;let K=k,U=R,G=$,te=L;if(h.includes("e")&&(K=Math.max(Tt.minWidth,Math.min(Tt.maxWidth,k+E))),h.includes("w")){const re=Math.max(Tt.minWidth,Math.min(Tt.maxWidth,k-E))-k;K=k+re,G=$-re}if(h.includes("s")&&(U=Math.max(Tt.minHeight,Math.min(Tt.maxHeight,R+P))),h.includes("n")){const re=Math.max(Tt.minHeight,Math.min(Tt.maxHeight,R-P))-R;U=R+re,te=L-re}d({width:K,height:U}),a({x:G,y:te})}},N=()=>{m(!1),v(null)};return document.addEventListener("mousemove",w),document.addEventListener("mouseup",N),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",N)}},[p,h]),g.useEffect(()=>{if(p)document.body.style.cursor="move",document.body.style.userSelect="none";else if(h){const w={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize",ne:"nesw-resize",sw:"nesw-resize",nw:"nwse-resize",se:"nwse-resize"};document.body.style.cursor=w[h]||"default",document.body.style.userSelect="none"}else document.body.style.cursor="",document.body.style.userSelect="";return()=>{document.body.style.cursor="",document.body.style.userSelect=""}},[p,h]),c.jsx(mv,{open:t,onOpenChange:w=>!w&&n(),children:c.jsxs(hv,{children:[c.jsx(gv,{className:"fixed inset-0 bg-black/50 animate-fade-in z-50"}),c.jsxs(yv,{className:"fixed bg-background rounded-lg shadow-xl border border-border overflow-hidden focus-ring z-50",style:{top:`calc(50% + ${i.y}px)`,left:`calc(50% + ${i.x}px)`,transform:"translate(-50%, -50%)",width:u.width,height:u.height,minWidth:Tt.minWidth,minHeight:Tt.minHeight},children:[c.jsx(vv,{className:"sr-only",children:e}),c.jsxs(xv,{className:"sr-only",children:["Expanded view of ",e]}),c.jsx("div",{className:"absolute top-0 left-2 right-2 h-1 cursor-ns-resize hover:bg-primary/30",onMouseDown:S("n")}),c.jsx("div",{className:"absolute bottom-0 left-2 right-2 h-1 cursor-ns-resize hover:bg-primary/30",onMouseDown:S("s")}),c.jsx("div",{className:"absolute left-0 top-2 bottom-2 w-1 cursor-ew-resize hover:bg-primary/30",onMouseDown:S("w")}),c.jsx("div",{className:"absolute right-0 top-2 bottom-2 w-1 cursor-ew-resize hover:bg-primary/30",onMouseDown:S("e")}),c.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 cursor-nwse-resize",onMouseDown:S("nw")}),c.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 cursor-nesw-resize",onMouseDown:S("ne")}),c.jsx("div",{className:"absolute bottom-0 left-0 w-3 h-3 cursor-nesw-resize",onMouseDown:S("sw")}),c.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 cursor-nwse-resize",onMouseDown:S("se")}),c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border bg-background-secondary cursor-move select-none",onMouseDown:j,children:[c.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e}),c.jsx(wv,{asChild:!0,children:c.jsx("button",{className:"p-2 rounded-md hover:bg-accent transition-colors focus-ring cursor-pointer","aria-label":`Close ${e}`,children:c.jsx(Bn,{className:"w-4 h-4 text-foreground-muted"})})})]}),c.jsx("div",{className:"p-4 overflow-auto",style:{height:"calc(100% - 60px)"},children:s})]})]})})}function b8({leftPanel:e,centerPanel:t,rightPanel:n,bottomPanel:s,theme:i,onToggleTheme:a}){const[u,d]=g.useState(!0),[p,m]=g.useState(!1),[h,v]=g.useState(250),[x,b]=g.useState(380),[j,S]=g.useState(200),[w,N]=g.useState(null),C=g.useRef(null),E=g.useRef(!1),P=g.useRef(!1),k=g.useRef(!1),R=g.useRef(null),$=g.useCallback(te=>{N(te)},[]),L=g.useCallback(()=>{N(null)},[]),K=te=>{te.stopPropagation(),p?(m(!1),R.current&&(S(R.current.height),d(R.current.wasOpen),R.current=null)):(R.current={height:j,wasOpen:u},m(!0),u||d(!0))},U=g.useCallback(te=>{te.preventDefault(),k.current=!0,document.body.style.cursor="row-resize",document.body.style.userSelect="none";const re=se=>{if(!k.current)return;const le=Math.max(100,Math.min(600,window.innerHeight-se.clientY-40));S(le)},ne=()=>{k.current=!1,document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",ne)};document.addEventListener("mousemove",re),document.addEventListener("mouseup",ne)},[]),G=g.useCallback(te=>re=>{re.preventDefault(),te==="left"?E.current=!0:P.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none";const ne=le=>{if(!C.current)return;const pe=C.current.getBoundingClientRect();if(E.current){const H=Math.max(180,Math.min(400,le.clientX-pe.left-16));v(H)}else if(P.current){const H=Math.max(200,Math.min(500,pe.right-le.clientX-16));b(H)}},se=()=>{E.current=!1,P.current=!1,document.body.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",ne),document.removeEventListener("mouseup",se)};document.addEventListener("mousemove",ne),document.addEventListener("mouseup",se)},[]);return c.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[c.jsx(e8,{theme:i,onToggleTheme:a}),!p&&c.jsxs("div",{ref:C,className:"flex-1 flex overflow-hidden p-4 gap-0",children:[c.jsxs("div",{className:"panel overflow-hidden flex flex-col flex-shrink-0",style:{width:h},children:[c.jsx(gf,{title:"Rule Tree",onExpand:()=>$("left"),tooltip:"Right-click on tree items to add conditions, change logic operators (all/any), or reorder items"}),c.jsx("div",{className:"panel-content flex-1 overflow-auto",children:e})]}),c.jsx("div",{className:"resizer-handle",onMouseDown:G("left"),children:c.jsx("div",{className:"resizer-indicator"})}),c.jsxs("div",{className:"flex-1 panel overflow-hidden flex flex-col min-w-0",children:[c.jsx(gf,{title:"Rule Editor",onExpand:()=>$("center")}),c.jsx("div",{className:"panel-content flex-1 overflow-auto",children:t})]}),c.jsx("div",{className:"resizer-handle",onMouseDown:G("right"),children:c.jsx("div",{className:"resizer-indicator"})}),c.jsxs("div",{className:"panel overflow-hidden flex flex-col flex-shrink-0",style:{width:x},children:[c.jsx(gf,{title:"JSON Preview",onExpand:()=>$("right")}),c.jsx("div",{className:"panel-content flex-1 overflow-auto",children:n})]})]}),c.jsx(yf,{title:"Rule Tree",open:w==="left",onClose:L,children:e}),c.jsx(yf,{title:"Rule Editor",open:w==="center",onClose:L,children:t}),c.jsx(yf,{title:"JSON Preview",open:w==="right",onClose:L,children:n}),c.jsxs(Zx,{open:u,onOpenChange:d,className:`border-t border-border ${p?"flex-1 flex flex-col":"flex-shrink-0"}`,children:[u&&!p&&c.jsx("div",{className:"resizer-handle-horizontal",onMouseDown:U,children:c.jsx("div",{className:"resizer-indicator-horizontal"})}),c.jsxs("div",{className:"flex items-center bg-background-secondary",children:[c.jsx(Yx,{asChild:!0,children:c.jsxs("button",{className:"flex-1 flex items-center justify-between px-4 py-2 hover:bg-accent transition-colors focus-ring","aria-label":u?"Collapse simulation panel":"Expand simulation panel",children:[c.jsx("span",{className:"text-sm font-medium text-foreground-muted uppercase tracking-wide",children:"Simulation Panel"}),u?c.jsx(St,{className:"w-4 h-4 text-foreground-muted"}):c.jsx(fc,{className:"w-4 h-4 text-foreground-muted"})]})}),c.jsx("button",{onClick:K,className:"px-3 py-2 hover:bg-accent transition-colors focus-ring border-l border-border","aria-label":p?"Exit full screen":"Enter full screen",title:p?"Exit full screen":"Maximize simulation panel",children:p?c.jsx(_9,{className:"w-4 h-4 text-foreground-muted"}):c.jsx(w9,{className:"w-4 h-4 text-foreground-muted"})})]}),c.jsx(Jx,{className:`bg-background-secondary ${p?"flex-1":""}`,children:c.jsx("div",{className:`p-4 overflow-auto ${p?"h-full":""}`,style:p?void 0:{height:j},children:s})})]})]})}const Zy=e=>Symbol.iterator in e,Yy=e=>"entries"in e,Jy=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),s=t instanceof Map?t:new Map(t.entries());if(n.size!==s.size)return!1;for(const[i,a]of n)if(!s.has(i)||!Object.is(a,s.get(i)))return!1;return!0},C8=(e,t)=>{const n=e[Symbol.iterator](),s=t[Symbol.iterator]();let i=n.next(),a=s.next();for(;!i.done&&!a.done;){if(!Object.is(i.value,a.value))return!1;i=n.next(),a=s.next()}return!!i.done&&!!a.done};function _8(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:Zy(e)&&Zy(t)?Yy(e)&&Yy(t)?Jy(e,t):C8(e,t):Jy({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function rc(e){const t=ot.useRef(void 0);return n=>{const s=e(n);return _8(t.current,s)?t.current:t.current=s}}function vf({symbol:e,className:t}){return c.jsx("span",{className:`inline-flex items-center justify-center w-4 h-4 text-xs font-bold ${t||""}`,"aria-hidden":"true",children:e})}function S8({type:e,className:t=""}){const n=`w-4 h-4 flex-shrink-0 ${t}`;switch(e){case"root":case"rule":return c.jsx(cp,{className:`${n} text-primary`,"aria-label":"Rule"});case"conditions":return c.jsx(p9,{className:`${n} text-foreground-muted`,"aria-label":"Conditions"});case"all":case"condition-group":return c.jsx(vf,{symbol:"",className:`${n} text-blue-500`});case"any":return c.jsx(vf,{symbol:"",className:`${n} text-purple-500`});case"not":return c.jsx(vf,{symbol:"",className:`${n} text-orange-500`});case"condition":return c.jsx(r0,{className:`${n} text-green-500`,"aria-label":"Condition"});case"event":return c.jsx(M9,{className:`${n} text-yellow-500`,"aria-label":"Event"});case"event-param":return c.jsx(Nr,{className:`${n} text-yellow-400`,"aria-label":"Event Parameter"});default:return c.jsx(r0,{className:`${n} text-foreground-muted`,"aria-label":"Unknown"})}}function N8(e){const t=e.toUpperCase();return t==="ALL"||t.startsWith("ALL")?"all":t==="ANY"||t.startsWith("ANY")?"any":t==="NOT"||t.startsWith("NOT")?"not":"all"}var xf="rovingFocusGroup.onEntryFocus",j8={bubbles:!1,cancelable:!0},hi="RovingFocusGroup",[Jf,a2,E8]=dp(hi),[k8,l2]=Br(hi,[E8]),[P8,R8]=k8(hi),c2=g.forwardRef((e,t)=>c.jsx(Jf.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Jf.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx($8,{...e,ref:t})})}));c2.displayName=hi;var $8=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...v}=e,x=g.useRef(null),b=Fe(t,x),j=fp(a),[S,w]=Fo({prop:u,defaultProp:d??null,onChange:p,caller:hi}),[N,C]=g.useState(!1),E=lr(m),P=a2(n),k=g.useRef(!1),[R,$]=g.useState(0);return g.useEffect(()=>{const L=x.current;if(L)return L.addEventListener(xf,E),()=>L.removeEventListener(xf,E)},[E]),c.jsx(P8,{scope:n,orientation:s,dir:j,loop:i,currentTabStopId:S,onItemFocus:g.useCallback(L=>w(L),[w]),onItemShiftTab:g.useCallback(()=>C(!0),[]),onFocusableItemAdd:g.useCallback(()=>$(L=>L+1),[]),onFocusableItemRemove:g.useCallback(()=>$(L=>L-1),[]),children:c.jsx(Oe.div,{tabIndex:N||R===0?-1:0,"data-orientation":s,...v,ref:b,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{k.current=!0}),onFocus:be(e.onFocus,L=>{const K=!k.current;if(L.target===L.currentTarget&&K&&!N){const U=new CustomEvent(xf,j8);if(L.currentTarget.dispatchEvent(U),!U.defaultPrevented){const G=P().filter(le=>le.focusable),te=G.find(le=>le.active),re=G.find(le=>le.id===S),se=[te,re,...G].filter(Boolean).map(le=>le.ref.current);f2(se,h)}}k.current=!1}),onBlur:be(e.onBlur,()=>C(!1))})})}),u2="RovingFocusGroupItem",d2=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:u,...d}=e,p=Vr(),m=a||p,h=R8(u2,n),v=h.currentTabStopId===m,x=a2(n),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:S}=h;return g.useEffect(()=>{if(s)return b(),()=>j()},[s,b,j]),c.jsx(Jf.ItemSlot,{scope:n,id:m,focusable:s,active:i,children:c.jsx(Oe.span,{tabIndex:v?0:-1,"data-orientation":h.orientation,...d,ref:t,onMouseDown:be(e.onMouseDown,w=>{s?h.onItemFocus(m):w.preventDefault()}),onFocus:be(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:be(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const N=M8(w,h.orientation,h.dir);if(N!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=x().filter(P=>P.focusable).map(P=>P.ref.current);if(N==="last")E.reverse();else if(N==="prev"||N==="next"){N==="prev"&&E.reverse();const P=E.indexOf(w.currentTarget);E=h.loop?A8(E,P+1):E.slice(P+1)}setTimeout(()=>f2(E))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:S!=null}):u})})});d2.displayName=u2;var T8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function O8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function M8(e,t,n){const s=O8(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return T8[s]}function f2(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function A8(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var I8=c2,D8=d2;function L8(e){const t=F8(e),n=g.forwardRef((s,i)=>{const{children:a,...u}=s,d=g.Children.toArray(a),p=d.find(V8);if(p){const m=p.props.children,h=d.map(v=>v===p?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:v);return c.jsx(t,{...u,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,h):null})}return c.jsx(t,{...u,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function F8(e){const t=g.forwardRef((n,s)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const u=H8(i),d=U8(a,i.props);return i.type!==g.Fragment&&(d.ref=s?Yn(s,u):u),g.cloneElement(i,d)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var z8=Symbol("radix.slottable");function V8(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===z8}function U8(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const p=a(...d);return i(...d),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function H8(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Xf=["Enter"," "],q8=["ArrowDown","PageUp","Home"],p2=["ArrowUp","PageDown","End"],B8=[...q8,...p2],W8={ltr:[...Xf,"ArrowRight"],rtl:[...Xf,"ArrowLeft"]},G8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gi="Menu",[oi,K8,Z8]=dp(gi),[Jn,m2]=Br(gi,[Z8,Wo,l2]),Gc=Wo(),h2=l2(),[Y8,Xn]=Jn(gi),[J8,yi]=Jn(gi),g2=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:u=!0}=e,d=Gc(t),[p,m]=g.useState(null),h=g.useRef(!1),v=lr(a),x=fp(i);return g.useEffect(()=>{const b=()=>{h.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>h.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),c.jsx(bp,{...d,children:c.jsx(Y8,{scope:t,open:n,onOpenChange:v,content:p,onContentChange:m,children:c.jsx(J8,{scope:t,onClose:g.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:h,dir:x,modal:u,children:s})})})};g2.displayName=gi;var X8="MenuAnchor",Vp=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Gc(n);return c.jsx(Cp,{...i,...s,ref:t})});Vp.displayName=X8;var Up="MenuPortal",[Q8,y2]=Jn(Up,{forceMount:void 0}),v2=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=Xn(Up,t);return c.jsx(Q8,{scope:t,forceMount:n,children:c.jsx(fr,{present:n||a.open,children:c.jsx(ui,{asChild:!0,container:i,children:s})})})};v2.displayName=Up;var Jt="MenuContent",[ej,Hp]=Jn(Jt),x2=g.forwardRef((e,t)=>{const n=y2(Jt,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=Xn(Jt,e.__scopeMenu),u=yi(Jt,e.__scopeMenu);return c.jsx(oi.Provider,{scope:e.__scopeMenu,children:c.jsx(fr,{present:s||a.open,children:c.jsx(oi.Slot,{scope:e.__scopeMenu,children:u.modal?c.jsx(tj,{...i,ref:t}):c.jsx(rj,{...i,ref:t})})})})}),tj=g.forwardRef((e,t)=>{const n=Xn(Jt,e.__scopeMenu),s=g.useRef(null),i=Fe(t,s);return g.useEffect(()=>{const a=s.current;if(a)return np(a)},[]),c.jsx(qp,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:be(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),rj=g.forwardRef((e,t)=>{const n=Xn(Jt,e.__scopeMenu);return c.jsx(qp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),nj=L8("MenuContent.ScrollLock"),qp=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:p,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:v,onInteractOutside:x,onDismiss:b,disableOutsideScroll:j,...S}=e,w=Xn(Jt,n),N=yi(Jt,n),C=Gc(n),E=h2(n),P=K8(n),[k,R]=g.useState(null),$=g.useRef(null),L=Fe(t,$,w.onContentChange),K=g.useRef(0),U=g.useRef(""),G=g.useRef(0),te=g.useRef(null),re=g.useRef("right"),ne=g.useRef(0),se=j?uc:g.Fragment,le=j?{as:nj,allowPinchZoom:!0}:void 0,pe=X=>{var ee,ae;const B=U.current+X,O=P().filter(he=>!he.disabled),I=document.activeElement,F=(ee=O.find(he=>he.ref.current===I))==null?void 0:ee.textValue,M=O.map(he=>he.textValue),A=hj(M,B,F),Z=(ae=O.find(he=>he.textValue===A))==null?void 0:ae.ref.current;(function he(ge){U.current=ge,window.clearTimeout(K.current),ge!==""&&(K.current=window.setTimeout(()=>he(""),1e3))})(B),Z&&setTimeout(()=>Z.focus())};g.useEffect(()=>()=>window.clearTimeout(K.current),[]),rp();const H=g.useCallback(X=>{var O,I;return re.current===((O=te.current)==null?void 0:O.side)&&yj(X,(I=te.current)==null?void 0:I.area)},[]);return c.jsx(ej,{scope:n,searchRef:U,onItemEnter:g.useCallback(X=>{H(X)&&X.preventDefault()},[H]),onItemLeave:g.useCallback(X=>{var B;H(X)||((B=$.current)==null||B.focus(),R(null))},[H]),onTriggerLeave:g.useCallback(X=>{H(X)&&X.preventDefault()},[H]),pointerGraceTimerRef:G,onPointerGraceIntentChange:g.useCallback(X=>{te.current=X},[]),children:c.jsx(se,{...le,children:c.jsx(lc,{asChild:!0,trapped:i,onMountAutoFocus:be(a,X=>{var B;X.preventDefault(),(B=$.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:c.jsx(ci,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:v,onInteractOutside:x,onDismiss:b,children:c.jsx(I8,{asChild:!0,...E,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:k,onCurrentTabStopIdChange:R,onEntryFocus:be(p,X=>{N.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(_p,{role:"menu","aria-orientation":"vertical","data-state":A2(w.open),"data-radix-menu-content":"",dir:N.dir,...C,...S,ref:L,style:{outline:"none",...S.style},onKeyDown:be(S.onKeyDown,X=>{const O=X.target.closest("[data-radix-menu-content]")===X.currentTarget,I=X.ctrlKey||X.altKey||X.metaKey,F=X.key.length===1;O&&(X.key==="Tab"&&X.preventDefault(),!I&&F&&pe(X.key));const M=$.current;if(X.target!==M||!B8.includes(X.key))return;X.preventDefault();const Z=P().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);p2.includes(X.key)&&Z.reverse(),pj(Z)}),onBlur:be(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(K.current),U.current="")}),onPointerMove:be(e.onPointerMove,si(X=>{const B=X.target,O=ne.current!==X.clientX;if(X.currentTarget.contains(B)&&O){const I=X.clientX>ne.current?"right":"left";re.current=I,ne.current=X.clientX}}))})})})})})})});x2.displayName=Jt;var oj="MenuGroup",Bp=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return c.jsx(Oe.div,{role:"group",...s,ref:t})});Bp.displayName=oj;var sj="MenuLabel",w2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return c.jsx(Oe.div,{...s,ref:t})});w2.displayName=sj;var nc="MenuItem",Xy="menu.itemSelect",Kc=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=g.useRef(null),u=yi(nc,e.__scopeMenu),d=Hp(nc,e.__scopeMenu),p=Fe(t,a),m=g.useRef(!1),h=()=>{const v=a.current;if(!n&&v){const x=new CustomEvent(Xy,{bubbles:!0,cancelable:!0});v.addEventListener(Xy,b=>s==null?void 0:s(b),{once:!0}),z1(v,x),x.defaultPrevented?m.current=!1:u.onClose()}};return c.jsx(b2,{...i,ref:p,disabled:n,onClick:be(e.onClick,h),onPointerDown:v=>{var x;(x=e.onPointerDown)==null||x.call(e,v),m.current=!0},onPointerUp:be(e.onPointerUp,v=>{var x;m.current||(x=v.currentTarget)==null||x.click()}),onKeyDown:be(e.onKeyDown,v=>{const x=d.searchRef.current!=="";n||x&&v.key===" "||Xf.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Kc.displayName=nc;var b2=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,u=Hp(nc,n),d=h2(n),p=g.useRef(null),m=Fe(t,p),[h,v]=g.useState(!1),[x,b]=g.useState("");return g.useEffect(()=>{const j=p.current;j&&b((j.textContent??"").trim())},[a.children]),c.jsx(oi.ItemSlot,{scope:n,disabled:s,textValue:i??x,children:c.jsx(D8,{asChild:!0,...d,focusable:!s,children:c.jsx(Oe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:m,onPointerMove:be(e.onPointerMove,si(j=>{s?u.onItemLeave(j):(u.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(e.onPointerLeave,si(j=>u.onItemLeave(j))),onFocus:be(e.onFocus,()=>v(!0)),onBlur:be(e.onBlur,()=>v(!1))})})})}),ij="MenuCheckboxItem",C2=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return c.jsx(E2,{scope:e.__scopeMenu,checked:n,children:c.jsx(Kc,{role:"menuitemcheckbox","aria-checked":oc(n)?"mixed":n,...i,ref:t,"data-state":Gp(n),onSelect:be(i.onSelect,()=>s==null?void 0:s(oc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});C2.displayName=ij;var _2="MenuRadioGroup",[aj,lj]=Jn(_2,{value:void 0,onValueChange:()=>{}}),S2=g.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=lr(s);return c.jsx(aj,{scope:e.__scopeMenu,value:n,onValueChange:a,children:c.jsx(Bp,{...i,ref:t})})});S2.displayName=_2;var N2="MenuRadioItem",j2=g.forwardRef((e,t)=>{const{value:n,...s}=e,i=lj(N2,e.__scopeMenu),a=n===i.value;return c.jsx(E2,{scope:e.__scopeMenu,checked:a,children:c.jsx(Kc,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":Gp(a),onSelect:be(s.onSelect,()=>{var u;return(u=i.onValueChange)==null?void 0:u.call(i,n)},{checkForDefaultPrevented:!1})})})});j2.displayName=N2;var Wp="MenuItemIndicator",[E2,cj]=Jn(Wp,{checked:!1}),k2=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=cj(Wp,n);return c.jsx(fr,{present:s||oc(a.checked)||a.checked===!0,children:c.jsx(Oe.span,{...i,ref:t,"data-state":Gp(a.checked)})})});k2.displayName=Wp;var uj="MenuSeparator",P2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return c.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});P2.displayName=uj;var dj="MenuArrow",R2=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Gc(n);return c.jsx(Sp,{...i,...s,ref:t})});R2.displayName=dj;var fj="MenuSub",[gP,$2]=Jn(fj),Fs="MenuSubTrigger",T2=g.forwardRef((e,t)=>{const n=Xn(Fs,e.__scopeMenu),s=yi(Fs,e.__scopeMenu),i=$2(Fs,e.__scopeMenu),a=Hp(Fs,e.__scopeMenu),u=g.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:p}=a,m={__scopeMenu:e.__scopeMenu},h=g.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return g.useEffect(()=>h,[h]),g.useEffect(()=>{const v=d.current;return()=>{window.clearTimeout(v),p(null)}},[d,p]),c.jsx(Vp,{asChild:!0,...m,children:c.jsx(b2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":A2(n.open),...e,ref:Yn(t,i.onTriggerChange),onClick:v=>{var x;(x=e.onClick)==null||x.call(e,v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:be(e.onPointerMove,si(v=>{a.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:be(e.onPointerLeave,si(v=>{var b,j;h();const x=(b=n.content)==null?void 0:b.getBoundingClientRect();if(x){const S=(j=n.content)==null?void 0:j.dataset.side,w=S==="right",N=w?-5:5,C=x[w?"left":"right"],E=x[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:v.clientX+N,y:v.clientY},{x:C,y:x.top},{x:E,y:x.top},{x:E,y:x.bottom},{x:C,y:x.bottom}],side:S}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(v),v.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:be(e.onKeyDown,v=>{var b;const x=a.searchRef.current!=="";e.disabled||x&&v.key===" "||W8[s.dir].includes(v.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),v.preventDefault())})})})});T2.displayName=Fs;var O2="MenuSubContent",M2=g.forwardRef((e,t)=>{const n=y2(Jt,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=Xn(Jt,e.__scopeMenu),u=yi(Jt,e.__scopeMenu),d=$2(O2,e.__scopeMenu),p=g.useRef(null),m=Fe(t,p);return c.jsx(oi.Provider,{scope:e.__scopeMenu,children:c.jsx(fr,{present:s||a.open,children:c.jsx(oi.Slot,{scope:e.__scopeMenu,children:c.jsx(qp,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var v;u.isUsingKeyboardRef.current&&((v=p.current)==null||v.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:be(e.onFocusOutside,h=>{h.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:be(e.onEscapeKeyDown,h=>{u.onClose(),h.preventDefault()}),onKeyDown:be(e.onKeyDown,h=>{var b;const v=h.currentTarget.contains(h.target),x=G8[u.dir].includes(h.key);v&&x&&(a.onOpenChange(!1),(b=d.trigger)==null||b.focus(),h.preventDefault())})})})})})});M2.displayName=O2;function A2(e){return e?"open":"closed"}function oc(e){return e==="indeterminate"}function Gp(e){return oc(e)?"indeterminate":e?"checked":"unchecked"}function pj(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function mj(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function hj(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=mj(e,Math.max(a,0));i.length===1&&(u=u.filter(m=>m!==n));const p=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return p!==n?p:void 0}function gj(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const d=t[a],p=t[u],m=d.x,h=d.y,v=p.x,x=p.y;h>s!=x>s&&n<(v-m)*(s-h)/(x-h)+m&&(i=!i)}return i}function yj(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return gj(n,t)}function si(e){return t=>t.pointerType==="mouse"?e(t):void 0}var vj=g2,xj=Vp,wj=v2,bj=x2,Cj=Bp,_j=w2,Sj=Kc,Nj=C2,jj=S2,Ej=j2,kj=k2,Pj=P2,Rj=R2,$j=T2,Tj=M2,Kp="ContextMenu",[Oj]=Br(Kp,[m2]),Nt=m2(),[Mj,I2]=Oj(Kp),D2=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:s,dir:i,modal:a=!0}=e,[u,d]=g.useState(!1),p=Nt(t),m=lr(s),h=g.useCallback(v=>{d(v),m(v)},[m]);return c.jsx(Mj,{scope:t,open:u,onOpenChange:h,modal:a,children:c.jsx(vj,{...p,dir:i,open:u,onOpenChange:h,modal:a,children:n})})};D2.displayName=Kp;var L2="ContextMenuTrigger",F2=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:s=!1,...i}=e,a=I2(L2,n),u=Nt(n),d=g.useRef({x:0,y:0}),p=g.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...d.current})}),m=g.useRef(0),h=g.useCallback(()=>window.clearTimeout(m.current),[]),v=x=>{d.current={x:x.clientX,y:x.clientY},a.onOpenChange(!0)};return g.useEffect(()=>h,[h]),g.useEffect(()=>void(s&&h()),[s,h]),c.jsxs(c.Fragment,{children:[c.jsx(xj,{...u,virtualRef:p}),c.jsx(Oe.span,{"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,...i,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:s?e.onContextMenu:be(e.onContextMenu,x=>{h(),v(x),x.preventDefault()}),onPointerDown:s?e.onPointerDown:be(e.onPointerDown,_l(x=>{h(),m.current=window.setTimeout(()=>v(x),700)})),onPointerMove:s?e.onPointerMove:be(e.onPointerMove,_l(h)),onPointerCancel:s?e.onPointerCancel:be(e.onPointerCancel,_l(h)),onPointerUp:s?e.onPointerUp:be(e.onPointerUp,_l(h))})]})});F2.displayName=L2;var Aj="ContextMenuPortal",z2=e=>{const{__scopeContextMenu:t,...n}=e,s=Nt(t);return c.jsx(wj,{...s,...n})};z2.displayName=Aj;var V2="ContextMenuContent",U2=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=I2(V2,n),a=Nt(n),u=g.useRef(!1);return c.jsx(bj,{...a,...s,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:d=>{var p;(p=e.onCloseAutoFocus)==null||p.call(e,d),!d.defaultPrevented&&u.current&&d.preventDefault(),u.current=!1},onInteractOutside:d=>{var p;(p=e.onInteractOutside)==null||p.call(e,d),!d.defaultPrevented&&!i.modal&&(u.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});U2.displayName=V2;var Ij="ContextMenuGroup",Dj=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx(Cj,{...i,...s,ref:t})});Dj.displayName=Ij;var Lj="ContextMenuLabel",Fj=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx(_j,{...i,...s,ref:t})});Fj.displayName=Lj;var zj="ContextMenuItem",H2=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx(Sj,{...i,...s,ref:t})});H2.displayName=zj;var Vj="ContextMenuCheckboxItem",Uj=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx(Nj,{...i,...s,ref:t})});Uj.displayName=Vj;var Hj="ContextMenuRadioGroup",qj=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx(jj,{...i,...s,ref:t})});qj.displayName=Hj;var Bj="ContextMenuRadioItem",Wj=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx(Ej,{...i,...s,ref:t})});Wj.displayName=Bj;var Gj="ContextMenuItemIndicator",Kj=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx(kj,{...i,...s,ref:t})});Kj.displayName=Gj;var Zj="ContextMenuSeparator",q2=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx(Pj,{...i,...s,ref:t})});q2.displayName=Zj;var Yj="ContextMenuArrow",Jj=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx(Rj,{...i,...s,ref:t})});Jj.displayName=Yj;var Xj="ContextMenuSubTrigger",Qj=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx($j,{...i,...s,ref:t})});Qj.displayName=Xj;var e7="ContextMenuSubContent",t7=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...s}=e,i=Nt(n);return c.jsx(Tj,{...i,...s,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});t7.displayName=e7;function _l(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var r7=D2,n7=F2,o7=z2,s7=U2,i7=H2,a7=q2;function Is({children:e,icon:t,onClick:n,destructive:s=!1,disabled:i=!1}){return c.jsxs(i7,{className:`
        flex items-center gap-2 px-3 py-2 text-sm cursor-pointer outline-none
        rounded-sm select-none
        ${s?"text-red-500 hover:bg-red-50 dark:hover:bg-red-950 focus:bg-red-50 dark:focus:bg-red-950":"text-foreground hover:bg-accent focus:bg-accent"}
        ${i?"opacity-50 pointer-events-none":""}
      `,onClick:n,disabled:i,children:[c.jsx(t,{className:"w-4 h-4"}),e]})}function Qy({symbol:e}){return c.jsx("span",{className:"w-4 h-4 inline-flex items-center justify-center text-xs font-bold",children:e})}function l7(e){return e.type==="conditions"||e.type==="condition-group"||e.type==="rule"}function c7(e){return e.path.length>1}function u7(e){return e.type==="condition"||e.type==="condition-group"&&e.path.length>1}function d7({children:e,node:t,onAction:n,disabled:s=!1}){const i=g.useCallback(()=>{n({type:"addCondition",node:t})},[t,n]),a=g.useCallback(()=>{n({type:"addAll",node:t})},[t,n]),u=g.useCallback(()=>{n({type:"addAny",node:t})},[t,n]),d=g.useCallback(()=>{n({type:"duplicate",node:t})},[t,n]),p=g.useCallback(()=>{n({type:"delete",node:t})},[t,n]),m=l7(t),h=u7(t),v=c7(t);return s?c.jsx(c.Fragment,{children:e}):c.jsxs(r7,{children:[c.jsx(n7,{asChild:!0,children:e}),c.jsx(o7,{children:c.jsxs(s7,{className:`
            min-w-[180px] bg-background border border-border rounded-lg shadow-lg
            py-1 z-50 animate-in fade-in-0 zoom-in-95
          `,alignOffset:5,children:[m&&c.jsxs(c.Fragment,{children:[c.jsx(Is,{icon:zo,onClick:i,children:"Add Condition"}),c.jsx(Is,{icon:()=>c.jsx(Qy,{symbol:""}),onClick:a,children:"Add AND Group"}),c.jsx(Is,{icon:()=>c.jsx(Qy,{symbol:""}),onClick:u,children:"Add OR Group"}),(h||v)&&c.jsx(a7,{className:"h-px bg-border my-1"})]}),h&&c.jsx(Is,{icon:ap,onClick:d,children:"Duplicate"}),v&&c.jsx(Is,{icon:up,onClick:p,destructive:!0,children:"Delete"}),!m&&!h&&!v&&c.jsx("div",{className:"px-3 py-2 text-sm text-foreground-muted italic",children:"No actions available"})]})})]})}const f7="_treeContainer_11v0h_9",p7="_treeNodeWrapper_11v0h_22",m7="_treeNode_11v0h_22",h7="_selected_11v0h_51",g7="_hasError_11v0h_66",y7="_expandButton_11v0h_72",v7="_expanded_11v0h_91",x7="_expandPlaceholder_11v0h_96",w7="_nodeIcon_11v0h_103",b7="_nodeLabel_11v0h_111",C7="_nodeChildren_11v0h_120",_7="_collapsibleContent_11v0h_127",S7="_errorMessage_11v0h_162",N7="_errorIcon_11v0h_176",j7="_emptyState_11v0h_184",E7="_emptyStateIcon_11v0h_194",k7="_emptyStateTitle_11v0h_201",P7="_emptyStateDescription_11v0h_207",R7="_actionButton_11v0h_213",$7="_conditionPreview_11v0h_241",T7="_dragging_11v0h_253",O7="_dragOver_11v0h_258",M7="_dropBefore_11v0h_262",A7="_dropAfter_11v0h_267",I7="_dropInside_11v0h_272",qe={treeContainer:f7,treeNodeWrapper:p7,treeNode:m7,selected:h7,hasError:g7,expandButton:y7,expanded:v7,expandPlaceholder:x7,nodeIcon:w7,nodeLabel:b7,nodeChildren:C7,collapsibleContent:_7,errorMessage:S7,errorIcon:N7,emptyState:j7,emptyStateIcon:E7,emptyStateTitle:k7,emptyStateDescription:P7,actionButton:R7,conditionPreview:$7,dragging:T7,dragOver:O7,dropBefore:M7,dropAfter:A7,dropInside:I7};function D7(e){if(e.type==="condition"&&e.data){const t=e.data;if(t.fact)return t.fact}return e.label}function L7(e){if(e.type!=="condition"||!e.data)return null;const t=e.data;if(!t.operator||t.value===void 0)return null;const n=typeof t.value=="string"?`"${t.value.substring(0,20)}${t.value.length>20?"...":""}"`:JSON.stringify(t.value);return`${t.operator} ${n}`}function F7(e){return e.type==="condition-group"?N8(e.label):e.type==="event-param"?"event":e.type}function z7(e){return(e.type==="condition"||e.type==="condition-group")&&e.path.length>2}function V7(e){return e.type==="conditions"||e.type==="condition-group"}function U7(e){if(e.type==="conditions"){if(e.children.length>0){const t=e.children[0];if(t&&(t.type==="condition-group"||t.label.startsWith("ALL")||t.label.startsWith("ANY")))return t.path}return null}if(e.type==="condition-group"){if(e.path.length===2&&e.path[0]==="conditions")return e.path;const t=e.label.toLowerCase();if(t.startsWith("all"))return[...e.path,"all"];if(t.startsWith("any"))return[...e.path,"any"]}return null}function B2({node:e,selectedPath:t,expandedPaths:n,validationErrors:s,onSelect:i,onToggle:a,onContextAction:u,onDrop:d,level:p=0}){const m=Zt(e.path),h=Kf(t,e.path),v=n.has(m),x=e.children.length>0,b=s.get(m)||[],j=b.length>0,S=D7(e),w=L7(e),N=F7(e),[C,E]=g.useState(!1),[P,k]=g.useState(!1),[R,$]=g.useState(null),L=z7(e),K=V7(e),U=g.useCallback(H=>{H.stopPropagation(),i(e.path),x&&a(m)},[e.path,i,x,m,a]),G=g.useCallback(H=>{switch(H.key){case"Enter":case" ":H.preventDefault(),i(e.path);break;case"ArrowRight":H.preventDefault(),x&&!v&&a(m);break;case"ArrowLeft":H.preventDefault(),x&&v&&a(m);break}},[e.path,x,v,m,i,a]),te=g.useCallback(H=>{if(!L){H.preventDefault();return}E(!0),H.dataTransfer.effectAllowed="move",H.dataTransfer.setData("application/x-rule-node",JSON.stringify(e.path))},[L,e.path]),re=g.useCallback(()=>{E(!1)},[]),ne=g.useCallback(H=>{if(!K&&!L)return;H.preventDefault(),H.stopPropagation();const X=H.currentTarget.getBoundingClientRect(),B=H.clientY-X.top,O=X.height;K?$("inside"):L&&(B<O/2?$("before"):$("after")),k(!0)},[K,L]),se=g.useCallback(H=>{const X=H.relatedTarget;H.currentTarget.contains(X)||(k(!1),$(null))},[]),le=g.useCallback(H=>{if(H.preventDefault(),H.stopPropagation(),k(!1),$(null),!d)return;const X=H.dataTransfer.getData("application/x-rule-node");if(X)try{const B=JSON.parse(X);if(Kf(B,e.path)||e.path.length>B.length&&B.every((I,F)=>I===e.path[F]))return;if(K){const I=U7(e);I&&d(B,I,e.children.length)}else if(R&&L){const I=e.path.slice(0,-1),F=parseInt(e.path[e.path.length-1]??"0",10),M=R==="before"?F:F+1;d(B,I,M)}}catch{}},[d,e,K,L,R]),pe=[qe.treeNode,h&&qe.selected,j&&qe.hasError,C&&qe.dragging,P&&qe.dragOver,P&&R==="before"&&qe.dropBefore,P&&R==="after"&&qe.dropAfter,P&&R==="inside"&&qe.dropInside].filter(Boolean).join(" ");return c.jsx("div",{className:qe.treeNodeWrapper,"data-testid":`tree-node-${m||"root"}`,children:c.jsxs(Zx,{open:v,onOpenChange:()=>a(m),children:[c.jsx(d7,{node:e,onAction:u,children:c.jsxs("div",{draggable:L,onDragStart:te,onDragEnd:re,onDragOver:ne,onDragLeave:se,onDrop:le,className:pe,onClick:U,onKeyDown:G,tabIndex:0,role:"treeitem","aria-selected":h,"aria-expanded":x?v:void 0,"aria-level":p+1,"data-path":m,children:[x?c.jsx(Yx,{asChild:!0,children:c.jsx("button",{className:`${qe.expandButton} ${v?qe.expanded:""}`,onClick:H=>H.stopPropagation(),"aria-label":v?"Collapse":"Expand",tabIndex:-1,children:c.jsx(qn,{className:"w-4 h-4"})})}):c.jsx("span",{className:qe.expandPlaceholder,"aria-hidden":"true"}),c.jsx("span",{className:qe.nodeIcon,children:c.jsx(S8,{type:N})}),c.jsxs("span",{className:qe.nodeLabel,children:[S,w&&c.jsx("span",{className:qe.conditionPreview,children:w})]})]})}),j&&b.map((H,X)=>c.jsxs("div",{className:qe.errorMessage,children:[c.jsx(_r,{className:qe.errorIcon}),c.jsx("span",{children:H})]},X)),x&&c.jsx(Jx,{className:qe.collapsibleContent,children:c.jsx("div",{className:qe.nodeChildren,role:"group",children:e.children.map(H=>c.jsx(B2,{node:H,selectedPath:t,expandedPaths:n,validationErrors:s,onSelect:i,onToggle:a,onContextAction:u,onDrop:d,level:p+1},H.id))})})]})})}function H7(e){const t=new Map;for(const n of e){const s=Zt(n.path),i=t.get(s)||[];i.push(n.message),t.set(s,i)}return t}function q7(){const e=g.useRef(null),t=ke(P=>P.rule),n=ke(rc(P=>P.selectedPath)),s=ke(P=>P.expandedPaths),i=ke(rc(P=>P.validationErrors)),a=g.useMemo(()=>{const P=ke.getState();return JN(P)},[t,s]),u=ke(P=>P.selectNode),d=ke(P=>P.toggleExpanded),p=ke(P=>P.addCondition),m=ke(P=>P.addConditionGroup),h=ke(P=>P.deleteNode),v=ke(P=>P.moveNode),x=ke(P=>P.newRule),b=g.useMemo(()=>H7(i),[i]),j=g.useCallback(P=>{if(P.type==="condition-group"){const k=P.label.toLowerCase();return k==="not"||P.path.length===2&&P.path[0]==="conditions"?P.path:[...P.path,k]}return P.type==="conditions"&&t?["conditions",Object.keys(t.conditions)[0]]:(P.type==="rule"||P.path.length===0)&&t?["conditions",Object.keys(t.conditions)[0]]:["conditions","all"]},[t]),S=g.useCallback(P=>{const{type:k,node:R}=P;switch(k){case"addCondition":{const $=j(R),L=XN();p($,L,"tree");break}case"addAll":{const $=j(R);m($,"all","tree");break}case"addAny":{const $=j(R);m($,"any","tree");break}case"duplicate":{if(!t||R.path.length<2)break;const $=ar(t,R.path);if(!$)break;const L=R.path.slice(0,-1),K=ar(t,L);if(Array.isArray(K)){const U=zt($);p(L,U,"tree")}break}case"delete":{if(R.path.length<2)break;h(R.path,"tree");break}}},[t,j,p,m,h]),w=g.useCallback(P=>{u(P,"tree")},[u]),N=g.useCallback(P=>{d(P)},[d]),C=g.useCallback(()=>{x()},[x]),E=g.useCallback((P,k,R)=>{v(P,k,R,"tree")},[v]);return!t||a.length===0?c.jsxs("div",{className:qe.treeContainer,children:[c.jsxs("div",{className:qe.emptyState,children:[c.jsx(cp,{className:qe.emptyStateIcon}),c.jsx("div",{className:qe.emptyStateTitle,children:"No rule loaded"}),c.jsx("div",{className:qe.emptyStateDescription,children:"Create a new rule or load one from the template library"})]}),c.jsxs("button",{className:qe.actionButton,onClick:C,"aria-label":"Create new rule",children:[c.jsx(zo,{className:"w-4 h-4"}),c.jsx("span",{children:"New Rule"})]})]}):c.jsx("div",{ref:e,className:qe.treeContainer,role:"tree","aria-label":"Rule structure",children:a.map(P=>c.jsx(B2,{node:P,selectedPath:n,expandedPaths:s,validationErrors:b,onSelect:w,onToggle:N,onContextAction:S,onDrop:E},P.id))})}function B7(){const e=ke(BN),t=ke(WN),n=ke(GN),s=ke(E=>E.selectNode),i=ke(E=>E.clearSelection),a=ke(E=>E.updateNode),u=ke(E=>E.deleteNode),d=t!==null,p=n==="condition",m=n==="condition-group",h=n==="event",v=n==="event-param",x=g.useMemo(()=>!p||!t?null:t,[p,t]),b=g.useMemo(()=>!m||!t?null:t,[m,t]),j=g.useMemo(()=>!h||!t?null:t,[h,t]),S=g.useCallback((E,P="tree")=>{s(E,P)},[s]),w=g.useCallback((E,P,k="form")=>{if(e.length===0)return;const R=[...e,E];a(R,P,k)},[e,a]),N=g.useCallback(()=>{e.length!==0&&e.length!==1&&u(e,"tree")},[e,u]),C=g.useCallback(E=>Kf(e,E),[e]);return{path:e,node:t,nodeType:n,hasSelection:d,isCondition:p,isConditionGroup:m,isEvent:h,isEventParam:v,condition:x,conditionGroup:b,event:j,selectNode:S,clearSelection:i,updateField:w,deleteSelected:N,isSelected:C}}function vi(){const e=ke(KN),t=ke(ZN),n=ke(x=>x.isValidating),s=ke(x=>x.validate),i=ke(x=>x.clearValidation),a=e.length,u=g.useMemo(()=>{const x={name:[],conditions:[],event:[],other:[]};for(const b of e){const j=b.path[0];j==="name"?x.name.push(b):j==="conditions"?x.conditions.push(b):j==="event"?x.event.push(b):x.other.push(b)}return x},[e]),d=g.useCallback(()=>{s()},[s]),p=g.useCallback(()=>{i()},[i]),m=g.useCallback(x=>e.filter(b=>b.path.length<x.length?!1:x.every((j,S)=>j===b.path[S])),[e]),h=g.useCallback(x=>m(x).length>0,[m]),v=g.useCallback(x=>{const b=m(x);return b.length===0?null:b.map(j=>j.message).join("; ")},[m]);return{errors:e,isValid:t,isValidating:n,errorCount:a,groupedErrors:u,validate:d,clearValidation:p,getErrorsAtPath:m,hasErrorsAtPath:h,getErrorMessage:v}}function W7(){const[e,t]=g.useState("dark");g.useEffect(()=>{const i=localStorage.getItem("theme");i&&(i==="light"||i==="dark")?t(i):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")},[]),g.useEffect(()=>{const i=document.documentElement;e==="dark"?(i.classList.add("dark"),i.setAttribute("data-theme","dark")):(i.classList.remove("dark"),i.setAttribute("data-theme","light"))},[e]),g.useEffect(()=>{const i=a=>{if(a.key==="theme"&&a.newValue){const u=a.newValue;(u==="light"||u==="dark")&&t(u)}};return window.addEventListener("storage",i),()=>window.removeEventListener("storage",i)},[]),g.useEffect(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)"),a=u=>{localStorage.getItem("theme")||t(u.matches?"dark":"light")};return i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[]);const n=g.useCallback(i=>{t(i),localStorage.setItem("theme",i)},[]),s=g.useCallback(()=>{n(e==="dark"?"light":"dark")},[e,n]);return{theme:e,toggleTheme:s,setTheme:n}}function pt({title:e,description:t,hint:n,example:s,documentationUrl:i,children:a,side:u="top",align:d="center",delayDuration:p=300}){return c.jsx(Vc,{delayDuration:p,children:c.jsxs(Uc,{children:[c.jsx(Hc,{asChild:!0,children:a||c.jsx("button",{type:"button",className:"inline-flex items-center justify-center w-5 h-5 rounded-full text-foreground-muted hover:text-foreground hover:bg-background-lighter transition-colors focus:outline-none focus:ring-2 focus:ring-accent","aria-label":"Show help",children:c.jsx(Nr,{className:"w-4 h-4"})})}),c.jsx(qc,{children:c.jsxs(Bc,{side:u,align:d,sideOffset:5,className:"z-50 max-w-xs bg-background-elevated border border-border rounded-lg shadow-lg p-3 animate-in fade-in-0 zoom-in-95",children:[e&&c.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:e}),c.jsx("p",{className:"text-sm text-foreground-muted leading-relaxed",children:t}),n&&c.jsx("p",{className:"text-xs text-foreground-muted mt-2 italic",children:n}),s&&c.jsx("div",{className:"mt-2 p-2 bg-background rounded border border-border text-xs font-mono overflow-auto",children:s}),i&&c.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-accent hover:underline mt-2",children:["Learn more",c.jsx(lp,{className:"w-3 h-3"})]}),c.jsx(Wc,{className:"fill-background-elevated"})]})})]})})}function Ds(e,t={}){const{debounceDelay:n=Ur.FORM_CHANGE,source:s="form"}=t,i=ke(N=>N.rule),a=ke(N=>N.updateNode),u=ke(N=>N.lastUpdateSource),d=g.useMemo(()=>{if(!i||e.length===0)return;let N=i;for(const C of e){if(N==null)return;if(typeof N=="object")N=N[C];else return}return N},[i,e]),[p,m]=g.useState(d),[h,v]=g.useState(!1),x=g.useRef(null),b=g.useRef(d);g.useEffect(()=>{u!==s&&u!==null&&(m(d),b.current=d,v(!1))},[d,u,s]),g.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const j=g.useCallback(()=>{x.current&&(clearTimeout(x.current),x.current=null),h&&p!==b.current&&(a(e,p,s),b.current=p,v(!1))},[h,p,e,s,a]),S=g.useCallback(()=>{x.current&&(clearTimeout(x.current),x.current=null),m(b.current),v(!1)},[]),w=g.useCallback(N=>{m(N),v(!0),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{N!==b.current&&(a(e,N,s),b.current=N,v(!1)),x.current=null},n)},[n,e,s,a]);return{value:p,setValue:w,flush:j,isDirty:h,cancel:S}}const W2="REPO_GLOBAL_CHECK";function G2(e){return e.fact==="fileData"&&e.path==="$.fileName"&&e.operator==="equal"&&e.value===W2}function G7(){return{fact:"fileData",path:"$.fileName",operator:"equal",value:W2}}function qs(e){for(const t of e)if("fact"in t&&G2(t)||"all"in t&&Array.isArray(t.all)&&qs(t.all)||"any"in t&&Array.isArray(t.any)&&qs(t.any)||"not"in t&&t.not&&qs([t.not]))return!0;return!1}function K2(e){if(!(e!=null&&e.conditions))return!1;const t=e.conditions;return"all"in t&&Array.isArray(t.all)?qs(t.all):"any"in t&&Array.isArray(t.any)?qs(t.any):!1}function Bs(e,t=[]){for(let n=0;n<e.length;n++){const s=e[n];if(!s)continue;const i=[...t,String(n)];if("fact"in s&&G2(s))return i;if("all"in s&&Array.isArray(s.all)){const a=Bs(s.all,[...i,"all"]);if(a)return a}if("any"in s&&Array.isArray(s.any)){const a=Bs(s.any,[...i,"any"]);if(a)return a}if("not"in s&&s.not){const a=Bs([s.not],[...i,"not"]);if(a)return a}}return null}function K7({path:e}){const{getErrorMessage:t}=vi(),{value:n,setValue:s}=Ds(["name"]),{value:i,setValue:a}=Ds(["priority"]),{value:u,setValue:d}=Ds(["description"]),{value:p,setValue:m}=Ds(["recommendations"]),{value:h,setValue:v}=Ds(["errorBehavior"]),{rule:x,updateNode:b,deleteNode:j}=ke(rc(k=>({rule:k.rule,updateNode:k.updateNode,deleteNode:k.deleteNode}))),S=g.useMemo(()=>K2(x),[x]),w=t(["name"]),N=t(["priority"]),C=g.useCallback(k=>{const R=k.target.value.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"");s(R)},[s]),E=g.useCallback(k=>{const R=parseInt(k.target.value,10);!isNaN(R)&&R>=1&&R<=100&&a(R)},[a]),P=g.useCallback(()=>{if(x!=null&&x.conditions)if(S){const k=x.conditions;if("all"in k&&Array.isArray(k.all)){const R=Bs(k.all,["conditions","all"]);R&&j(R,"form")}else if("any"in k&&Array.isArray(k.any)){const R=Bs(k.any,["conditions","any"]);R&&j(R,"form")}n!=null&&n.endsWith("-global")&&s(n.replace(/-global$/,"-iterative"))}else{const k=x.conditions,R=G7();if("all"in k&&Array.isArray(k.all)){const $=[R,...k.all];b(["conditions","all"],$,"form")}else if("any"in k&&Array.isArray(k.any)){const $=[R,...k.any];b(["conditions","any"],$,"form")}n!=null&&n.endsWith("-iterative")&&s(n.replace(/-iterative$/,"-global"))}},[x,S,b,j,n,s]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"pb-4 border-b border-border",children:[c.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Rule Properties"}),c.jsx("p",{className:"text-sm text-foreground-muted mt-1",children:"Configure the rule name and execution priority"})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:"rule-name",className:"text-sm font-medium text-foreground",children:"Rule Name"}),c.jsx(pt,{title:"Rule Name",description:"A unique identifier for this rule. The first part can be camelCase, followed by kebab-case segments.",hint:"Use letters, numbers, and hyphens. Suffix with -iterative or -global.",example:c.jsxs("div",{className:"space-y-1",children:[c.jsx("code",{children:"myRule-iterative"}),c.jsx("br",{}),c.jsx("code",{children:"noTodoComments-global"}),c.jsx("br",{}),c.jsx("code",{children:"max-function-complexity"})]})})]}),c.jsx("input",{type:"text",id:"rule-name",value:n||"",onChange:C,placeholder:"myRuleName-iterative",className:`
            w-full px-3 py-2 rounded-md bg-background border text-sm font-mono
            focus:outline-none focus:ring-2 focus:ring-accent
            ${w?"border-error":"border-border hover:border-border-hover"}
          `}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"camelCase allowed for first part, then kebab-case (e.g., myRule-iterative)"}),w&&c.jsx("p",{className:"text-xs text-error",role:"alert",children:w})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:"rule-priority",className:"text-sm font-medium text-foreground",children:"Priority"}),c.jsx(pt,{title:"Rule Priority",description:"Determines the order in which rules are evaluated. Higher priority rules run first.",hint:"Value between 1 (lowest) and 100 (highest)",example:"Default is 1. Use higher values for rules that should run before others."})]}),c.jsx("input",{type:"number",id:"rule-priority",value:i||1,onChange:E,min:1,max:100,className:`
            w-full px-3 py-2 rounded-md bg-background border text-sm
            focus:outline-none focus:ring-2 focus:ring-accent
            ${N?"border-error":"border-border hover:border-border-hover"}
          `}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"Higher priority rules execute first (1-100)"}),N&&c.jsx("p",{className:"text-xs text-error",role:"alert",children:N})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:"rule-global",className:"text-sm font-medium text-foreground",children:"Rule Scope"}),c.jsx(pt,{title:"Global Rule",description:"Global rules run once against the entire repository instead of per-file. They add a REPO_GLOBAL_CHECK condition.",hint:"Enable for repository-wide checks like file structure, dependency analysis, or cross-file validations.",example:c.jsxs("div",{className:"space-y-1",children:[c.jsx("code",{children:"fileData.fileName === 'REPO_GLOBAL_CHECK'"}),c.jsx("br",{}),c.jsx("span",{className:"text-xs",children:"This special condition triggers global evaluation."})]})})]}),c.jsxs("button",{type:"button",id:"rule-global",onClick:P,className:`
            w-full flex items-center justify-between px-3 py-2 rounded-md border text-sm
            transition-colors focus:outline-none focus:ring-2 focus:ring-accent
            ${S?"bg-primary/10 border-primary text-foreground":"bg-background border-border hover:border-border-hover text-foreground-muted"}
          `,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Tf,{className:`w-4 h-4 ${S?"text-primary":"text-foreground-muted"}`}),c.jsx("span",{className:S?"text-foreground":"text-foreground-muted",children:S?"Global Rule (REPO_GLOBAL_CHECK)":"Iterative Rule (per-file)"})]}),c.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${S?"bg-primary text-white":"bg-accent"}`,children:S?"ON":"OFF"})]}),c.jsx("p",{className:"text-xs text-foreground-muted",children:S?"Rule will evaluate once against all repository files":"Click to enable global evaluation for repository-wide checks"})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:"rule-description",className:"text-sm font-medium text-foreground",children:"Description"}),c.jsx(pt,{title:"Rule Description",description:"A human-readable description of what this rule checks for.",hint:"This appears in analysis reports and helps users understand the rule's purpose."})]}),c.jsx("textarea",{id:"rule-description",value:u||"",onChange:k=>d(k.target.value),placeholder:"Describe what this rule checks for...",rows:2,className:`w-full px-3 py-2 rounded-md bg-background border border-border text-sm
            focus:outline-none focus:ring-2 focus:ring-accent hover:border-border-hover resize-y`}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"Optional. Explains the rule's purpose in reports."})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:"rule-recommendations",className:"text-sm font-medium text-foreground",children:"Recommendations"}),c.jsx(pt,{title:"Fix Recommendations",description:"A list of recommendations for how to fix issues found by this rule.",hint:"Each line becomes a separate recommendation item.",example:c.jsxs("div",{className:"space-y-1 text-xs",children:[c.jsx("code",{children:"Remove sensitive data from logs"}),c.jsx("br",{}),c.jsx("code",{children:"Use environment variables instead"})]})})]}),c.jsx("textarea",{id:"rule-recommendations",value:(p||[]).join(`
`),onChange:k=>{const R=k.target.value.split(`
`).filter($=>$.trim());m(R.length>0?R:void 0)},placeholder:"Enter recommendations (one per line)...",rows:3,className:`w-full px-3 py-2 rounded-md bg-background border border-border text-sm
            focus:outline-none focus:ring-2 focus:ring-accent hover:border-border-hover resize-y`}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"Optional. One recommendation per line."})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:"rule-error-behavior",className:"text-sm font-medium text-foreground",children:"Error Behavior"}),c.jsx(pt,{title:"Error Behavior",description:"How to handle errors when evaluating this rule's conditions.",hint:"'Swallow' ignores errors silently. 'Fatal' stops analysis on error.",example:c.jsxs("div",{className:"space-y-1 text-xs",children:[c.jsx("code",{children:"swallow"})," - Continue if condition fails",c.jsx("br",{}),c.jsx("code",{children:"fatal"})," - Stop analysis on error"]})})]}),c.jsxs("select",{id:"rule-error-behavior",value:h||"",onChange:k=>v(k.target.value||void 0),className:`w-full px-3 py-2 rounded-md bg-background border border-border text-sm
            focus:outline-none focus:ring-2 focus:ring-accent hover:border-border-hover`,children:[c.jsx("option",{value:"",children:"Default (no special handling)"}),c.jsx("option",{value:"swallow",children:"Swallow - Ignore errors silently"}),c.jsx("option",{value:"fatal",children:"Fatal - Stop analysis on error"})]}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"Optional. Controls error handling behavior."})]}),c.jsxs("div",{className:"p-4 bg-info/10 border border-info/20 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-1",children:"Tip"}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"Select conditions or events in the tree on the left to edit their properties. The rule will be validated automatically as you make changes."})]})]})}const Z7=[{value:"all",label:"ALL (AND)",description:"All conditions must be true"},{value:"any",label:"ANY (OR)",description:"At least one condition must be true"},{value:"not",label:"NOT",description:"The condition must NOT be true"}];function Y7({path:e,data:t}){const n=ke(d=>d.updateNode),s=g.useMemo(()=>"all"in t?"all":"any"in t?"any":"not"in t?"not":"all",[t]),i=g.useMemo(()=>"all"in t?t.all:"any"in t?t.any:"not"in t?t.not:[],[t]),a=g.useCallback(d=>{if(d===s)return;let p;if(d==="not")p={not:(Array.isArray(i)?i[0]:i)||{fact:"",operator:"equal",value:""}};else{const v=Array.isArray(i)?i:i?[i]:[];p={[d]:v}}const m=e.slice(0,-1),h=e[e.length-1]??"";m.length===0?n(["conditions"],p,"form"):n([...m,h],p,"form")},[s,i,e,n]),u=g.useMemo(()=>Array.isArray(i)?i.length:i?1:0,[i]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"pb-4 border-b border-border",children:[c.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Condition Group"}),c.jsx("p",{className:"text-sm text-foreground-muted mt-1",children:"Configure how conditions in this group are evaluated"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-sm font-medium text-foreground",children:"Logic Type"}),c.jsx(pt,{title:"Condition Logic",description:"Determines how multiple conditions in this group are combined.",example:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"ALL:"})," condition1 AND condition2 AND ..."]}),c.jsxs("div",{children:[c.jsx("strong",{children:"ANY:"})," condition1 OR condition2 OR ..."]}),c.jsxs("div",{children:[c.jsx("strong",{children:"NOT:"})," NOT condition"]})]})})]}),c.jsx("div",{className:"grid gap-2",children:Z7.map(d=>c.jsxs("label",{className:`
                flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors
                ${s===d.value?"border-accent bg-accent/5":"border-border hover:border-border-hover"}
              `,children:[c.jsx("input",{type:"radio",name:"group-type",value:d.value,checked:s===d.value,onChange:()=>a(d.value),className:"mt-0.5 w-4 h-4 text-accent focus:ring-accent"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-foreground",children:d.label}),c.jsx("p",{className:"text-xs text-foreground-muted mt-0.5",children:d.description})]})]},d.value))})]}),c.jsxs("div",{className:"p-4 bg-background-secondary rounded-lg border border-border",children:[c.jsx("div",{className:"flex items-center justify-between mb-2",children:c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Group Status"})}),c.jsxs("dl",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsx("dt",{className:"text-foreground-muted",children:"Type:"}),c.jsx("dd",{className:"font-medium text-primary",children:s.toUpperCase()}),c.jsx("dt",{className:"text-foreground-muted",children:"Children:"}),c.jsxs("dd",{className:"font-medium text-foreground",children:[u," condition(s)"]})]})]}),s==="not"&&u>1&&c.jsxs("div",{className:"p-4 bg-warning/10 border border-warning/20 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-warning mb-1",children:"Warning"}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"NOT groups should only contain a single condition. Extra conditions will be ignored."})]}),c.jsxs("div",{className:"p-4 bg-info/10 border border-info/20 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-1",children:"Tip"}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"Use the tree view to add, remove, or reorder conditions within this group. Click on individual conditions to edit their properties."})]})]})}const J7=[{name:"fileData",plugin:"filesystem",description:"Returns data for the current file in iterative analysis",parameters:[],returns:"Object with fileName, filePath, fileContent properties",example:{params:{},output:{fileName:"index.ts",filePath:"src/index.ts",fileContent:"// File content..."}},compatibleOperators:["equal","notEqual","contains","doesNotContain","matchesPattern"],documentationUrl:"/docs/facts/file-data",tags:["filesystem","iterative","file"],suggestedPaths:[{path:"$.extension",description:"File extension (e.g., ts, js, tsx)",valueType:"string"},{path:"$.fileName",description:"Full file name with extension",valueType:"string"},{path:"$.filePath",description:"Relative path from repository root",valueType:"string"},{path:"$.fileContent",description:"Full file content as string",valueType:"string"}],allowCustomPath:!0},{name:"repoFilesystemFacts",plugin:"filesystem",description:"Returns all files in the repository as an array",parameters:[],returns:"Array of file data objects",example:{params:{},output:[{fileName:"index.ts",filePath:"src/index.ts",fileContent:"..."}]},compatibleOperators:["contains","doesNotContain","equal","notEqual"],documentationUrl:"/docs/facts/repo-filesystem",tags:["filesystem","global","repository"],suggestedPaths:[{path:"$.length",description:"Total number of files",valueType:"number"},{path:"$[*].fileName",description:"Array of all file names",valueType:"array"},{path:"$[*].filePath",description:"Array of all file paths",valueType:"array"},{path:"$[*].extension",description:"Array of all file extensions",valueType:"array"},{path:"$[0].fileName",description:"First file name",valueType:"string"},{path:"$[0].filePath",description:"First file path",valueType:"string"},{path:"$[0].fileContent",description:"First file content",valueType:"string"},{path:"$",description:"All files as array",valueType:"array"}],allowCustomPath:!0},{name:"repoFileAnalysis",plugin:"filesystem",description:"Performs pattern analysis on file content",parameters:[{name:"checkPattern",type:"array",required:!0,description:"Regex pattern(s) to search for in file content. Can be a single pattern string or an array of patterns.",example:["TODO|FIXME","HACK","XXX"]},{name:"resultFact",type:"string",required:!1,description:"Name to store the analysis results for reference in event details",example:"fileResults"},{name:"captureGroups",type:"boolean",required:!1,description:"Whether to capture regex groups",default:!1},{name:"contextLength",type:"number",required:!1,description:"Number of characters of context to include",default:50}],returns:"Object with result array, matches array, and summary",example:{params:{checkPattern:"TODO"},output:{result:[{match:"TODO",lineNumber:5,line:"// TODO: fix this"}],matches:[],summary:{totalMatches:1,patterns:["TODO"],hasPositionData:!0}}},compatibleOperators:["fileContains","fileContainsWithPosition","equal","notEqual"],documentationUrl:"/docs/facts/repo-file-analysis",tags:["filesystem","iterative","pattern","analysis"],suggestedPaths:[{path:"$.result",description:"Array of pattern matches",valueType:"array"},{path:"$.result.length",description:"Number of matches found",valueType:"number"},{path:"$.summary.totalMatches",description:"Total count of matches",valueType:"number"},{path:"$.matches",description:"Array of captured groups",valueType:"array"}],allowCustomPath:!0},{name:"missingRequiredFiles",plugin:"filesystem",description:"Checks for required files and reports which are missing",parameters:[{name:"requiredFiles",type:"array",required:!0,description:"Array of file paths that should exist",example:["README.md","package.json","tsconfig.json"]},{name:"resultFact",type:"string",required:!1,description:"Name to store the missing files results for reference in event details",example:"missingRequiredFilesResult"}],returns:"Object with missing files list and counts",example:{params:{requiredFiles:["README.md","LICENSE"]},output:{missing:["LICENSE"],total:2,found:1}},compatibleOperators:["missingRequiredFiles","equal","notEqual"],documentationUrl:"/docs/facts/missing-required-files",tags:["filesystem","global","validation","structure"],suggestedPaths:[{path:"$.missing",description:"Array of missing file paths",valueType:"array"},{path:"$.missing.length",description:"Number of missing files",valueType:"number"},{path:"$.total",description:"Total required files count",valueType:"number"},{path:"$.found",description:"Number of files found",valueType:"number"},{path:"$",description:"Full result object",valueType:"object"}],allowCustomPath:!0}],X7=[{name:"ast",plugin:"ast",description:"Returns AST node information for the current file",parameters:[{name:"nodeTypes",type:"array",required:!1,description:"Array of node types to filter",example:["function_declaration","arrow_function"]}],returns:"AST tree with filtered nodes",example:{params:{nodeTypes:["function_declaration"]},output:{tree:{},rootNode:{},language:"typescript"}},compatibleOperators:["astNodeExists","astPatternMatch","equal","notEqual"],documentationUrl:"/docs/facts/ast-nodes",tags:["ast","iterative","code-structure"],suggestedPaths:[{path:"$.language",description:"Detected language (typescript, javascript, etc.)",valueType:"string"},{path:"$.rootNode.type",description:"Root node type (program, module, etc.)",valueType:"string"},{path:"$.rootNode.childCount",description:"Number of top-level children",valueType:"number"},{path:"$.rootNode.text",description:"Full source text",valueType:"string"},{path:"$.nodes.function_declaration",description:"Function declarations array",valueType:"array"},{path:"$.nodes.arrow_function",description:"Arrow functions array",valueType:"array"},{path:"$.nodes.method_definition",description:"Method definitions array",valueType:"array"},{path:"$.nodes.class_declaration",description:"Class declarations array",valueType:"array"},{path:"$.nodes.interface_declaration",description:"Interface declarations (TS)",valueType:"array"},{path:"$.nodes.type_alias_declaration",description:"Type aliases (TS)",valueType:"array"},{path:"$.nodes.import_statement",description:"Import statements array",valueType:"array"},{path:"$.nodes.export_statement",description:"Export statements array",valueType:"array"},{path:"$.nodes.jsx_element",description:"JSX elements array",valueType:"array"},{path:"$.nodes.jsx_self_closing_element",description:"Self-closing JSX elements",valueType:"array"},{path:"$.nodes.variable_declaration",description:"Variable declarations",valueType:"array"},{path:"$.nodes.call_expression",description:"Function call expressions",valueType:"array"},{path:"$.rootNode",description:"Root AST node object",valueType:"object"},{path:"$.tree",description:"Full AST tree structure",valueType:"object"}],allowCustomPath:!0},{name:"functionComplexity",plugin:"ast",description:"Calculates complexity metrics for functions in the file",parameters:[{name:"thresholds",type:"object",required:!1,description:"Complexity thresholds to check against",example:{cyclomaticComplexity:10,nestingDepth:4,cognitiveComplexity:40,parameterCount:5,returnCount:10}},{name:"resultFact",type:"string",required:!1,description:"Name to store the complexity results for reference in event details",example:"complexityResult"}],returns:"Array of function metrics with complexity scores",example:{params:{thresholds:{cyclomaticComplexity:10}},output:[{name:"processData",cyclomaticComplexity:15,cognitiveComplexity:8,nestingDepth:3,location:{startLine:10,endLine:50}}]},compatibleOperators:["greaterThan","lessThan","equal","notEqual"],documentationUrl:"/docs/facts/function-complexity",tags:["ast","iterative","complexity","metrics"],suggestedPaths:[{path:"$.length",description:"Number of functions analyzed",valueType:"number"},{path:"$[0].cyclomaticComplexity",description:"First function cyclomatic complexity",valueType:"number"},{path:"$[0].cognitiveComplexity",description:"First function cognitive complexity",valueType:"number"},{path:"$[0].nestingDepth",description:"First function max nesting depth",valueType:"number"},{path:"$[0].name",description:"First function name",valueType:"string"},{path:"$[0].location.startLine",description:"First function start line",valueType:"number"},{path:"$[0].location.endLine",description:"First function end line",valueType:"number"},{path:"$[*].name",description:"All function names",valueType:"array"},{path:"$[*].cyclomaticComplexity",description:"All cyclomatic complexity scores",valueType:"array"},{path:"$[*].cognitiveComplexity",description:"All cognitive complexity scores",valueType:"array"},{path:"$[*].nestingDepth",description:"All nesting depth values",valueType:"array"},{path:"$",description:"Array of all function metrics",valueType:"array"}],allowCustomPath:!0},{name:"functionCount",plugin:"ast",description:"Counts the number of functions in the current file",parameters:[{name:"resultFact",type:"string",required:!1,description:"Name to store the count results for reference in event details",example:"functionCountResult"}],returns:"Object with function count and optional details",example:{params:{},output:{count:5,functions:["main","helper","validate"]}},compatibleOperators:["greaterThan","lessThan","equal","notEqual","functionCount"],documentationUrl:"/docs/facts/function-count",tags:["ast","iterative","metrics","functions"],suggestedPaths:[{path:"$.count",description:"Total number of functions",valueType:"number"},{path:"$.functions",description:"Array of function names",valueType:"array"},{path:"$.functions.length",description:"Number of named functions",valueType:"number"},{path:"$",description:"Full function count result",valueType:"object"}],allowCustomPath:!0}],Q7=[{name:"repoDependencyVersions",plugin:"dependency",description:"Returns all dependencies and their versions from package.json",parameters:[],returns:"Object mapping dependency names to version strings",example:{params:{},output:{react:"^18.2.0",typescript:"^5.0.0",lodash:"^4.17.21"}},compatibleOperators:["versionSatisfies","equal","notEqual","contains"],documentationUrl:"/docs/facts/repo-dependency-versions",tags:["dependency","global","package"],suggestedPaths:[{path:"$.react",description:"React version",valueType:"string"},{path:"$.typescript",description:"TypeScript version",valueType:"string"},{path:"$.next",description:"Next.js version",valueType:"string"},{path:"$.vue",description:"Vue.js version",valueType:"string"},{path:"$.angular",description:"Angular version",valueType:"string"},{path:"$.express",description:"Express version",valueType:"string"},{path:"$.jest",description:"Jest version",valueType:"string"},{path:"$.vitest",description:"Vitest version",valueType:"string"},{path:"$.mocha",description:"Mocha version",valueType:"string"},{path:"$.webpack",description:"Webpack version",valueType:"string"},{path:"$.vite",description:"Vite version",valueType:"string"},{path:"$.esbuild",description:"esbuild version",valueType:"string"},{path:"$",description:"All dependencies as object",valueType:"object"}],allowCustomPath:!0},{name:"repoDependencyAnalysis",plugin:"dependency",description:"Analyzes dependencies for outdated or vulnerable packages",parameters:[{name:"checkDev",type:"boolean",required:!1,description:"Whether to include devDependencies",default:!0},{name:"resultFact",type:"string",required:!1,description:"Name to store the analysis results for reference in event details",example:"repoDependencyResults"}],returns:"Object with dependency analysis results",example:{params:{checkDev:!0},output:{dependencies:{react:"^18.2.0"},devDependencies:{jest:"^29.0.0"},analysis:{outdated:[],vulnerable:[]}}},compatibleOperators:["outdatedFramework","equal","notEqual","contains"],documentationUrl:"/docs/facts/repo-dependency-analysis",tags:["dependency","global","analysis","security"],suggestedPaths:[{path:"$.analysis.vulnerable",description:"List of vulnerable packages",valueType:"array"},{path:"$.analysis.vulnerable.length",description:"Number of vulnerable packages",valueType:"number"},{path:"$.analysis.outdated",description:"List of outdated packages",valueType:"array"},{path:"$.analysis.outdated.length",description:"Number of outdated packages",valueType:"number"},{path:"$.dependencies",description:"Production dependencies object",valueType:"object"},{path:"$.devDependencies",description:"Development dependencies object",valueType:"object"},{path:"$.peerDependencies",description:"Peer dependencies object",valueType:"object"},{path:"$.optionalDependencies",description:"Optional dependencies object",valueType:"object"},{path:"$.dependencies.react",description:"React prod dependency version",valueType:"string"},{path:"$.devDependencies.jest",description:"Jest dev dependency version",valueType:"string"}],allowCustomPath:!0}],eE=[{name:"hookDependency",plugin:"react-patterns",description:"Analyzes React hook dependency arrays for issues",parameters:[{name:"hooks",type:"array",required:!1,description:"Specific hooks to analyze",example:["useEffect","useMemo","useCallback"]},{name:"resultFact",type:"string",required:!1,description:"Name to store the hook analysis results for reference in event details",example:"hookDependencyResult"}],returns:"Array of hook usage with dependency analysis",example:{params:{hooks:["useEffect"]},output:[{hook:"useEffect",dependencies:["data","callback"],missingDependencies:["callback"],location:{line:15}}]},compatibleOperators:["contains","doesNotContain","equal","notEqual"],documentationUrl:"/docs/facts/hook-dependencies",tags:["react","iterative","hooks","best-practices"],suggestedPaths:[{path:"$.length",description:"Number of hooks analyzed",valueType:"number"},{path:"$[0].hook",description:"First hook name",valueType:"string"},{path:"$[0].missingDependencies",description:"First hook missing deps",valueType:"array"},{path:"$[0].missingDependencies.length",description:"Count of missing deps",valueType:"number"},{path:"$[0].dependencies",description:"First hook declared deps",valueType:"array"},{path:"$[0].location.line",description:"First hook line number",valueType:"number"},{path:"$[*].hook",description:"All hook names",valueType:"array"},{path:"$[*].missingDependencies",description:"Missing deps per hook",valueType:"array"},{path:"$[*].dependencies",description:"Declared deps per hook",valueType:"array"},{path:"$",description:"Array of all hook usages",valueType:"array"}],allowCustomPath:!0},{name:"effectCleanup",plugin:"react-patterns",description:"Checks for missing cleanup in useEffect hooks",parameters:[],returns:"Array of effects with cleanup status",example:{params:{},output:[{location:{line:20},hasCleanup:!1,sideEffects:["addEventListener","setInterval"]}]},compatibleOperators:["equal","notEqual","contains"],documentationUrl:"/docs/facts/effect-cleanup",tags:["react","iterative","hooks","memory-leaks"],suggestedPaths:[{path:"$.length",description:"Number of effects found",valueType:"number"},{path:"$[0].hasCleanup",description:"First effect has cleanup",valueType:"boolean"},{path:"$[0].sideEffects",description:"First effect side effects",valueType:"array"},{path:"$[0].sideEffects.length",description:"Number of side effects",valueType:"number"},{path:"$[0].location.line",description:"First effect line number",valueType:"number"},{path:"$[*].hasCleanup",description:"Cleanup status per effect",valueType:"array"},{path:"$[*].sideEffects",description:"Side effects per effect",valueType:"array"},{path:"$[*].location.line",description:"Line numbers of all effects",valueType:"array"},{path:"$",description:"Array of all effects",valueType:"array"}],allowCustomPath:!0}],tE=[{name:"extractValues",plugin:"patterns",description:"Extracts values from files using multiple strategies (JSON, YAML, XML, regex, AST)",parameters:[{name:"defaultStrategy",type:"object",required:!1,description:"Default extraction strategy configuration with type, pattern, and flags",example:{type:"regex",pattern:"^API_KEY=(.*)$",flags:"im"}},{name:"include",type:"array",required:!1,description:"Array of file patterns to include in analysis",example:[".*\\.env$",".*\\.config$"]},{name:"strategy",type:"string",required:!1,description:"Extraction strategy: json, yaml, xml, regex, ast",example:"json"},{name:"path",type:"string",required:!1,description:"JSONPath or XPath expression for extraction",example:"$.version"},{name:"pattern",type:"string",required:!1,description:"Regex pattern for regex strategy",example:"API_KEY=([A-Za-z0-9]+)"},{name:"resultFact",type:"string",required:!1,description:"Name to store the extraction results for reference in event details",example:"extractedValuesResult"}],returns:"Object with matches array and extraction metadata",example:{params:{strategy:"json",path:"$.version"},output:{matches:[{value:"1.0.0",location:{line:3}}],strategyUsed:"json",errors:[]}},compatibleOperators:["matchesSatisfy","equal","notEqual","contains"],documentationUrl:"/docs/facts/extract-values",tags:["patterns","iterative","extraction","json","yaml","xml"],suggestedPaths:[{path:"$.matches",description:"Array of extracted values",valueType:"array"},{path:"$.matches.length",description:"Number of matches found",valueType:"number"},{path:"$.matches[0].value",description:"First extracted value",valueType:"string"},{path:"$.matches[*].value",description:"All extracted values",valueType:"array"},{path:"$.strategyUsed",description:"Extraction strategy that was used",valueType:"string"},{path:"$.errors",description:"Array of extraction errors",valueType:"array"},{path:"$",description:"Full extraction result",valueType:"object"}],allowCustomPath:!0},{name:"globalFileAnalysis",plugin:"patterns",description:"Analyzes patterns across all files in the repository",parameters:[{name:"newPatterns",type:"array",required:!1,description:"Array of regex patterns representing new/modern patterns to detect",example:["useState\\(","useEffect\\(","useCallback\\("]},{name:"legacyPatterns",type:"array",required:!1,description:"Array of regex patterns representing legacy patterns to detect",example:["extends\\s+React\\.Component","componentDidMount\\("]},{name:"checkPattern",type:"array",required:!1,description:"Regex pattern(s) to search across all files. Can be a string or array of patterns.",example:["TODO","FIXME","HACK"]},{name:"fileFilter",type:"string",required:!1,description:"Regex pattern to filter files by extension or path",example:"\\.(tsx|jsx)$"},{name:"outputGrouping",type:"string",required:!1,description:'How to group output results: "file" or "pattern"',example:"file"},{name:"resultFact",type:"string",required:!1,description:"Name to store the analysis results for reference in event details",example:"globalAnalysisResult"}],returns:"Object with global analysis results and statistics",example:{params:{checkPattern:"TODO",filePattern:"**/*.ts"},output:{totalFiles:50,matchingFiles:12,totalMatches:25,ratio:.24,files:[{path:"src/index.ts",matches:3}]}},compatibleOperators:["globalPatternCount","globalPatternRatio","equal","notEqual"],documentationUrl:"/docs/facts/global-file-analysis",tags:["patterns","global","analysis","repository"],suggestedPaths:[{path:"$.totalFiles",description:"Total files analyzed",valueType:"number"},{path:"$.matchingFiles",description:"Files with matches",valueType:"number"},{path:"$.totalMatches",description:"Total pattern matches",valueType:"number"},{path:"$.ratio",description:"Ratio of matching files",valueType:"number"},{path:"$.files",description:"Array of files with match details",valueType:"array"},{path:"$.files.length",description:"Number of files with matches",valueType:"number"},{path:"$",description:"Full analysis result",valueType:"object"}],allowCustomPath:!0}],sc=[...J7,...X7,...Q7,...eE,...tE];function xi(e){return sc.find(t=>t.name===e)}function rE(){return[...new Set(sc.map(e=>e.plugin))]}function nE(e){const t=xi(e);return(t==null?void 0:t.suggestedPaths)??[]}function oE(e){const t=xi(e);return(t==null?void 0:t.allowCustomPath)!==!1}function sE({fact:e,children:t,side:n="right",delayDuration:s=300}){return c.jsx(Vc,{delayDuration:s,children:c.jsxs(Uc,{children:[c.jsx(Hc,{asChild:!0,children:t||c.jsx("button",{type:"button",className:"inline-flex items-center justify-center w-5 h-5 rounded-full text-foreground-muted hover:text-foreground hover:bg-background-lighter transition-colors focus:outline-none focus:ring-2 focus:ring-accent","aria-label":`Show information about ${e.name}`,children:c.jsx(Nr,{className:"w-4 h-4"})})}),c.jsx(qc,{children:c.jsxs(Bc,{side:n,align:"start",sideOffset:5,className:"z-50 max-w-sm bg-background-elevated border border-border rounded-lg shadow-lg p-4 animate-in fade-in-0 zoom-in-95",children:[c.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[c.jsx(Rf,{className:"w-5 h-5 text-accent mt-0.5 shrink-0"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("h4",{className:"font-medium text-foreground text-sm",children:e.name}),c.jsxs("span",{className:"text-xs text-foreground-muted",children:["From ",e.plugin," plugin"]})]})]}),c.jsx("p",{className:"text-sm text-foreground-muted leading-relaxed mb-3",children:e.description}),e.parameters.length>0&&c.jsxs("div",{className:"mb-3",children:[c.jsx("h5",{className:"text-xs font-medium text-foreground mb-1",children:"Parameters:"}),c.jsx("ul",{className:"space-y-1",children:e.parameters.map(i=>c.jsxs("li",{className:"text-xs text-foreground-muted",children:[c.jsx("span",{className:"font-mono text-accent",children:i.name}),c.jsxs("span",{className:"text-foreground-muted",children:[" ","(",i.type,i.required?", required":", optional",")"]}),i.description&&c.jsx("span",{className:"block ml-4 text-foreground-muted",children:i.description})]},i.name))})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("h5",{className:"text-xs font-medium text-foreground mb-1",children:"Returns:"}),c.jsx("p",{className:"text-xs text-foreground-muted",children:e.returns})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("h5",{className:"text-xs font-medium text-foreground mb-1",children:"Example output:"}),c.jsx("pre",{className:"p-2 bg-background rounded border border-border text-xs font-mono overflow-auto max-h-24",children:JSON.stringify(e.example.output,null,2)})]}),e.tags.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map(i=>c.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-background rounded text-foreground-muted",children:i},i))}),e.documentationUrl&&c.jsxs("a",{href:e.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-accent hover:underline",children:["View documentation",c.jsx(lp,{className:"w-3 h-3"})]}),c.jsx(Wc,{className:"fill-background-elevated"})]})})]})})}function iE({value:e,onChange:t,label:n="Fact",error:s,disabled:i=!1,id:a}){const[u,d]=g.useState(""),[p,m]=g.useState(!1),h=g.useMemo(()=>xi(e),[e]),v=g.useMemo(()=>rE(),[]),x=g.useMemo(()=>{if(!u)return sc;const w=u.toLowerCase();return sc.filter(N=>N.name.toLowerCase().includes(w)||N.description.toLowerCase().includes(w)||N.tags.some(C=>C.toLowerCase().includes(w)))},[u]),b=g.useMemo(()=>{const w={};for(const N of v){const C=x.filter(E=>E.plugin===N);C.length>0&&(w[N]=C)}return w},[x,v]),j=g.useCallback(w=>{t(w),d("")},[t]),S=g.useCallback(w=>{m(w),w||d("")},[]);return c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:a,className:"text-sm font-medium text-foreground",children:n}),h&&c.jsx(sE,{fact:h})]}),c.jsxs(wc,{value:e,onValueChange:j,open:p,onOpenChange:S,disabled:i,children:[c.jsxs(bc,{id:a,className:`
            flex items-center justify-between w-full px-3 py-2 rounded-md
            bg-background border text-sm
            focus:outline-none focus:ring-2 focus:ring-accent
            disabled:opacity-50 disabled:cursor-not-allowed
            ${s?"border-error":"border-border hover:border-border-hover"}
          `,"aria-label":n,children:[c.jsx(Cc,{placeholder:"Select a fact...",children:h?c.jsx("span",{className:"font-mono",children:h.name}):c.jsx("span",{className:"text-foreground-muted",children:"Select a fact..."})}),c.jsx(_c,{children:c.jsx(St,{className:"w-4 h-4 text-foreground-muted"})})]}),c.jsx(Sc,{children:c.jsxs(Nc,{className:"z-50 w-[var(--radix-select-trigger-width)] max-h-80 overflow-hidden border border-border rounded-lg shadow-lg",position:"popper",sideOffset:4,style:{backgroundColor:"var(--xfi-background-elevated)"},children:[c.jsx("div",{className:"p-2 border-b border-border",style:{backgroundColor:"var(--xfi-background-elevated)"},children:c.jsxs("div",{className:"relative",children:[c.jsx(Sv,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-muted"}),c.jsx("input",{type:"text",placeholder:"Search facts...",value:u,onChange:w=>d(w.target.value),className:"w-full pl-8 pr-3 py-1.5 text-sm border border-border rounded focus:outline-none focus:ring-1 focus:ring-accent",style:{backgroundColor:"var(--xfi-background)"},onKeyDown:w=>w.stopPropagation()})]})}),c.jsx(jc,{className:"p-1 max-h-60 overflow-y-auto",style:{backgroundColor:"var(--xfi-background-elevated)"},children:Object.entries(b).length===0?c.jsx("div",{className:"py-4 text-center text-sm text-foreground-muted",children:"No facts found"}):Object.entries(b).map(([w,N])=>c.jsxs(Bl,{children:[c.jsx(jp,{className:"px-2 py-1.5 text-xs font-medium text-foreground-muted uppercase tracking-wide",children:w}),N.map(C=>c.jsxs(Zs,{value:C.name,className:"relative flex items-start gap-2 px-2 py-1.5 text-sm rounded cursor-pointer outline-none data-[highlighted]:bg-background-lighter data-[state=checked]:bg-accent/10",children:[c.jsx(Js,{className:"absolute left-1 top-2",children:c.jsx(Hn,{className:"w-3.5 h-3.5 text-accent"})}),c.jsxs("div",{className:"pl-5 min-w-0",children:[c.jsx(Ys,{children:c.jsx("span",{className:"font-mono text-foreground",children:C.name})}),c.jsx("p",{className:"text-xs text-foreground-muted truncate",children:C.description})]})]},C.name))]},w))}),c.jsx(Ep,{className:"flex items-center justify-center h-6 bg-background-elevated cursor-default",children:c.jsx(fc,{className:"w-4 h-4"})}),c.jsx(kp,{className:"flex items-center justify-center h-6 bg-background-elevated cursor-default",children:c.jsx(St,{className:"w-4 h-4"})})]})})]}),h&&c.jsx("p",{className:"text-xs text-foreground-muted",children:h.description}),s&&c.jsx("p",{className:"text-xs text-error",role:"alert",children:s})]})}function aE(e){switch(e){case"comparison":return"bg-blue-500/20 text-blue-400";case"membership":return"bg-green-500/20 text-green-400";case"pattern":return"bg-purple-500/20 text-purple-400";case"filesystem":return"bg-yellow-500/20 text-yellow-400";case"ast":return"bg-red-500/20 text-red-400";case"version":return"bg-cyan-500/20 text-cyan-400";default:return"bg-gray-500/20 text-gray-400"}}function lE({operator:e,children:t,side:n="right",delayDuration:s=300}){return c.jsx(Vc,{delayDuration:s,children:c.jsxs(Uc,{children:[c.jsx(Hc,{asChild:!0,children:t||c.jsx("button",{type:"button",className:"inline-flex items-center justify-center w-5 h-5 rounded-full text-foreground-muted hover:text-foreground hover:bg-background-lighter transition-colors focus:outline-none focus:ring-2 focus:ring-accent","aria-label":`Show information about ${e.name}`,children:c.jsx(Nr,{className:"w-4 h-4"})})}),c.jsx(qc,{children:c.jsxs(Bc,{side:n,align:"start",sideOffset:5,className:"z-50 max-w-sm bg-background-elevated border border-border rounded-lg shadow-lg p-4 animate-in fade-in-0 zoom-in-95",children:[c.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[c.jsx(Nv,{className:"w-5 h-5 text-accent mt-0.5 shrink-0"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("h4",{className:"font-medium text-foreground text-sm font-mono",children:e.name}),c.jsxs("span",{className:"text-xs text-foreground-muted",children:["From ",e.plugin]})]})]}),c.jsx("div",{className:"mb-3",children:c.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-medium ${aE(e.category)}`,children:e.category})}),c.jsx("p",{className:"text-sm text-foreground-muted leading-relaxed mb-3",children:e.description}),c.jsxs("div",{className:"mb-3",children:[c.jsx("h5",{className:"text-xs font-medium text-foreground mb-1",children:"Expected value:"}),c.jsxs("p",{className:"text-xs text-foreground-muted",children:[c.jsx("span",{className:"font-mono text-accent",children:e.valueType})," - ",MN(e.valueType)]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("h5",{className:"text-xs font-medium text-foreground mb-1",children:"Example:"}),c.jsxs("div",{className:"p-2 bg-background rounded border border-border text-xs font-mono space-y-1",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-foreground-muted",children:"Fact value: "}),c.jsx("span",{className:"text-accent",children:JSON.stringify(e.example.factValue)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-foreground-muted",children:"Compare to: "}),c.jsx("span",{className:"text-accent",children:JSON.stringify(e.example.compareValue)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-foreground-muted",children:"Result: "}),c.jsx("span",{className:e.example.result?"text-green-400":"text-red-400",children:e.example.result?"true":"false"})]})]})]}),e.documentationUrl&&c.jsxs("a",{href:e.documentationUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-accent hover:underline",children:["View documentation",c.jsx(lp,{className:"w-3 h-3"})]}),c.jsx(Wc,{className:"fill-background-elevated"})]})})]})})}function cE(e){switch(e){case"comparison":return"Comparison";case"membership":return"Membership";case"pattern":return"Pattern";case"filesystem":return"Filesystem";case"ast":return"AST";case"version":return"Version";default:return e}}function uE({value:e,onChange:t,selectedFact:n,label:s="Operator",error:i,disabled:a=!1,id:u}){const d=g.useMemo(()=>Ux(e),[e]),p=g.useMemo(()=>n?xi(n):void 0,[n]),m=g.useMemo(()=>p!=null&&p.compatibleOperators?ON(n||"",p.compatibleOperators):Ap,[n,p]),h=g.useMemo(()=>{const x={};for(const b of m){const j=b.category;x[j]||(x[j]=[]),x[j].push(b)}return x},[m]),v=g.useCallback(x=>{t(x)},[t]);return c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:u,className:"text-sm font-medium text-foreground",children:s}),d&&c.jsx(lE,{operator:d})]}),c.jsxs(wc,{value:e,onValueChange:v,disabled:a,children:[c.jsxs(bc,{id:u,className:`
            flex items-center justify-between w-full px-3 py-2 rounded-md
            bg-background border text-sm
            focus:outline-none focus:ring-2 focus:ring-accent
            disabled:opacity-50 disabled:cursor-not-allowed
            ${i?"border-error":"border-border hover:border-border-hover"}
          `,"aria-label":s,children:[c.jsx(Cc,{placeholder:"Select an operator...",children:d?c.jsx("span",{className:"font-mono",children:d.name}):c.jsx("span",{className:"text-foreground-muted",children:"Select an operator..."})}),c.jsx(_c,{children:c.jsx(St,{className:"w-4 h-4 text-foreground-muted"})})]}),c.jsx(Sc,{children:c.jsxs(Nc,{className:"z-50 w-[var(--radix-select-trigger-width)] max-h-80 overflow-hidden border border-border rounded-lg shadow-lg",position:"popper",sideOffset:4,style:{backgroundColor:"var(--xfi-background-elevated)"},children:[c.jsx(jc,{className:"p-1",style:{backgroundColor:"var(--xfi-background-elevated)"},children:Object.entries(h).length===0?c.jsx("div",{className:"py-4 text-center text-sm text-foreground-muted",children:"No compatible operators"}):Object.entries(h).map(([x,b])=>c.jsxs(Bl,{children:[c.jsx(jp,{className:"px-2 py-1.5 text-xs font-medium text-foreground-muted uppercase tracking-wide",children:cE(x)}),b.map(j=>c.jsxs(Zs,{value:j.name,className:"relative flex items-start gap-2 px-2 py-1.5 text-sm rounded cursor-pointer outline-none data-[highlighted]:bg-background-lighter data-[state=checked]:bg-accent/10",children:[c.jsx(Js,{className:"absolute left-1 top-2",children:c.jsx(Hn,{className:"w-3.5 h-3.5 text-accent"})}),c.jsxs("div",{className:"pl-5 min-w-0",children:[c.jsx(Ys,{children:c.jsx("span",{className:"font-mono text-foreground",children:j.name})}),c.jsx("p",{className:"text-xs text-foreground-muted truncate",children:j.description})]})]},j.name))]},x))}),c.jsx(Ep,{className:"flex items-center justify-center h-6 bg-background-elevated cursor-default",children:c.jsx(fc,{className:"w-4 h-4"})}),c.jsx(kp,{className:"flex items-center justify-center h-6 bg-background-elevated cursor-default",children:c.jsx(St,{className:"w-4 h-4"})})]})})]}),d&&c.jsx("p",{className:"text-xs text-foreground-muted",children:d.description}),i&&c.jsx("p",{className:"text-xs text-error",role:"alert",children:i})]})}function dE(e,t,n){if(n)return n;if(t){const s=Ux(t);if(s&&s.valueType!=="any")return s.valueType}return typeof e=="boolean"?"boolean":typeof e=="number"?"number":Array.isArray(e)?"array":typeof e=="object"&&e!==null?"object":"string"}function fE({value:e,onChange:t,disabled:n,id:s,error:i,placeholder:a}){return c.jsx("input",{type:"text",id:s,value:e,onChange:u=>t(u.target.value),disabled:n,placeholder:a,className:`
        w-full px-3 py-2 rounded-md bg-background border text-sm
        focus:outline-none focus:ring-2 focus:ring-accent
        disabled:opacity-50 disabled:cursor-not-allowed
        ${i?"border-error":"border-border hover:border-border-hover"}
      `})}function pE({value:e,onChange:t,disabled:n,id:s,error:i,placeholder:a}){return c.jsx("input",{type:"number",id:s,value:e,onChange:u=>t(parseFloat(u.target.value)||0),disabled:n,placeholder:a,className:`
        w-full px-3 py-2 rounded-md bg-background border text-sm
        focus:outline-none focus:ring-2 focus:ring-accent
        disabled:opacity-50 disabled:cursor-not-allowed
        ${i?"border-error":"border-border hover:border-border-hover"}
      `})}function mE({value:e,onChange:t,disabled:n,id:s}){return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"radio",name:s,checked:e===!0,onChange:()=>t(!0),disabled:n,className:"w-4 h-4 text-accent focus:ring-accent"}),c.jsx("span",{className:"text-sm text-foreground",children:"true"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"radio",name:s,checked:e===!1,onChange:()=>t(!1),disabled:n,className:"w-4 h-4 text-accent focus:ring-accent"}),c.jsx("span",{className:"text-sm text-foreground",children:"false"})]})]})}function hE({value:e,onChange:t,disabled:n,id:s,error:i,placeholder:a}){const[u,d]=g.useState(e.join(", ")),p=g.useCallback(m=>{d(m);const h=m.split(",").map(v=>v.trim()).filter(v=>v!=="");t(h)},[t]);return c.jsxs("div",{className:"space-y-1",children:[c.jsx("input",{type:"text",id:s,value:u,onChange:m=>p(m.target.value),disabled:n,placeholder:a||"Comma-separated values",className:`
          w-full px-3 py-2 rounded-md bg-background border text-sm
          focus:outline-none focus:ring-2 focus:ring-accent
          disabled:opacity-50 disabled:cursor-not-allowed
          ${i?"border-error":"border-border hover:border-border-hover"}
        `}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"Enter values separated by commas"})]})}function gE({value:e,onChange:t,disabled:n,id:s,error:i}){const[a,u]=g.useState(()=>JSON.stringify(e,null,2)),[d,p]=g.useState(null),m=g.useCallback(h=>{u(h);try{const v=JSON.parse(h);typeof v=="object"&&v!==null&&!Array.isArray(v)?(t(v),p(null)):p("Must be a JSON object")}catch{p("Invalid JSON")}},[t]);return c.jsxs("div",{className:"space-y-1",children:[c.jsx("textarea",{id:s,value:a,onChange:h=>m(h.target.value),disabled:n,rows:4,className:`
          w-full px-3 py-2 rounded-md bg-background border text-sm font-mono
          focus:outline-none focus:ring-2 focus:ring-accent
          disabled:opacity-50 disabled:cursor-not-allowed resize-y
          ${i||d?"border-error":"border-border hover:border-border-hover"}
        `}),d&&c.jsx("p",{className:"text-xs text-error",children:d})]})}function yE({value:e,onChange:t,operator:n,valueType:s,label:i="Value",error:a,disabled:u=!1,id:d,placeholder:p}){const m=g.useMemo(()=>dE(e,n,s),[e,n,s]),h=g.useMemo(()=>{switch(m){case"string":return"Enter a text value to compare against the fact result";case"number":return"Enter a numeric value for comparison";case"boolean":return"Select true or false";case"array":return"Enter multiple values separated by commas";case"object":return"Enter a JSON object for complex comparisons";default:return"Enter the value to compare against"}},[m]);return c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:d,className:"text-sm font-medium text-foreground",children:i}),c.jsx(pt,{title:"Value",description:h,hint:`Expected type: ${m}`})]}),m==="boolean"?c.jsx(mE,{value:!!e,onChange:t,disabled:u,id:d}):m==="number"?c.jsx(pE,{value:typeof e=="number"?e:0,onChange:t,disabled:u,id:d,error:a,placeholder:p}):m==="array"?c.jsx(hE,{value:Array.isArray(e)?e:[],onChange:t,disabled:u,id:d,error:a,placeholder:p}):m==="object"?c.jsx(gE,{value:typeof e=="object"&&e!==null&&!Array.isArray(e)?e:{},onChange:t,disabled:u,id:d,error:a}):c.jsx(fE,{value:String(e??""),onChange:t,disabled:u,id:d,error:a,placeholder:p}),a&&m!=="object"&&c.jsx("p",{className:"text-xs text-error",role:"alert",children:a})]})}const wf="__custom__";function e1(e){if(!e)return null;if(!e.startsWith("$"))return"JSONPath must start with $";const t=[{pattern:/\.\.$/,message:"Path cannot end with .."},{pattern:/\[\]/,message:"Empty brackets are not allowed"},{pattern:/\.$/,message:"Path cannot end with ."}];for(const{pattern:n,message:s}of t)if(n.test(e))return s;return null}function vE({value:e,onChange:t,factName:n,label:s="Path",error:i,disabled:a=!1,id:u}){const[d,p]=g.useState(!1),[m,h]=g.useState(""),[v,x]=g.useState(null),b=g.useMemo(()=>nE(n),[n]),j=g.useMemo(()=>oE(n),[n]),S=g.useMemo(()=>b.some($=>$.path===e),[b,e]),w=g.useMemo(()=>d?!0:e?!S&&e!=="":!1,[d,e,S]),N=g.useMemo(()=>b.find($=>$.path===e),[b,e]),C=g.useCallback($=>{$===wf?(p(!0),h(e||"$.")):(p(!1),h(""),x(null),t($))},[e,t]),E=g.useCallback($=>{h($);const L=e1($);x(L),t($)},[t]),P=g.useCallback(()=>{p(!1),h(""),x(null);const $=b[0];t($?$.path:"")},[b,t]),k=i||v,R=w?wf:e;return c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:u,className:"text-sm font-medium text-foreground",children:s}),c.jsx(pt,{title:"JSONPath Expression",description:"Select a path to extract a specific value from the fact result.",hint:"Choose from suggested paths or enter a custom path",example:c.jsxs("div",{className:"space-y-1",children:[c.jsx("code",{children:"$.extension"}),c.jsx("span",{className:"text-foreground-muted",children:" - Get file extension"}),c.jsx("br",{}),c.jsx("code",{children:"$.fileName"}),c.jsx("span",{className:"text-foreground-muted",children:" - Get file name"})]}),documentationUrl:"/docs/jsonpath"})]}),b.length>0?c.jsxs(c.Fragment,{children:[c.jsxs(wc,{value:R,onValueChange:C,disabled:a,children:[c.jsxs(bc,{id:u,"aria-label":`${s}: ${e||"Select a path"}`,className:`
                flex items-center justify-between w-full px-3 py-2 rounded-md
                bg-background border text-sm font-mono
                focus:outline-none focus:ring-2 focus:ring-accent
                disabled:opacity-50 disabled:cursor-not-allowed
                ${k?"border-error":"border-border hover:border-border-hover"}
              `,children:[c.jsx(Cc,{children:w?c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(o0,{className:"w-3.5 h-3.5 text-foreground-muted"}),c.jsx("span",{className:"text-foreground-muted",children:"Custom path"})]}):N?c.jsx("span",{children:N.path}):c.jsx("span",{className:"text-foreground-muted",children:"Select a path..."})}),c.jsx(_c,{children:c.jsx(St,{className:"w-4 h-4 text-foreground-muted"})})]}),c.jsx(Sc,{children:c.jsxs(Nc,{className:"z-50 w-[var(--radix-select-trigger-width)] max-h-80 overflow-hidden border border-border rounded-lg shadow-lg",position:"popper",sideOffset:4,style:{backgroundColor:"var(--xfi-background-elevated)"},children:[c.jsx(Ep,{className:"flex items-center justify-center h-6 cursor-default",style:{backgroundColor:"var(--xfi-background-elevated)"},children:c.jsx(fc,{className:"w-4 h-4"})}),c.jsxs(jc,{className:"p-1",style:{backgroundColor:"var(--xfi-background-elevated)"},children:[c.jsxs(Bl,{children:[c.jsx(jp,{className:"px-2 py-1.5 text-xs font-medium text-foreground-muted uppercase tracking-wide",children:"Suggested Paths"}),b.map($=>c.jsxs(Zs,{value:$.path,className:"relative flex items-start gap-2 px-2 py-1.5 text-sm rounded cursor-pointer outline-none data-[highlighted]:bg-accent/50",children:[c.jsx(Js,{className:"absolute left-1 top-2",children:c.jsx(Hn,{className:"w-3.5 h-3.5 text-primary"})}),c.jsxs("div",{className:"pl-5 min-w-0",children:[c.jsx(Ys,{children:c.jsx("span",{className:"font-mono text-foreground",children:$.path})}),c.jsx("p",{className:"text-xs text-foreground-muted",children:$.description})]})]},$.path))]}),j&&c.jsxs(Bl,{children:[c.jsx(o_,{className:"h-px my-1 bg-border"}),c.jsxs(Zs,{value:wf,className:"relative flex items-center gap-2 px-2 py-1.5 text-sm rounded cursor-pointer outline-none data-[highlighted]:bg-accent/50",children:[c.jsx(Js,{className:"absolute left-1",children:c.jsx(Hn,{className:"w-3.5 h-3.5 text-primary"})}),c.jsxs("div",{className:"pl-5 flex items-center gap-1.5",children:[c.jsx(o0,{className:"w-3.5 h-3.5 text-foreground-muted"}),c.jsx(Ys,{children:c.jsx("span",{className:"text-foreground",children:"Enter custom path..."})})]})]})]})]}),c.jsx(kp,{className:"flex items-center justify-center h-6 cursor-default",style:{backgroundColor:"var(--xfi-background-elevated)"},children:c.jsx(St,{className:"w-4 h-4"})})]})})]}),w&&c.jsxs("div",{className:"flex gap-2 mt-2",children:[c.jsx("input",{type:"text",value:m||e,onChange:$=>E($.target.value),disabled:a,placeholder:"$.custom.path",className:`
                  flex-1 px-3 py-2 rounded-md bg-background border text-sm font-mono
                  focus:outline-none focus:ring-2 focus:ring-accent
                  disabled:opacity-50 disabled:cursor-not-allowed
                  ${k?"border-error":"border-border hover:border-border-hover"}
                `}),c.jsx("button",{type:"button",onClick:P,disabled:a,className:"px-3 py-2 text-sm rounded-md border border-border hover:bg-accent transition-colors",title:"Use suggested path instead",children:"Cancel"})]})]}):c.jsx("input",{type:"text",id:u,value:e||"",onChange:$=>{const L=$.target.value,K=e1(L);x(K),t(L)},disabled:a,placeholder:"$.property.path",className:`
            w-full px-3 py-2 rounded-md bg-background border text-sm font-mono
            focus:outline-none focus:ring-2 focus:ring-accent
            disabled:opacity-50 disabled:cursor-not-allowed
            ${k?"border-error":"border-border hover:border-border-hover"}
          `}),c.jsx("p",{className:"text-xs text-foreground-muted",children:N?N.description:"JSONPath to extract from fact result (e.g., $.fileName)"}),k&&c.jsx("p",{className:"text-xs text-error",role:"alert",children:k})]})}function xE(e,t){if(t!=null&&t.type){const n=t.type.toLowerCase();if(n.includes("array")||n.includes("[]"))return"array";if(n.includes("object"))return"object";if(n.includes("boolean")||n.includes("bool"))return"boolean";if(n.includes("number")||n.includes("int")||n.includes("float"))return"number"}return Array.isArray(e)?"array":typeof e=="boolean"?"boolean":typeof e=="number"?"number":typeof e=="object"&&e!==null?"object":"string"}function wE({value:e,onChange:t,disabled:n,placeholder:s}){if(e.some(p=>typeof p=="object"&&p!==null))return c.jsx(bE,{value:e,onChange:t,disabled:n});const a=g.useCallback(()=>{t([...e,""])},[e,t]),u=g.useCallback((p,m)=>{const h=[...e];h[p]=m,t(h)},[e,t]),d=g.useCallback(p=>{const m=e.filter((h,v)=>v!==p);t(m)},[e,t]);return c.jsxs("div",{className:"space-y-2 w-full overflow-hidden",children:[e.length>0&&c.jsx("div",{className:"space-y-1.5",children:e.map((p,m)=>c.jsxs("div",{className:"flex items-center gap-2 w-full",children:[c.jsxs("span",{className:"text-xs text-foreground-muted w-5 text-right flex-shrink-0",children:[m+1,"."]}),c.jsx("input",{type:"text",value:String(p),onChange:h=>u(m,h.target.value),disabled:n,placeholder:s||"Enter value",className:"flex-1 min-w-0 px-2 py-1 text-sm font-mono bg-background border border-border rounded focus:outline-none focus:ring-1 focus:ring-accent"}),c.jsx("button",{type:"button",onClick:()=>d(m),disabled:n,className:"p-1 text-foreground-muted hover:text-error rounded hover:bg-error/10 transition-colors flex-shrink-0","aria-label":`Remove item ${m+1}`,children:c.jsx(up,{className:"w-3.5 h-3.5"})})]},m))}),e.length===0&&c.jsx("p",{className:"text-xs text-foreground-muted text-center py-1",children:'No items. Click "Add Item" to start.'}),c.jsxs("button",{type:"button",onClick:a,disabled:n,className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-background-lighter border border-border rounded hover:border-accent hover:text-accent transition-colors disabled:opacity-50",children:[c.jsx(zo,{className:"w-3 h-3"}),"Add Item"]})]})}function bE({value:e,onChange:t,disabled:n}){const[s,i]=g.useState(()=>JSON.stringify(e,null,2)),[a,u]=g.useState(null),d=g.useCallback(p=>{i(p);try{const m=JSON.parse(p);Array.isArray(m)?(t(m),u(null)):u("Must be a JSON array")}catch{u("Invalid JSON")}},[t]);return c.jsxs("div",{className:"space-y-1",children:[c.jsx("textarea",{value:s,onChange:p=>d(p.target.value),disabled:n,rows:4,placeholder:'[{"key": "value"}]',className:`
          w-full px-2 py-1.5 text-sm font-mono bg-background border rounded resize-y
          focus:outline-none focus:ring-1 focus:ring-accent
          ${a?"border-error":"border-border"}
        `}),a&&c.jsx("p",{className:"text-xs text-error",children:a}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"JSON array of objects"})]})}function CE({value:e,onChange:t,disabled:n}){const[s,i]=g.useState(()=>JSON.stringify(e,null,2)),[a,u]=g.useState(null),d=g.useCallback(p=>{i(p);try{const m=JSON.parse(p);typeof m=="object"&&m!==null&&!Array.isArray(m)?(t(m),u(null)):u("Must be a JSON object")}catch{u("Invalid JSON")}},[t]);return c.jsxs("div",{className:"space-y-1",children:[c.jsx("textarea",{value:s,onChange:p=>d(p.target.value),disabled:n,rows:3,placeholder:'{"key": "value"}',className:`
          w-full px-2 py-1.5 text-sm font-mono bg-background border rounded resize-y
          focus:outline-none focus:ring-1 focus:ring-accent
          ${a?"border-error":"border-border"}
        `}),a&&c.jsx("p",{className:"text-xs text-error",children:a})]})}function _E({name:e,value:t,paramDef:n,onNameChange:s,onValueChange:i,onDelete:a,disabled:u,isNew:d}){const p=xE(t,n),[m,h]=g.useState(()=>typeof t=="object"?JSON.stringify(t):String(t??"")),v=g.useCallback(b=>{if(h(b),b.startsWith("{")||b.startsWith("["))try{const j=JSON.parse(b);i(j);return}catch{}if(/^-?\d+(\.\d+)?$/.test(b)){i(parseFloat(b));return}if(b==="true"){i(!0);return}if(b==="false"){i(!1);return}i(b)},[i]),x=()=>{switch(p){case"array":return c.jsx(wE,{value:Array.isArray(t)?t:[],onChange:i,disabled:u,placeholder:n!=null&&n.example?String(n.example):void 0});case"object":return c.jsx(CE,{value:typeof t=="object"&&t!==null&&!Array.isArray(t)?t:{},onChange:i,disabled:u});case"boolean":return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[c.jsx("input",{type:"radio",checked:t===!0,onChange:()=>i(!0),disabled:u,className:"w-3.5 h-3.5 text-accent focus:ring-accent"}),c.jsx("span",{className:"text-sm text-foreground",children:"true"})]}),c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[c.jsx("input",{type:"radio",checked:t===!1,onChange:()=>i(!1),disabled:u,className:"w-3.5 h-3.5 text-accent focus:ring-accent"}),c.jsx("span",{className:"text-sm text-foreground",children:"false"})]})]});case"number":return c.jsx("input",{type:"number",value:typeof t=="number"?t:0,onChange:b=>i(parseFloat(b.target.value)||0),disabled:u,placeholder:n!=null&&n.example?String(n.example):"Value",className:"w-full px-2 py-1.5 text-sm font-mono bg-background border border-border rounded focus:outline-none focus:ring-1 focus:ring-accent"});default:return c.jsx("input",{type:"text",value:m,onChange:b=>v(b.target.value),disabled:u,placeholder:n!=null&&n.example?String(n.example):"Value",className:"w-full px-2 py-1.5 text-sm font-mono bg-background border border-border rounded focus:outline-none focus:ring-1 focus:ring-accent"})}};return c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[d?c.jsx("input",{type:"text",value:e,onChange:b=>s(b.target.value),disabled:u,placeholder:"Parameter name",className:"w-full px-2 py-1.5 text-sm bg-background border border-border rounded focus:outline-none focus:ring-1 focus:ring-accent"}):c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"font-mono text-sm text-foreground",children:e}),n&&c.jsxs("span",{className:"text-xs text-foreground-muted",children:["(",n.type,n.required?", required":"",")"]})]}),(n==null?void 0:n.description)&&c.jsx("p",{className:"text-xs text-foreground-muted mt-0.5",children:n.description}),!n&&p!=="string"&&c.jsxs("span",{className:"text-xs text-foreground-muted",children:["(",p,")"]})]}),c.jsx("div",{className:"flex-1 min-w-0",children:x()}),c.jsx("button",{type:"button",onClick:a,disabled:u,className:"p-1.5 text-foreground-muted hover:text-error rounded hover:bg-error/10 transition-colors","aria-label":"Delete parameter",children:c.jsx(up,{className:"w-4 h-4"})})]})}function SE({value:e,onChange:t,selectedFact:n,label:s="Parameters",disabled:i=!1}){const[a,u]=g.useState(Object.keys(e||{}).length>0),[d,p]=g.useState(""),m=g.useMemo(()=>n?xi(n):void 0,[n]),h=g.useMemo(()=>(m==null?void 0:m.parameters)||[],[m]),v=g.useMemo(()=>{const E=new Map;for(const P of h)E.set(P.name,P);return E},[h]),x=g.useMemo(()=>Object.entries(e||{}),[e]),b=g.useCallback((E,P)=>{const k={...e,[E]:P};t(k)},[e,t]),j=g.useCallback(E=>{const P={...e};delete P[E],t(P)},[e,t]),S=g.useCallback((E,P)=>{if(!P||P===E)return;const k={};for(const[R,$]of Object.entries(e||{}))R===E?k[P]=$:k[R]=$;t(k)},[e,t]),w=g.useCallback(()=>{const E=d.trim();if(!E||e[E]!==void 0)return;const P={...e,[E]:""};t(P),p("")},[d,e,t]),N=g.useCallback(E=>{if(e[E.name]!==void 0)return;let P;if(E.default!==void 0)P=E.default;else switch(E.type){case"array":P=[];break;case"object":P={};break;case"boolean":P=!1;break;case"number":P=0;break;default:P=""}const k={...e,[E.name]:P};t(k)},[e,t]),C=g.useMemo(()=>h.filter(E=>e[E.name]===void 0),[h,e]);return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("button",{type:"button",onClick:()=>u(!a),className:"flex items-center gap-1 text-sm font-medium text-foreground hover:text-accent transition-colors",children:[a?c.jsx(St,{className:"w-4 h-4"}):c.jsx(qn,{className:"w-4 h-4"}),s,c.jsxs("span",{className:"text-xs text-foreground-muted font-normal",children:["(",x.length," ",x.length===1?"param":"params",")"]})]}),c.jsx(pt,{title:"Fact Parameters",description:"Optional parameters to pass when evaluating the fact. These can customize how the fact collects data.",hint:"Check the fact documentation for available parameters"})]}),a&&c.jsxs("div",{className:"p-3 bg-background rounded-lg border border-border space-y-3",children:[x.length>0&&c.jsx("div",{className:"space-y-2",children:x.map(([E,P])=>c.jsx(_E,{name:E,value:P,paramDef:v.get(E),onNameChange:k=>S(E,k),onValueChange:k=>b(E,k),onDelete:()=>j(E),disabled:i},E))}),x.length===0&&c.jsx("p",{className:"text-sm text-foreground-muted text-center py-2",children:"No parameters set"}),C.length>0&&c.jsxs("div",{className:"pt-2 border-t border-border",children:[c.jsx("p",{className:"text-xs text-foreground-muted mb-2",children:"Suggested parameters:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(E=>c.jsxs("button",{type:"button",onClick:()=>N(E),disabled:i,className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-background-lighter border border-border rounded hover:border-accent hover:text-accent transition-colors disabled:opacity-50",children:[c.jsx(zo,{className:"w-3 h-3"}),c.jsx("span",{className:"font-mono",children:E.name}),E.required&&c.jsx("span",{className:"text-warning",children:"*"})]},E.name))})]}),c.jsx("div",{className:"pt-2 border-t border-border",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:d,onChange:E=>p(E.target.value),onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),w())},disabled:i,placeholder:"Custom parameter name",className:"flex-1 px-2 py-1.5 text-sm bg-background border border-border rounded focus:outline-none focus:ring-1 focus:ring-accent"}),c.jsxs("button",{type:"button",onClick:w,disabled:i||!d.trim(),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm bg-accent text-accent-foreground rounded hover:bg-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(zo,{className:"w-4 h-4"}),"Add"]})]})})]})]})}function NE({path:e,data:t}){const n=ke(U=>U.updateNode),{getErrorMessage:s}=vi(),[i,a]=g.useState(t.fact),[u,d]=g.useState(t.operator),[p,m]=g.useState(t.value),[h,v]=g.useState(t.path||""),[x,b]=g.useState(t.params||{}),j=g.useRef(null),S=g.useRef(null),w=g.useRef(t);g.useEffect(()=>{t!==w.current&&(a(t.fact),d(t.operator),m(t.value),v(t.path||""),b(t.params||{}),w.current=t)},[t]),g.useEffect(()=>()=>{j.current&&clearTimeout(j.current),S.current&&clearTimeout(S.current)},[]);const N=s([...e,"fact"]),C=s([...e,"operator"]),E=s([...e,"value"]),P=s([...e,"path"]),k=g.useCallback(U=>{a(U),n(e,{...t,fact:U},"form")},[t,e,n]),R=g.useCallback(U=>{d(U),n(e,{...t,operator:U},"form")},[t,e,n]),$=g.useCallback(U=>{m(U),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{n(e,{...t,value:U},"form"),j.current=null},Ur.FORM_CHANGE)},[t,e,n]),L=g.useCallback(U=>{v(U),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{const G={...t};U?G.path=U:delete G.path,n(e,G,"form"),S.current=null},Ur.FORM_CHANGE)},[t,e,n]),K=g.useCallback(U=>{b(U);const G={...t};Object.keys(U).length>0?G.params=U:delete G.params,n(e,G,"form")},[t,e,n]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"pb-4 border-b border-border",children:[c.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Edit Condition"}),c.jsx("p",{className:"text-sm text-foreground-muted mt-1",children:"Configure what this condition checks"})]}),c.jsx(iE,{id:"condition-fact",value:i,onChange:k,error:N||void 0}),c.jsx(vE,{id:"condition-path",value:h,onChange:L,factName:i,error:P||void 0}),c.jsx(uE,{id:"condition-operator",value:u,onChange:R,selectedFact:i,error:C||void 0}),c.jsx(yE,{id:"condition-value",value:p,onChange:$,operator:u,error:E||void 0,placeholder:"Enter comparison value"}),c.jsx("hr",{className:"border-border"}),c.jsx(SE,{value:x,onChange:K,selectedFact:i}),c.jsxs("div",{className:"p-4 bg-background-secondary rounded-lg border border-border",children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Condition Preview"}),c.jsxs("code",{className:"block text-xs font-mono text-foreground overflow-auto",children:[c.jsx("span",{className:"text-primary",children:i}),h&&c.jsx("span",{className:"text-foreground-muted",children:h})," ",c.jsx("span",{className:"text-primary",children:u})," ",c.jsx("span",{className:"text-foreground",children:JSON.stringify(p)})]})]})]})}const jE=[{value:"warning",label:"Warning",description:"Non-blocking issue that should be addressed",color:"text-warning"},{value:"fatality",label:"Fatality",description:"Blocking issue that must be fixed",color:"text-error"},{value:"info",label:"Info",description:"Informational message for awareness",color:"text-info"}];function EE({path:e,data:t}){const n=ke(R=>R.updateNode),{getErrorMessage:s}=vi(),[i,a]=g.useState(t.type),[u,d]=g.useState(t.params.message),[p,m]=g.useState(t.params.category||""),[h,v]=g.useState(t.params.ruleId||""),x=g.useRef(null),b=g.useRef(null),j=g.useRef(null),S=g.useRef(t);g.useEffect(()=>{t!==S.current&&(a(t.type),d(t.params.message),m(t.params.category||""),v(t.params.ruleId||""),S.current=t)},[t]),g.useEffect(()=>()=>{x.current&&clearTimeout(x.current),b.current&&clearTimeout(b.current),j.current&&clearTimeout(j.current)},[]);const w=s([...e,"type"]),N=s([...e,"params","message"]),C=g.useCallback(R=>{a(R),n(e,{...t,type:R},"form")},[t,e,n]),E=g.useCallback(R=>{const $=R.target.value;d($),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{const L={...t,params:{...t.params,message:$}};n(e,L,"form"),x.current=null},Ur.FORM_CHANGE)},[t,e,n]),P=g.useCallback(R=>{const $=R.target.value;m($),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{const L={...t.params};$?L.category=$:delete L.category;const K={...t,params:L};n(e,K,"form"),b.current=null},Ur.FORM_CHANGE)},[t,e,n]),k=g.useCallback(R=>{const $=R.target.value;v($),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{const L={...t.params};$?L.ruleId=$:delete L.ruleId;const K={...t,params:L};n(e,K,"form"),j.current=null},Ur.FORM_CHANGE)},[t,e,n]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"pb-4 border-b border-border",children:[c.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Event Configuration"}),c.jsx("p",{className:"text-sm text-foreground-muted mt-1",children:"Configure what happens when this rule matches"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-sm font-medium text-foreground",children:"Event Type"}),c.jsx(pt,{title:"Event Type",description:"Determines the severity of the issue when this rule triggers.",example:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-warning",children:"Warning:"})," Shows in results, doesn't fail"]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-error",children:"Fatality:"})," Shows in results, causes failure"]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-info",children:"Info:"})," Informational only"]})]})})]}),c.jsx("div",{className:"grid gap-2",children:jE.map(R=>c.jsxs("label",{className:`
                flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors
                ${i===R.value?"border-accent bg-accent/5":"border-border hover:border-border-hover"}
              `,children:[c.jsx("input",{type:"radio",name:"event-type",value:R.value,checked:i===R.value,onChange:()=>C(R.value),className:"mt-0.5 w-4 h-4 text-accent focus:ring-accent"}),c.jsxs("div",{children:[c.jsx("span",{className:`text-sm font-medium ${R.color}`,children:R.label}),c.jsx("p",{className:"text-xs text-foreground-muted mt-0.5",children:R.description})]})]},R.value))}),w&&c.jsx("p",{className:"text-xs text-error",role:"alert",children:w})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:"event-message",className:"text-sm font-medium text-foreground",children:"Message"}),c.jsx(pt,{title:"Event Message",description:"The message displayed when this rule triggers. Be clear and actionable.",hint:"Use {fact.property} placeholders for dynamic values",example:"Found TODO comment that should be resolved"})]}),c.jsx("textarea",{id:"event-message",value:u,onChange:E,placeholder:"Enter the message to display...",rows:3,className:`
            w-full px-3 py-2 rounded-md bg-background border text-sm
            focus:outline-none focus:ring-2 focus:ring-accent resize-y
            ${N?"border-error":"border-border hover:border-border-hover"}
          `}),N&&c.jsx("p",{className:"text-xs text-error",role:"alert",children:N})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{htmlFor:"event-category",className:"text-sm font-medium text-foreground",children:["Category ",c.jsx("span",{className:"text-foreground-muted font-normal",children:"(optional)"})]}),c.jsx(pt,{title:"Event Category",description:"Group related rules under a category for better organization.",example:"code-quality, security, performance"})]}),c.jsx("input",{type:"text",id:"event-category",value:p,onChange:P,placeholder:"e.g., code-quality",className:"w-full px-3 py-2 rounded-md bg-background border border-border text-sm focus:outline-none focus:ring-2 focus:ring-accent hover:border-border-hover"})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{htmlFor:"event-rule-id",className:"text-sm font-medium text-foreground",children:["Rule ID ",c.jsx("span",{className:"text-foreground-muted font-normal",children:"(optional)"})]}),c.jsx(pt,{title:"Rule ID",description:"Optional unique identifier for this rule in reporting.",hint:"If not set, uses the rule name"})]}),c.jsx("input",{type:"text",id:"event-rule-id",value:h,onChange:k,placeholder:"e.g., XFI-001",className:"w-full px-3 py-2 rounded-md bg-background border border-border text-sm focus:outline-none focus:ring-2 focus:ring-accent hover:border-border-hover"})]}),c.jsxs("div",{className:`p-4 rounded-lg border ${i==="fatality"?"bg-error/10 border-error/20":i==="warning"?"bg-warning/10 border-warning/20":"bg-info/10 border-info/20"}`,children:[c.jsx("h4",{className:`text-sm font-medium mb-1 ${i==="fatality"?"text-error":i==="warning"?"text-warning":"text-info"}`,children:i==="fatality"?" Fatality":i==="warning"?" Warning":" Info"}),c.jsx("p",{className:"text-sm text-foreground",children:u||"(no message)"}),p&&c.jsx("span",{className:"inline-block mt-2 px-2 py-0.5 text-xs bg-background rounded",children:p})]})]})}const kE=[{value:"warning",label:"Warning",description:"Non-blocking issue that should be addressed",color:"text-warning"},{value:"fatality",label:"Fatality",description:"Blocking issue that must be fixed",color:"text-error"},{value:"info",label:"Info",description:"Informational message for awareness",color:"text-info"}];function PE(e){return e.length>=2&&e[0]==="event"?e.slice(1).join("."):e.join(".")}function RE({value:e,onChange:t,error:n}){return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-sm font-medium text-foreground",children:"Event Type"}),c.jsx(pt,{title:"Event Type",description:"Determines the severity of the issue when this rule triggers.",example:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-warning",children:"Warning:"})," Shows in results, doesn't fail"]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-error",children:"Fatality:"})," Shows in results, causes failure"]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-info",children:"Info:"})," Informational only"]})]})})]}),c.jsx("div",{className:"grid gap-2",children:kE.map(s=>c.jsxs("label",{className:`
              flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors
              ${e===s.value?"border-accent bg-accent/5":"border-border hover:border-border-hover"}
            `,children:[c.jsx("input",{type:"radio",name:"event-type",value:s.value,checked:e===s.value,onChange:()=>t(s.value),className:"mt-0.5 w-4 h-4 text-accent focus:ring-accent"}),c.jsxs("div",{children:[c.jsx("span",{className:`text-sm font-medium ${s.color}`,children:s.label}),c.jsx("p",{className:"text-xs text-foreground-muted mt-0.5",children:s.description})]})]},s.value))}),n&&c.jsx("p",{className:"text-xs text-error",role:"alert",children:n})]})}function $E({value:e,onChange:t,error:n}){return c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:"event-message",className:"text-sm font-medium text-foreground",children:"Message"}),c.jsx(pt,{title:"Event Message",description:"The message displayed when this rule triggers. Be clear and actionable.",hint:"Use {fact.property} placeholders for dynamic values",example:"Found TODO comment that should be resolved"})]}),c.jsx("textarea",{id:"event-message",value:e,onChange:s=>t(s.target.value),placeholder:"Enter the message to display...",rows:3,className:`
          w-full px-3 py-2 rounded-md bg-background border text-sm
          focus:outline-none focus:ring-2 focus:ring-accent resize-y
          ${n?"border-error":"border-border hover:border-border-hover"}
        `}),n&&c.jsx("p",{className:"text-xs text-error",role:"alert",children:n})]})}function t1({label:e,value:t,onChange:n,placeholder:s,tooltip:i}){return c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{className:"text-sm font-medium text-foreground",children:[e," ",c.jsx("span",{className:"text-foreground-muted font-normal",children:"(optional)"})]}),i&&c.jsx(pt,{title:i.title,description:i.description,example:i.example})]}),c.jsx("input",{type:"text",value:t,onChange:a=>n(a.target.value),placeholder:s,className:"w-full px-3 py-2 rounded-md bg-background border border-border text-sm focus:outline-none focus:ring-2 focus:ring-accent hover:border-border-hover"})]})}function TE(){return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"pb-4 border-b border-border",children:[c.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Event Parameters"}),c.jsx("p",{className:"text-sm text-foreground-muted mt-1",children:"Container for event configuration properties"})]}),c.jsxs("div",{className:"p-4 bg-info/10 border border-info/20 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-1",children:"About Parameters"}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"Event parameters configure the message and metadata when this rule fires. Click on individual parameters in the tree to edit them:"}),c.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-foreground-muted",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-primary",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"message"})," - The text shown when the rule triggers"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-primary",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"category"})," - Optional grouping for the rule"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-primary",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"ruleId"})," - Optional unique identifier"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-primary",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"details"})," - Additional metadata object"]})]})]})]})]})}function OE({data:e}){const t=Object.entries(e);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"pb-4 border-b border-border",children:[c.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Event Details"}),c.jsx("p",{className:"text-sm text-foreground-muted mt-1",children:"Additional metadata for this event"})]}),c.jsxs("div",{className:"p-4 bg-background-secondary rounded-lg border border-border",children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Current Details"}),t.length===0?c.jsx("p",{className:"text-xs text-foreground-muted",children:"No details configured"}):c.jsx("div",{className:"space-y-2",children:t.map(([n,s])=>c.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[c.jsxs("span",{className:"font-medium text-foreground-muted",children:[n,":"]}),c.jsx("span",{className:"text-foreground",children:typeof s=="string"?s:JSON.stringify(s)})]},n))})]}),c.jsx("div",{className:"p-4 bg-info/10 border border-info/20 rounded-lg",children:c.jsx("p",{className:"text-xs text-foreground-muted",children:"Click on individual detail properties in the tree to edit them, or use the JSON Editor for complex modifications."})})]})}function ME({fieldName:e,value:t,onChange:n}){const[s,i]=g.useState(typeof t=="string"?t:JSON.stringify(t,null,2)),a=typeof t=="string",u=d=>{const p=d.target.value;if(i(p),a)n(p);else try{const m=JSON.parse(p);n(m)}catch{n(p)}};return c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-sm font-medium text-foreground",children:e}),a?c.jsx("input",{type:"text",value:s,onChange:u,className:"w-full px-3 py-2 rounded-md bg-background border border-border text-sm focus:outline-none focus:ring-2 focus:ring-accent hover:border-border-hover"}):c.jsx("textarea",{value:s,onChange:u,rows:4,className:"w-full px-3 py-2 rounded-md bg-background border border-border text-sm font-mono focus:outline-none focus:ring-2 focus:ring-accent resize-y"})]})}function AE({path:e,data:t}){var w;const n=ke(N=>N.updateNode),s=ke(N=>N.rule),{getErrorMessage:i}=vi(),a=PE(e),u=g.useRef(null),[d,p]=g.useState(t);g.useEffect(()=>{p(t)},[t]),g.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]);const m=s==null?void 0:s.event,h=i(e),v=g.useCallback(N=>{n(e,N,"form")},[e,n]),x=g.useCallback(N=>{p(N),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{n(e,N,"form"),u.current=null},Ur.FORM_CHANGE)},[e,n]),b=()=>{if(a==="type")return c.jsx(RE,{value:d||"warning",onChange:v,error:h??void 0});if(a==="params")return c.jsx(TE,{});if(a==="params.message")return c.jsx($E,{value:d||"",onChange:x,error:h??void 0});if(a==="params.category")return c.jsx(t1,{label:"Category",value:d||"",onChange:x,placeholder:"e.g., code-quality",tooltip:{title:"Event Category",description:"Group related rules under a category for better organization.",example:"code-quality, security, performance"}});if(a==="params.ruleId")return c.jsx(t1,{label:"Rule ID",value:d||"",onChange:x,placeholder:"e.g., XFI-001",tooltip:{title:"Rule ID",description:"Optional unique identifier for this rule in reporting."}});if(a==="params.details")return c.jsx(OE,{data:t||{}});const N=e[e.length-1]||a;return c.jsx(ME,{fieldName:N,value:d,onChange:x})},S=(()=>{switch(a){case"type":return{title:"Event Type",description:"Configure the severity level of this rule"};case"params":return{title:"Event Parameters",description:"Container for event configuration"};case"params.message":return{title:"Event Message",description:"The message shown when this rule triggers"};case"params.category":return{title:"Event Category",description:"Optional category for grouping rules"};case"params.ruleId":return{title:"Rule ID",description:"Optional unique identifier for reporting"};case"params.details":return{title:"Event Details",description:"Additional metadata for this event"};default:return{title:`Edit: ${IE(e)}`,description:"Edit this event property"}}})();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"pb-4 border-b border-border",children:[c.jsx("h3",{className:"text-lg font-medium text-foreground",children:S.title}),c.jsx("p",{className:"text-sm text-foreground-muted mt-1",children:S.description})]}),b(),a==="type"&&m&&c.jsxs("div",{className:`p-4 rounded-lg border ${m.type==="fatality"?"bg-error/10 border-error/20":m.type==="warning"?"bg-warning/10 border-warning/20":"bg-info/10 border-info/20"}`,children:[c.jsx("h4",{className:`text-sm font-medium mb-1 ${m.type==="fatality"?"text-error":m.type==="warning"?"text-warning":"text-info"}`,children:m.type==="fatality"?" Fatality":m.type==="warning"?" Warning":" Info"}),c.jsx("p",{className:"text-sm text-foreground",children:((w=m.params)==null?void 0:w.message)||"(no message)"})]})]})}function IE(e){return e[e.length-1]||"value"}function DE(){return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-12 text-center",children:[c.jsx(Nv,{className:"w-12 h-12 mb-4 text-foreground-muted opacity-50"}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Rule Editor"}),c.jsx("p",{className:"text-sm text-foreground-muted max-w-xs",children:"Select a rule, condition, or event from the tree to edit its properties"})]})}function LE(){return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"pb-4 border-b border-border",children:[c.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Conditions"}),c.jsx("p",{className:"text-sm text-foreground-muted mt-1",children:"The root container for all rule conditions"})]}),c.jsxs("div",{className:"p-4 bg-info/10 border border-info/20 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-1",children:"About Conditions"}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"Conditions determine when this rule should fire. Expand the tree to view and edit individual conditions or condition groups. Use the tree view to add new conditions or change the logical grouping (ALL/ANY/NOT)."})]}),c.jsxs("div",{className:"p-4 bg-background-secondary rounded-lg border border-border",children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Quick Actions"}),c.jsxs("ul",{className:"space-y-2 text-sm text-foreground",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-primary",children:""}),c.jsx("span",{children:"Click on condition groups to change between ALL/ANY/NOT logic"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-primary",children:""}),c.jsx("span",{children:"Click on individual conditions to edit fact, operator, and value"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-primary",children:""}),c.jsx("span",{children:"Use the tree context menu to add, delete, or move conditions"})]})]})]})]})}function FE({nodeType:e}){return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"pb-4 border-b border-border",children:[c.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Unknown Node"}),c.jsxs("p",{className:"text-sm text-foreground-muted mt-1",children:["Cannot edit this node type: ",e]})]}),c.jsxs("div",{className:"p-4 bg-warning/10 border border-warning/20 rounded-lg flex items-start gap-3",children:[c.jsx(_r,{className:"w-5 h-5 text-warning shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-warning mb-1",children:"Unsupported Node Type"}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"This node type is not recognized. Please select a different node from the tree."})]})]})]})}function zE(){const{path:e,node:t,nodeType:n,hasSelection:s}=B7(),{errorCount:i}=vi();if(!s||!t)return c.jsx("div",{className:"h-full flex flex-col",children:c.jsx(DE,{})});const a=()=>{switch(n){case"rule":return c.jsx(K7,{path:e});case"conditions":return c.jsx(LE,{});case"condition-group":return c.jsx(Y7,{path:e,data:t});case"condition":return c.jsx(NE,{path:e,data:t});case"event":return c.jsx(EE,{path:e,data:t});case"event-param":return c.jsx(AE,{path:e,data:t});default:return c.jsx(FE,{nodeType:n})}};return c.jsxs("div",{className:"h-full flex flex-col",children:[i>0&&c.jsxs("div",{className:"shrink-0 px-4 py-2 bg-error/10 border-b border-error/20 flex items-center gap-2",children:[c.jsx(_r,{className:"w-4 h-4 text-error"}),c.jsxs("span",{className:"text-sm text-error",children:[i," validation ",i===1?"error":"errors"]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a()})]})}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function VE(e){if(Array.isArray(e))return e}function UE(e,t,n){return(t=ZE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HE(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,u,d=[],p=!0,m=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(p=(s=a.call(n)).done)&&(d.push(s.value),d.length!==t);p=!0);}catch(h){m=!0,i=h}finally{try{if(!p&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(m)throw i}}return d}}function qE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function o1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(n),!0).forEach(function(s){UE(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function BE(e,t){if(e==null)return{};var n,s,i=WE(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WE(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function GE(e,t){return VE(e)||HE(e,t)||YE(e,t)||qE()}function KE(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZE(e){var t=KE(e,"string");return typeof t=="symbol"?t:t+""}function YE(e,t){if(e){if(typeof e=="string")return r1(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r1(e,t):void 0}}function JE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function i1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(n),!0).forEach(function(s){JE(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function XE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){return t.reduceRight(function(i,a){return a(i)},s)}}function zs(e){return function t(){for(var n=this,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return t.apply(n,[].concat(i,d))}}}function ic(e){return{}.toString.call(e).includes("Object")}function QE(e){return!Object.keys(e).length}function ii(e){return typeof e=="function"}function e6(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t6(e,t){return ic(t)||hn("changeType"),Object.keys(t).some(function(n){return!e6(e,n)})&&hn("changeField"),t}function r6(e){ii(e)||hn("selectorType")}function n6(e){ii(e)||ic(e)||hn("handlerType"),ic(e)&&Object.values(e).some(function(t){return!ii(t)})&&hn("handlersType")}function o6(e){e||hn("initialIsRequired"),ic(e)||hn("initialType"),QE(e)&&hn("initialContent")}function s6(e,t){throw new Error(e[t]||e.default)}var i6={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},hn=zs(s6)(i6),Sl={changes:t6,selector:r6,handler:n6,initial:o6};function a6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sl.initial(e),Sl.handler(t);var n={current:e},s=zs(u6)(n,t),i=zs(c6)(n),a=zs(Sl.changes)(e),u=zs(l6)(n);function d(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return Sl.selector(m),m(n.current)}function p(m){XE(s,i,a,u)(m)}return[d,p]}function l6(e,t){return ii(t)?t(e.current):t}function c6(e,t){return e.current=i1(i1({},e.current),t),t}function u6(e,t,n){return ii(t)?t(e.current):Object.keys(n).forEach(function(s){var i;return(i=t[s])===null||i===void 0?void 0:i.call(t,e.current[s])}),n}var d6={create:a6},f6={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function p6(e){return function t(){for(var n=this,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return t.apply(n,[].concat(i,d))}}}function m6(e){return{}.toString.call(e).includes("Object")}function h6(e){return e||a1("configIsRequired"),m6(e)||a1("configType"),e.urls?(g6(),{paths:{vs:e.urls.monacoBase}}):e}function g6(){console.warn(Z2.deprecation)}function y6(e,t){throw new Error(e[t]||e.default)}var Z2={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},a1=p6(y6)(Z2),v6={config:h6},x6=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return function(i){return n.reduceRight(function(a,u){return u(a)},i)}};function Y2(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Y2(e[n],t[n]))}),o1(o1({},e),t)}var w6={type:"cancelation",msg:"operation is manually canceled"};function bf(e){var t=!1,n=new Promise(function(s,i){e.then(function(a){return t?i(w6):s(a)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var b6=["monaco"],C6=d6.create({config:f6,isInitialized:!1,resolve:null,reject:null,monaco:null}),J2=GE(C6,2),wi=J2[0],Zc=J2[1];function _6(e){var t=v6.config(e),n=t.monaco,s=BE(t,b6);Zc(function(i){return{config:Y2(i.config,s),monaco:n}})}function S6(){var e=wi(function(t){var n=t.monaco,s=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:s,resolve:i}});if(!e.isInitialized){if(Zc({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),bf(Cf);if(window.monaco&&window.monaco.editor)return X2(window.monaco),e.resolve(window.monaco),bf(Cf);x6(N6,E6)(k6)}return bf(Cf)}function N6(e){return document.body.appendChild(e)}function j6(e){var t=document.createElement("script");return e&&(t.src=e),t}function E6(e){var t=wi(function(s){var i=s.config,a=s.reject;return{config:i,reject:a}}),n=j6("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function k6(){var e=wi(function(n){var s=n.config,i=n.resolve,a=n.reject;return{config:s,resolve:i,reject:a}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var s=n.m||n;X2(s),e.resolve(s)},function(n){e.reject(n)})}function X2(e){wi().monaco||Zc({monaco:e})}function P6(){return wi(function(e){var t=e.monaco;return t})}var Cf=new Promise(function(e,t){return Zc({resolve:e,reject:t})}),Q2={config:_6,init:S6,__getMonacoInstance:P6},R6={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},_f=R6,$6={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},T6=$6;function O6({children:e}){return ot.createElement("div",{style:T6.container},e)}var M6=O6,A6=M6;function I6({width:e,height:t,isEditorReady:n,loading:s,_ref:i,className:a,wrapperProps:u}){return ot.createElement("section",{style:{..._f.wrapper,width:e,height:t},...u},!n&&ot.createElement(A6,null,s),ot.createElement("div",{ref:i,style:{..._f.fullWidth,...!n&&_f.hide},className:a}))}var D6=I6,ew=g.memo(D6);function L6(e){g.useEffect(e,[])}var tw=L6;function F6(e,t,n=!0){let s=g.useRef(!0);g.useEffect(s.current||!n?()=>{s.current=!1}:e,t)}var Lt=F6;function Ws(){}function Mo(e,t,n,s){return z6(e,s)||V6(e,t,n,s)}function z6(e,t){return e.editor.getModel(rw(e,t))}function V6(e,t,n,s){return e.editor.createModel(t,n,s?rw(e,s):void 0)}function rw(e,t){return e.Uri.parse(t)}function U6({original:e,modified:t,language:n,originalLanguage:s,modifiedLanguage:i,originalModelPath:a,modifiedModelPath:u,keepCurrentOriginalModel:d=!1,keepCurrentModifiedModel:p=!1,theme:m="light",loading:h="Loading...",options:v={},height:x="100%",width:b="100%",className:j,wrapperProps:S={},beforeMount:w=Ws,onMount:N=Ws}){let[C,E]=g.useState(!1),[P,k]=g.useState(!0),R=g.useRef(null),$=g.useRef(null),L=g.useRef(null),K=g.useRef(N),U=g.useRef(w),G=g.useRef(!1);tw(()=>{let se=Q2.init();return se.then(le=>($.current=le)&&k(!1)).catch(le=>(le==null?void 0:le.type)!=="cancelation"&&console.error("Monaco initialization: error:",le)),()=>R.current?ne():se.cancel()}),Lt(()=>{if(R.current&&$.current){let se=R.current.getOriginalEditor(),le=Mo($.current,e||"",s||n||"text",a||"");le!==se.getModel()&&se.setModel(le)}},[a],C),Lt(()=>{if(R.current&&$.current){let se=R.current.getModifiedEditor(),le=Mo($.current,t||"",i||n||"text",u||"");le!==se.getModel()&&se.setModel(le)}},[u],C),Lt(()=>{let se=R.current.getModifiedEditor();se.getOption($.current.editor.EditorOption.readOnly)?se.setValue(t||""):t!==se.getValue()&&(se.executeEdits("",[{range:se.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),se.pushUndoStop())},[t],C),Lt(()=>{var se,le;(le=(se=R.current)==null?void 0:se.getModel())==null||le.original.setValue(e||"")},[e],C),Lt(()=>{let{original:se,modified:le}=R.current.getModel();$.current.editor.setModelLanguage(se,s||n||"text"),$.current.editor.setModelLanguage(le,i||n||"text")},[n,s,i],C),Lt(()=>{var se;(se=$.current)==null||se.editor.setTheme(m)},[m],C),Lt(()=>{var se;(se=R.current)==null||se.updateOptions(v)},[v],C);let te=g.useCallback(()=>{var pe;if(!$.current)return;U.current($.current);let se=Mo($.current,e||"",s||n||"text",a||""),le=Mo($.current,t||"",i||n||"text",u||"");(pe=R.current)==null||pe.setModel({original:se,modified:le})},[n,t,i,e,s,a,u]),re=g.useCallback(()=>{var se;!G.current&&L.current&&(R.current=$.current.editor.createDiffEditor(L.current,{automaticLayout:!0,...v}),te(),(se=$.current)==null||se.editor.setTheme(m),E(!0),G.current=!0)},[v,m,te]);g.useEffect(()=>{C&&K.current(R.current,$.current)},[C]),g.useEffect(()=>{!P&&!C&&re()},[P,C,re]);function ne(){var le,pe,H,X;let se=(le=R.current)==null?void 0:le.getModel();d||((pe=se==null?void 0:se.original)==null||pe.dispose()),p||((H=se==null?void 0:se.modified)==null||H.dispose()),(X=R.current)==null||X.dispose()}return ot.createElement(ew,{width:b,height:x,isEditorReady:C,loading:h,_ref:L,className:j,wrapperProps:S})}var H6=U6;g.memo(H6);function q6(e){let t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}var B6=q6,Nl=new Map;function W6({defaultValue:e,defaultLanguage:t,defaultPath:n,value:s,language:i,path:a,theme:u="light",line:d,loading:p="Loading...",options:m={},overrideServices:h={},saveViewState:v=!0,keepCurrentModel:x=!1,width:b="100%",height:j="100%",className:S,wrapperProps:w={},beforeMount:N=Ws,onMount:C=Ws,onChange:E,onValidate:P=Ws}){let[k,R]=g.useState(!1),[$,L]=g.useState(!0),K=g.useRef(null),U=g.useRef(null),G=g.useRef(null),te=g.useRef(C),re=g.useRef(N),ne=g.useRef(),se=g.useRef(s),le=B6(a),pe=g.useRef(!1),H=g.useRef(!1);tw(()=>{let O=Q2.init();return O.then(I=>(K.current=I)&&L(!1)).catch(I=>(I==null?void 0:I.type)!=="cancelation"&&console.error("Monaco initialization: error:",I)),()=>U.current?B():O.cancel()}),Lt(()=>{var I,F,M,A;let O=Mo(K.current,e||s||"",t||i||"",a||n||"");O!==((I=U.current)==null?void 0:I.getModel())&&(v&&Nl.set(le,(F=U.current)==null?void 0:F.saveViewState()),(M=U.current)==null||M.setModel(O),v&&((A=U.current)==null||A.restoreViewState(Nl.get(a))))},[a],k),Lt(()=>{var O;(O=U.current)==null||O.updateOptions(m)},[m],k),Lt(()=>{!U.current||s===void 0||(U.current.getOption(K.current.editor.EditorOption.readOnly)?U.current.setValue(s):s!==U.current.getValue()&&(H.current=!0,U.current.executeEdits("",[{range:U.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),U.current.pushUndoStop(),H.current=!1))},[s],k),Lt(()=>{var I,F;let O=(I=U.current)==null?void 0:I.getModel();O&&i&&((F=K.current)==null||F.editor.setModelLanguage(O,i))},[i],k),Lt(()=>{var O;d!==void 0&&((O=U.current)==null||O.revealLine(d))},[d],k),Lt(()=>{var O;(O=K.current)==null||O.editor.setTheme(u)},[u],k);let X=g.useCallback(()=>{var O;if(!(!G.current||!K.current)&&!pe.current){re.current(K.current);let I=a||n,F=Mo(K.current,s||e||"",t||i||"",I||"");U.current=(O=K.current)==null?void 0:O.editor.create(G.current,{model:F,automaticLayout:!0,...m},h),v&&U.current.restoreViewState(Nl.get(I)),K.current.editor.setTheme(u),d!==void 0&&U.current.revealLine(d),R(!0),pe.current=!0}},[e,t,n,s,i,a,m,h,v,u,d]);g.useEffect(()=>{k&&te.current(U.current,K.current)},[k]),g.useEffect(()=>{!$&&!k&&X()},[$,k,X]),se.current=s,g.useEffect(()=>{var O,I;k&&E&&((O=ne.current)==null||O.dispose(),ne.current=(I=U.current)==null?void 0:I.onDidChangeModelContent(F=>{H.current||E(U.current.getValue(),F)}))},[k,E]),g.useEffect(()=>{if(k){let O=K.current.editor.onDidChangeMarkers(I=>{var M;let F=(M=U.current.getModel())==null?void 0:M.uri;if(F&&I.find(A=>A.path===F.path)){let A=K.current.editor.getModelMarkers({resource:F});P==null||P(A)}});return()=>{O==null||O.dispose()}}return()=>{}},[k,P]);function B(){var O,I;(O=ne.current)==null||O.dispose(),x?v&&Nl.set(a,U.current.saveViewState()):(I=U.current.getModel())==null||I.dispose(),U.current.dispose()}return ot.createElement(ew,{width:b,height:j,isEditorReady:k,loading:p,_ref:G,className:S,wrapperProps:w})}var G6=W6,K6=g.memo(G6),Z6=K6;function Sf({onClick:e,disabled:t,children:n,title:s,variant:i="default"}){const a="text-xs px-2 py-1 rounded flex items-center gap-1 transition-colors focus-ring disabled:opacity-50 disabled:cursor-not-allowed",u={default:"bg-accent hover:bg-border text-foreground",success:"bg-primary text-white",error:"bg-red-500 text-white"};return c.jsx("button",{onClick:e,disabled:t,title:s,className:`${a} ${u[i]}`,children:n})}function Y6({isValidJson:e,hasUnsavedChanges:t,onFormat:n,onCopy:s,onReset:i}){const[a,u]=g.useState("idle"),d=g.useCallback(async()=>{const h=await s();u(h?"success":"error"),setTimeout(()=>{u("idle")},2e3)},[s]),p=g.useCallback(()=>{n()},[n]),m=g.useCallback(()=>{i()},[i]);return c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rf,{className:"w-4 h-4 text-foreground-muted"}),c.jsx("span",{className:"text-xs text-foreground-muted",children:"JSON Editor"}),!e&&c.jsxs("span",{className:"text-xs text-red-500 flex items-center gap-1",children:[c.jsx(Bn,{className:"w-3 h-3"}),"Invalid JSON"]}),e&&t&&c.jsx("span",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Unsaved changes"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Sf,{onClick:p,disabled:!e,title:"Format JSON (Ctrl+Shift+F)",children:[c.jsx(Rf,{className:"w-3 h-3"}),"Format"]}),c.jsx(Sf,{onClick:d,title:"Copy to clipboard",variant:a==="success"?"success":a==="error"?"error":"default",children:a==="success"?c.jsxs(c.Fragment,{children:[c.jsx(Hn,{className:"w-3 h-3"}),"Copied!"]}):a==="error"?c.jsxs(c.Fragment,{children:[c.jsx(Bn,{className:"w-3 h-3"}),"Failed"]}):c.jsxs(c.Fragment,{children:[c.jsx(ap,{className:"w-3 h-3"}),"Copy"]})}),c.jsxs(Sf,{onClick:m,disabled:!t&&e,title:"Reset to last valid state",children:[c.jsx(G9,{className:"w-3 h-3"}),"Reset"]})]})]})}const J6={base:"vs",inherit:!0,rules:[{token:"string.key.json",foreground:"0451a5"},{token:"string.value.json",foreground:"a31515"},{token:"number",foreground:"098658"},{token:"keyword",foreground:"0000ff"},{token:"comment",foreground:"008000",fontStyle:"italic"},{token:"string",foreground:"a31515"},{token:"delimiter",foreground:"000000"},{token:"delimiter.bracket",foreground:"0431fa"}],colors:{"editor.background":"#ffffff","editor.foreground":"#1c1e21","editorLineNumber.foreground":"#606770","editorLineNumber.activeForeground":"#1c1e21","editorCursor.foreground":"#1c1e21","editor.selectionBackground":"#add6ff","editor.selectionHighlightBackground":"#add6ff80","editor.lineHighlightBackground":"#f5f6f7","editor.lineHighlightBorder":"#00000000","editorBracketMatch.background":"#b8d7e580","editorBracketMatch.border":"#2e8555","editorGutter.background":"#ffffff","editorGutter.modifiedBackground":"#2e8555","editorGutter.addedBackground":"#2e8555","editorGutter.deletedBackground":"#ca6c60","editorError.foreground":"#e51400","editorWarning.foreground":"#bf8803","editorInfo.foreground":"#75beff","scrollbar.shadow":"#dddddd","scrollbarSlider.background":"#64646433","scrollbarSlider.hoverBackground":"#646464b3","scrollbarSlider.activeBackground":"#00000099","editorWidget.background":"#f5f6f7","editorWidget.border":"#dadde1",focusBorder:"#2e8555"}},l1="docusaurus-light",X6={base:"vs-dark",inherit:!0,rules:[{token:"string.key.json",foreground:"9cdcfe"},{token:"string.value.json",foreground:"ce9178"},{token:"number",foreground:"b5cea8"},{token:"keyword",foreground:"569cd6"},{token:"comment",foreground:"6a9955",fontStyle:"italic"},{token:"string",foreground:"ce9178"},{token:"delimiter",foreground:"d4d4d4"},{token:"delimiter.bracket",foreground:"ffd700"}],colors:{"editor.background":"#1b1b1d","editor.foreground":"#e3e3e3","editorLineNumber.foreground":"#858585","editorLineNumber.activeForeground":"#e3e3e3","editorCursor.foreground":"#e3e3e3","editor.selectionBackground":"#264f78","editor.selectionHighlightBackground":"#264f7850","editor.lineHighlightBackground":"#242526","editor.lineHighlightBorder":"#00000000","editorBracketMatch.background":"#0d6e4c50","editorBracketMatch.border":"#3ba164","editorGutter.background":"#1b1b1d","editorGutter.modifiedBackground":"#3ba164","editorGutter.addedBackground":"#3ba164","editorGutter.deletedBackground":"#ca6c60","editorError.foreground":"#f14c4c","editorWarning.foreground":"#cca700","editorInfo.foreground":"#3794ff","scrollbar.shadow":"#000000","scrollbarSlider.background":"#79797966","scrollbarSlider.hoverBackground":"#646464b3","scrollbarSlider.activeBackground":"#bfbfbf66","editorWidget.background":"#242526","editorWidget.border":"#3e4042",focusBorder:"#3ba164"}},c1="docusaurus-dark",Q6={minimap:{enabled:!1},lineNumbers:"on",lineNumbersMinChars:3,glyphMargin:!0,folding:!0,foldingStrategy:"auto",showFoldingControls:"always",formatOnPaste:!0,formatOnType:!0,tabSize:2,insertSpaces:!0,wordWrap:"on",scrollBeyondLastLine:!1,automaticLayout:!0,scrollbar:{vertical:"auto",horizontal:"auto",verticalScrollbarSize:10,horizontalScrollbarSize:10},autoClosingBrackets:"always",autoClosingQuotes:"always",autoIndent:"full",bracketPairColorization:{enabled:!0},quickSuggestions:{strings:!0,other:!0,comments:!1},readOnly:!1,domReadOnly:!1,accessibilitySupport:"auto",largeFileOptimizations:!0,maxTokenizationLineLength:2e4},ek="https://x-fidelity.dev/schemas/rule.json";function tk(){return Ox}function u1(){return typeof document>"u"?!1:document.documentElement.classList.contains("dark")}function rk(){const[e,t]=g.useState(!1),[n,s]=g.useState(u1);return g.useEffect(()=>{const u=new MutationObserver(d=>{for(const p of d)p.attributeName==="class"&&s(u1())});return u.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>u.disconnect()},[]),{configureMonaco:g.useCallback(u=>{u.editor.defineTheme(l1,J6),u.editor.defineTheme(c1,X6),u.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!1,schemas:[{uri:ek,fileMatch:["*"],schema:tk()}],enableSchemaRequest:!1,schemaValidation:"error"}),u.languages.json.jsonDefaults.setModeConfiguration({documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0}),t(!0)},[]),currentTheme:n?c1:l1,isConfigured:e}}function d1(e){try{return{parsed:JSON.parse(e),error:null}}catch(t){const n=t,s=n.message.match(/position\s+(\d+)/i),i=n.message.match(/line\s+(\d+)\s+column\s+(\d+)/i);let a,u;if(i&&i[1]&&i[2])a=parseInt(i[1],10),u=parseInt(i[2],10);else if(s&&s[1]){const d=parseInt(s[1],10),p=e.substring(0,d).split(`
`);a=p.length;const m=p[p.length-1];u=((m==null?void 0:m.length)??0)+1}return{parsed:null,error:{message:n.message.replace("JSON.parse: ",""),line:a,column:u}}}}function nk(){const e=ke(qN),t=ke(rc(P=>({source:P.lastUpdateSource,time:P.lastUpdateTime}))),n=ke(P=>P.setRule),[s,i]=g.useState(""),[a,u]=g.useState(""),[d,p]=g.useState(null),m=g.useRef(""),h=g.useRef(null),v=g.useRef(!1),x=g.useRef(null),b=g.useCallback(P=>{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{const{parsed:k,error:R}=d1(P);if(R){p(R);return}p(null),u(P),v.current=!0,n(k,"json"),v.current=!1},Ur.JSON_EDITOR)},[n]);g.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]),g.useEffect(()=>{if(t.source==="json"&&!v.current)return;const P=e?JSON.stringify(e,null,2):"";P!==m.current&&(m.current=P,h.current=t.source,i(P),u(P),p(null))},[e,t]);const j=g.useCallback(P=>{P!==void 0&&(i(P),b(P))},[b]),S=g.useCallback(()=>{const{parsed:P,error:k}=d1(s);if(k)return p(k),!1;const R=JSON.stringify(P,null,2);return i(R),u(R),p(null),!0},[s]),w=g.useCallback(async()=>{try{return await navigator.clipboard.writeText(s),!0}catch{try{const P=document.createElement("textarea");return P.value=s,P.style.position="fixed",P.style.opacity="0",document.body.appendChild(P),P.select(),document.execCommand("copy"),document.body.removeChild(P),!0}catch{return!1}}},[s]),N=g.useCallback(()=>{a&&(i(a),p(null),x.current&&(clearTimeout(x.current),x.current=null))},[a]);return{localValue:s,lastValidValue:a,parseError:d,hasUnsavedChanges:s!==a,handleChange:j,formatJson:S,copyToClipboard:w,resetToValid:N,isValidJson:d===null}}function ok({readOnly:e=!1,className:t=""}){const{configureMonaco:n,currentTheme:s}=rk(),{localValue:i,parseError:a,hasUnsavedChanges:u,handleChange:d,formatJson:p,copyToClipboard:m,resetToValid:h,isValidJson:v}=nk(),x=g.useRef(null),b=g.useCallback(S=>{x.current=S,S.focus(),S.addCommand(3108,()=>{p()})},[p]),j={...Q6,readOnly:e,domReadOnly:e};return c.jsxs("div",{className:`h-full flex flex-col ${t}`,children:[c.jsx(Y6,{isValidJson:v,hasUnsavedChanges:u,onFormat:p,onCopy:m,onReset:h}),c.jsx("div",{className:"flex-1 rounded-lg overflow-hidden border border-border min-h-0",children:c.jsx(Z6,{height:"100%",language:"json",value:i,onChange:d,onMount:b,beforeMount:n,theme:s,options:j,loading:c.jsx("div",{className:"flex items-center justify-center h-full text-foreground-muted",children:c.jsx("span",{className:"text-sm",children:"Loading editor..."})})})}),a&&c.jsxs("div",{className:"mt-2 px-3 py-2 rounded bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-800",children:[c.jsxs("div",{className:"text-xs text-red-700 dark:text-red-400 font-medium",children:["JSON Parse Error",a.line&&a.column&&c.jsxs("span",{className:"font-normal ml-2",children:["(Line ",a.line,", Column ",a.column,")"]})]}),c.jsx("div",{className:"text-xs text-red-600 dark:text-red-300 mt-1",children:a.message})]}),c.jsx("div",{className:"mt-2 text-xs text-foreground-muted",children:c.jsx("span",{className:"opacity-60",children:"Ctrl+Shift+F to format  Schema validation enabled"})})]})}function Nf(e){var t;if(e.event)return{type:e.event.type,message:((t=e.event.params)==null?void 0:t.message)||"No message specified",details:e.event.params}}const f1={trace:0,debug:1,info:2,warn:3,error:4};function nw(e={},t={}){const{minLevel:n="info",outputToConsole:s=!0,onLog:i}=e,a=m=>f1[m]>=f1[n],u=(m,h,v)=>{const b=`[${new Date().toISOString()}] [${m.toUpperCase()}]`;if(Object.keys(t).length>0){const j=JSON.stringify(t);return v&&Object.keys(v).length>0?`${b} ${j} ${h} ${JSON.stringify(v)}`:`${b} ${j} ${h}`}return v&&Object.keys(v).length>0?`${b} ${h} ${JSON.stringify(v)}`:`${b} ${h}`},d=(m,h,v)=>{if(!a(m))return;const x=u(m,h,v);if(i&&i({level:m,message:h,timestamp:new Date,meta:{...t,...v}}),s)switch(m){case"trace":case"debug":console.debug(x);break;case"info":console.info(x);break;case"warn":console.warn(x);break;case"error":console.error(x);break}};return{trace:(m,h)=>d("trace",m,h),debug:(m,h)=>d("debug",m,h),info:(m,h)=>d("info",m,h),warn:(m,h)=>d("warn",m,h),error:(m,h)=>d("error",m,h),child(m){return nw(e,{...t,...m})}}}const ie=nw({minLevel:"debug",outputToConsole:!0});function sk(e,t,n=ie){const s=new Map;return{_runtimeFacts:s,_currentFileData:t,_fixtureData:e,async factValue(a){if(s.has(a))return n.debug(`Almanac: Retrieved runtime fact '${a}'`),s.get(a);if(a==="fileData"&&t)return t;if(a==="repoFilesystemFacts"){const u=[];for(const[d,p]of e.files.entries()){const m=d.split("/").pop()||d;u.push({fileName:m,filePath:d,fileContent:p,content:p,relativePath:d})}return u}n.debug(`Almanac: Fact '${a}' not found, returning undefined`)},addRuntimeFact(a,u){n.debug(`Almanac: Adding runtime fact '${a}'`),s.set(a,u)}}}function ik(e=ie){const t=new Map,n=new Map,s=new Map;return{plugins:t,facts:n,operators:s,registerPlugin(a){e.info(`Registering browser plugin: ${a.name}`),t.set(a.name,a);for(const[u,d]of a.facts.entries())n.set(u,d),e.debug(`  Registered fact: ${u}`);for(const[u,d]of a.operators.entries())s.set(u,d),e.debug(`  Registered operator: ${u}`)},getPlugin(a){return t.get(a)},getFact(a){return n.get(a)},getOperator(a){return s.get(a)},async initializeAll(a){e.info(`Initializing ${t.size} browser plugins with fixture data`);for(const[u,d]of t.entries())try{await d.initialize(a),e.debug(`  Initialized plugin: ${u}`)}catch(p){throw e.error(`  Failed to initialize plugin ${u}: ${p}`),p}}}}async function ak(e,t,n,s,i=ie){const a=s.getFact(e);if(!a){i.warn(`Fact '${e}' not found in registry`);return}i.debug(`Executing fact: ${e}`);const u=performance.now();try{const d=await a.calculate(t,n),p=performance.now()-u;return i.debug(`Fact '${e}' completed in ${p.toFixed(2)}ms`),d}catch(d){throw i.error(`Error executing fact '${e}': ${d}`),d}}const p1={name:"fileData",description:"Returns file data for the current file in iterative analysis",type:"iterative-function",priority:15,async calculate(e,t){return t._currentFileData?(ie.debug(`fileDataFact: Returning current file data for ${t._currentFileData.fileName}`),t._currentFileData):(ie.debug("fileDataFact: No current file data available"),null)}},m1={name:"repoFilesystemFacts",description:"Collects and returns all file data from the fixture",type:"global",priority:15,async calculate(e,t){const n=t._fixtureData;if(!n)return ie.warn("repoFilesystemFact: No fixture data available"),[];const s=[];for(const[i,a]of n.files.entries()){const u=i.split("/").pop()||i;s.push({fileName:u,filePath:i,fileContent:a,content:a,relativePath:i})}return ie.debug(`repoFilesystemFact: Collected ${s.length} files`),s}},h1={name:"repoFileAnalysis",description:"Performs pattern analysis on file content",type:"iterative-function",priority:1,async calculate(e,t){const n=e,s=await t.factValue("fileData");if(!s||!s.fileContent)return{result:[],matches:[],summary:{totalMatches:0,patterns:[],hasPositionData:!0}};const i=Array.isArray(n.checkPattern)?n.checkPattern:n.checkPattern?[n.checkPattern]:[];if(i.length===0)return{result:[],matches:[],summary:{totalMatches:0,patterns:i,hasPositionData:!0}};const a=n.captureGroups||!1,u=n.contextLength||50,d=[],p=s.fileContent.split(`
`);for(let h=0;h<p.length;h++){const v=p[h]||"";for(const x of i)try{const b=new RegExp(x,"g");let j;for(;(j=b.exec(v))!==null;){const S=j.index+1,w=S+j[0].length;let N=v;if(u>0&&u<v.length){const E=Math.max(0,j.index-Math.floor(u/2)),P=Math.min(v.length,j.index+j[0].length+Math.floor(u/2));N=v.substring(E,P),E>0&&(N="..."+N),P<v.length&&(N=N+"...")}const C={start:{line:h+1,column:S},end:{line:h+1,column:w}};d.push({pattern:x,match:j[0],range:C,context:N,groups:a&&j.length>1?j.slice(1):void 0}),j[0].length===0&&b.lastIndex++}}catch(b){ie.error(`Pattern error: ${x} - ${b}`)}}const m=d.map(h=>({match:h.pattern,lineNumber:h.range.start.line,line:h.context||""}));return n.resultFact&&t.addRuntimeFact(n.resultFact,m),{result:m,matches:d,summary:{totalMatches:d.length,patterns:i,hasPositionData:!0}}}},g1={name:"fileContains",description:"Checks if a file contains pattern matches",evaluate(e,t){try{if(ie.debug(`fileContains: processing factValue type: ${typeof e}`),!e)return ie.debug("fileContains: factValue is null/undefined"),!1;let n=!1;const s=e;if(s.result&&Array.isArray(s.result))n=s.result.length>0,ie.debug(`fileContains: found ${s.result.length} matches in result array`);else if(Array.isArray(e))n=e.length>0,ie.debug(`fileContains: found ${e.length} matches in direct array`);else if(typeof e=="string")n=e.length>0,ie.debug(`fileContains: treating factValue as string with length ${e.length}`);else if(typeof e=="boolean")n=e,ie.debug(`fileContains: treating factValue as boolean: ${e}`);else return ie.debug(`fileContains: unexpected factValue type: ${typeof e}`),!1;const i=n===!!t;return ie.debug(`fileContains: hasMatches=${n}, expectedValue=${t}, result=${i}`),i}catch(n){return ie.error(`fileContains error: ${n}`),!1}}},y1={name:"fileContainsWithPosition",description:"Checks if a file contains pattern matches with position information",evaluate(e,t){try{if(!e)return!1;const n=e;return n.matches&&Array.isArray(n.matches)?n.matches.filter(a=>a.range).length>0===!!t:!1}catch(n){return ie.error(`fileContainsWithPosition error: ${n}`),!1}}},v1={name:"missingRequiredFiles",description:"Checks if the number of missing required files exceeds a threshold",evaluate(e,t){try{ie.debug(`missingRequiredFiles: processing ${typeof e}`);const n=e;if(!n||!Array.isArray(n.missing))return ie.debug("missingRequiredFiles: factValue is invalid"),!1;const s=typeof t=="number"?t:0,i=n.missing.length>s;return ie.debug(`missingRequiredFiles: ${n.missing.length} missing files, threshold ${s}, result ${i}`),i}catch(n){return ie.error(`missingRequiredFiles error: ${n}`),!1}}},x1={name:"nonStandardDirectoryStructure",description:"Checks if the directory structure deviates from expected standards",evaluate(e,t){try{if(ie.debug(`nonStandardDirectoryStructure: processing ${typeof e}`),typeof e=="boolean")return e===!!t;if(e&&typeof e=="object"){const n=e,s=n.nonStandard===!0||Array.isArray(n.issues)&&n.issues.length>0;return ie.debug(`nonStandardDirectoryStructure: hasIssues=${s}`),s===!!t}return!1}catch(n){return ie.error(`nonStandardDirectoryStructure error: ${n}`),!1}}};function lk(){const e=new Map,t=new Map;return e.set(p1.name,p1),e.set(m1.name,m1),e.set(h1.name,h1),t.set(g1.name,g1),t.set(y1.name,y1),t.set(v1.name,v1),t.set(x1.name,x1),{name:"browserFilesystemPlugin",version:"1.0.0",description:"Browser-compatible filesystem plugin for X-Fidelity Rule Builder",facts:e,operators:t,async initialize(s){ie.info(`Initializing browserFilesystemPlugin with ${s.files.size} files`)},async cleanup(){ie.debug("Cleaning up browserFilesystemPlugin")}}}const ck=lk();function uk(e){const t=[],n=(s,i)=>{if(!(!s||typeof s!="object")){for(const[a,u]of Object.entries(s))if(typeof u=="string"){const d=u.replace(/^[\^~>=<]+/,"");t.push({name:a,version:d}),ie.debug(`Found ${i}: ${a}@${d}`)}}};return n(e.dependencies,"dependency"),n(e.devDependencies,"devDependency"),n(e.peerDependencies,"peerDependency"),t}function dk(e,t){const n=[];for(const s of e){const i=t[s.name]||t[`@${s.name}`];i&&n.push({dep:s.name,ver:s.version,min:i})}return n}function fk(e,t){const n=e.replace(/^[\^~>=<]+/,""),s=t.replace(/^[\^~>=<]+/,""),i=n.split(".").map(u=>parseInt(u,10)||0),a=s.split(".").map(u=>parseInt(u,10)||0);for(;i.length<3;)i.push(0);for(;a.length<3;)a.push(0);for(let u=0;u<3;u++){const d=i[u]??0,p=a[u]??0;if(d>p)return!0;if(d<p)return!1}return!0}const w1={name:"repoDependencyVersions",description:"Extracts dependency versions from package.json",type:"global",priority:10,async calculate(e,t){var p,m;const n=t._fixtureData;if(!n)return ie.warn("repoDependencyVersionsFact: No fixture data available"),[];const s=n.packageJson;if(!s)return ie.warn("repoDependencyVersionsFact: No package.json in fixture data"),[];const i=e,a=((m=(p=i==null?void 0:i.archetypeConfig)==null?void 0:p.config)==null?void 0:m.minimumDependencyVersions)||{},u=uk(s);ie.debug(`repoDependencyVersionsFact: Found ${u.length} dependencies`);const d=dk(u,a);return ie.debug(`repoDependencyVersionsFact: ${d.length} dependencies match minimum version requirements`),d}},b1={name:"repoDependencyAnalysis",description:"Analyzes dependencies for outdated versions",type:"global-function",priority:8,async calculate(e,t){const n=e,s=await t.factValue("repoDependencyVersions");if(!s||s.length===0)return ie.debug("repoDependencyAnalysisFact: No installed versions found"),[];const i=[];for(const a of s)if(!fk(a.ver,a.min)){const d={dependency:a.dep,currentVersion:a.ver,requiredVersion:a.min};ie.debug(`Dependency failure: ${JSON.stringify(d)}`),i.push(d)}return n!=null&&n.resultFact&&t.addRuntimeFact(n.resultFact,i),ie.debug(`repoDependencyAnalysisFact: Found ${i.length} outdated dependencies`),i}},C1={name:"outdatedFramework",description:"Checks if project uses outdated framework versions",evaluate(e,t){try{if(ie.debug(`outdatedFramework: processing ${typeof e}`),!e||!Array.isArray(e))return ie.debug("outdatedFramework: factValue is not an array"),!1;const n=e.some(s=>{const i=s;return!i||typeof i!="object"||!i.dependency||!i.currentVersion||!i.requiredVersion?!1:i.currentVersion!==i.requiredVersion});return ie.debug(`outdatedFramework: result is ${n}`),typeof t=="boolean"?n===t:n}catch(n){return ie.error(`outdatedFramework error: ${n}`),!1}}};function pk(){const e=new Map,t=new Map;return e.set(w1.name,w1),e.set(b1.name,b1),t.set(C1.name,C1),{name:"browserDependencyPlugin",version:"1.0.0",description:"Browser-compatible dependency plugin for X-Fidelity Rule Builder",facts:e,operators:t,async initialize(s){const i=Object.keys(s.packageJson.dependencies||{}).length,a=Object.keys(s.packageJson.devDependencies||{}).length;ie.info(`Initializing browserDependencyPlugin with ${i} deps, ${a} devDeps`)},async cleanup(){ie.debug("Cleaning up browserDependencyPlugin")}}}const mk=pk(),hk="modulepreload",gk=function(e){return"/x-fidelity/rule-builder/"+e},_1={},ow=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){let u=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=u(n.map(m=>{if(m=gk(m),m in _1)return;_1[m]=!0;const h=m.endsWith(".css"),v=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":hk,h||(x.as="script"),x.crossOrigin="",x.href=m,p&&x.setAttribute("nonce",p),document.head.appendChild(x),h)return new Promise((b,j)=>{x.addEventListener("load",b),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})};let Le=null,ac=!1,Oo=null;const Ml=new Map,sw="/x-fidelity/rule-builder/wasm",yk={javascript:"tree-sitter-javascript.wasm",typescript:"tree-sitter-typescript.wasm",tsx:"tree-sitter-tsx.wasm"};function vk(e){var n;switch((n=e.split(".").pop())==null?void 0:n.toLowerCase()){case"js":case"mjs":case"cjs":return"javascript";case"jsx":return"javascript";case"ts":return"typescript";case"tsx":return"tsx";default:return null}}async function Yc(){return ac&&Le?Le:Oo?(await Oo,Le):(Oo=(async()=>{try{ie.info("Initializing web-tree-sitter...");const e=await ow(()=>import("./tree-sitter-DEPKwoL4.js").then(t=>t.t),__vite__mapDeps([0,1]));if(Le=e.default??e,Le&&typeof Le!="function"&&typeof Le.init!="function"&&(typeof Le.Parser=="function"?Le=Le.Parser:typeof Le.TreeSitter=="function"&&(Le=Le.TreeSitter)),typeof(Le==null?void 0:Le.init)!="function")throw ie.error("web-tree-sitter module structure:",{type:typeof Le,keys:Le?Object.keys(Le):[],hasInit:typeof(Le==null?void 0:Le.init)}),new Error(`Parser.init is not a function. Got: ${typeof(Le==null?void 0:Le.init)}`);await Le.init({locateFile:t=>{const n=`${sw}/${t}`;return ie.debug(`Locating WASM file: ${t} -> ${n}`),n}}),ac=!0,ie.info("web-tree-sitter initialized successfully")}catch(e){throw ie.error(`Failed to initialize web-tree-sitter: ${e}`),Oo=null,e}})(),await Oo,Le)}async function xk(e){if(Ml.has(e))return Ml.get(e);await Yc();const t=yk[e],n=`${sw}/${t}`;try{ie.debug(`Loading language parser: ${e} from ${n}`);const s=await Le.Language.load(n);return Ml.set(e,s),ie.debug(`Language parser loaded: ${e}`),s}catch(s){throw ie.error(`Failed to load language parser ${e}: ${s}`),s}}async function wk(e){await Yc();const t=await xk(e),n=new Le;return n.setLanguage(t),n}async function bk(e,t){var n;try{const i=(await wk(t)).parse(e);return{tree:i,hasErrors:((n=i.rootNode)==null?void 0:n.hasError())||!1}}catch(s){return ie.error(`Failed to parse code as ${t}: ${s}`),null}}function iw(){return ac&&Le!==null}function Ck(){ac=!1,Oo=null,Le=null,Ml.clear()}const S1={name:"ast",description:"Parses source code into an AST using web-tree-sitter",type:"iterative-function",priority:1,async calculate(e,t){const n=performance.now(),s=e;try{const i=await t.factValue("fileData");if(!i)return ie.debug("AST Fact: No fileData available"),{tree:null,reason:"No file data available"};if(i.ast)return ie.debug(`AST Fact: Using precomputed AST for ${i.fileName}`),s!=null&&s.resultFact&&t.addRuntimeFact(s.resultFact,i.ast),i.ast;const a=i.content||i.fileContent;if(!a||typeof a!="string")return ie.debug(`AST Fact: No valid content for ${i.fileName}`),{tree:null,reason:"No valid file content"};const u=vk(i.filePath||i.fileName);if(!u)return ie.debug(`AST Fact: Unsupported file type for ${i.fileName}`),{tree:null,reason:"Unsupported file type for AST parsing",fileName:i.fileName,filePath:i.filePath};if(!iw())return ie.warn("AST Fact: Tree-sitter not initialized, cannot parse"),{tree:null,reason:"Tree-sitter not initialized",language:u,fileName:i.fileName,filePath:i.filePath};const d=await bk(a,u),p=performance.now()-n;if(!d||!d.tree)return ie.warn(`AST Fact: Failed to parse ${i.fileName}`),{tree:null,reason:"AST parsing failed",language:u,generationTime:p,fileName:i.fileName,filePath:i.filePath};const m={tree:d.tree,rootNode:d.tree.rootNode,language:u,hasErrors:d.hasErrors,generationTime:p,fileName:i.fileName,filePath:i.filePath};return ie.debug(`AST Fact: Parsed ${i.fileName} in ${p.toFixed(2)}ms`),s!=null&&s.resultFact&&t.addRuntimeFact(s.resultFact,m),m}catch(i){const a=performance.now()-n;return ie.error(`AST Fact: Exception after ${a.toFixed(2)}ms - ${i}`),{tree:null,reason:`Exception: ${i}`}}}};function _k(e){return e.type==="function_declaration"||e.type==="method_definition"||e.type==="arrow_function"||e.type==="function_expression"||e.type==="function"}function Sk(e){const t=e.children.find(n=>n.type==="identifier"||n.type==="property_identifier");return t?t.text:"anonymous"}function Nk(e){let t=1;function n(s){switch(s.type){case"if_statement":case"while_statement":case"do_statement":case"for_statement":case"for_in_statement":case"for_of_statement":case"ternary_expression":case"switch_case":case"catch_clause":t++;break;case"binary_expression":{s.children.find(a=>a.type==="&&"||a.type==="||"||a.text==="&&"||a.text==="||")&&t++;break}}for(const i of s.children)n(i)}return n(e),t}function jk(e){let t=0,n=0;function s(i){switch(i.type){case"if_statement":case"while_statement":case"do_statement":case"for_statement":case"for_in_statement":case"for_of_statement":t+=n+1,n++;for(const a of i.children)s(a);n--;return;case"catch_clause":case"ternary_expression":t+=n+1;break;case"binary_expression":{i.children.find(u=>u.type==="&&"||u.type==="||"||u.text==="&&"||u.text==="||")&&(t+=n+1);break}}for(const a of i.children)s(a)}return s(e),t}function Ek(e){let t=0,n=0;function s(i){switch(i.type){case"if_statement":case"while_statement":case"do_statement":case"for_statement":case"for_in_statement":case"for_of_statement":case"switch_case":case"catch_clause":n++,t=Math.max(t,n);for(const a of i.children)s(a);n--;return}for(const a of i.children)s(a)}return s(e),t}function kk(e){const t=e.children.find(n=>n.type==="formal_parameters"||n.type==="parameters");return t?t.children.filter(n=>n.type==="identifier"||n.type==="parameter"||n.type==="required_parameter"||n.type==="optional_parameter").length:0}function Pk(e){let t=0;function n(s){s.type==="return_statement"&&t++;for(const i of s.children)n(i)}return n(e),t}function Rk(e){return{name:Sk(e),cyclomaticComplexity:Nk(e),cognitiveComplexity:jk(e),nestingDepth:Ek(e),parameterCount:kk(e),returnCount:Pk(e),lineCount:e.endPosition.row-e.startPosition.row+1,location:{startLine:e.startPosition.row+1,endLine:e.endPosition.row+1,startColumn:e.startPosition.column+1,endColumn:e.endPosition.column+1}}}const N1={name:"functionComplexity",description:"Calculates complexity metrics for functions in the codebase",type:"iterative-function",priority:2,async calculate(e,t){const n=e;try{let s=function(v){const x=`${v.startPosition.row}-${v.startPosition.column}-${v.type}`;if(!d.has(x)){if(d.add(x),_k(v)){const b=Rk(v);u.push(b)}for(const b of v.children||[])s(b)}};const i=await t.factValue("fileData");if(!i)return ie.debug("functionComplexityFact: No fileData available"),{complexities:[]};if(!i.content&&!i.fileContent)return ie.debug("functionComplexityFact: No file content available"),{complexities:[]};let a=null;try{a=await t.factValue("ast")}catch{ie.debug("functionComplexityFact: AST fact not available")}if(!a||!a.tree)return ie.debug("functionComplexityFact: No AST available"),{complexities:[]};const u=[],d=new Set,p=a.tree;p.rootNode?s(p.rootNode):p&&s(p);let m=u.map(v=>({name:v.name,metrics:v}));if(n!=null&&n.thresholds){const v=n.thresholds;ie.debug("Filtering functions against thresholds"),m=m.filter(x=>{const b=x.metrics;return v.cyclomaticComplexity!==void 0&&b.cyclomaticComplexity>=v.cyclomaticComplexity||v.cognitiveComplexity!==void 0&&b.cognitiveComplexity>=v.cognitiveComplexity||v.nestingDepth!==void 0&&b.nestingDepth>=v.nestingDepth||v.parameterCount!==void 0&&b.parameterCount>=v.parameterCount||v.returnCount!==void 0&&b.returnCount>=v.returnCount}),ie.debug(`Filtered to ${m.length} complex functions`)}const h={complexities:m};return n!=null&&n.resultFact&&t.addRuntimeFact(n.resultFact,h),h}catch(s){return ie.error(`functionComplexityFact error: ${s}`),{complexities:[]}}}},j1={name:"astComplexity",description:"Checks if AST complexity metrics exceed specified thresholds",evaluate(e,t){var n;try{const s=e;if(!((n=s==null?void 0:s.complexities)!=null&&n.length))return ie.debug("astComplexity: No complexity data available"),!1;if(t===!0)return ie.debug(`astComplexity: Found ${s.complexities.length} complex functions (pre-filtered)`),!0;if(t===!1)return!1;const i=t;return ie.debug("astComplexity: Checking against thresholds (legacy mode)"),s.complexities.some(u=>{const d=u.metrics;if(!d)return!1;const p=i.cyclomaticComplexity!==void 0&&d.cyclomaticComplexity>=i.cyclomaticComplexity||i.cognitiveComplexity!==void 0&&d.cognitiveComplexity>=i.cognitiveComplexity||i.nestingDepth!==void 0&&d.nestingDepth>=i.nestingDepth||i.parameterCount!==void 0&&d.parameterCount>=i.parameterCount||i.returnCount!==void 0&&d.returnCount>=i.returnCount;return p&&ie.debug(`Function ${u.name} exceeds thresholds`),p})}catch(s){return ie.error(`astComplexity error: ${s}`),!1}}},E1={name:"functionCount",description:"Checks if function count meets criteria",evaluate(e,t){try{const n=e,s=(n==null?void 0:n.count)??0;if(typeof t=="number")return s===t;const i=t;if((i==null?void 0:i.threshold)!==void 0){const a=i.threshold;switch(i.comparison||"gte"){case"gte":return s>=a;case"lte":return s<=a;case"eq":return s===a;case"gt":return s>a;case"lt":return s<a;default:return s>=a}}return s>0}catch(n){return ie.error(`functionCount error: ${n}`),!1}}};function $k(){const e=new Map,t=new Map;return e.set(S1.name,S1),e.set(N1.name,N1),t.set(j1.name,j1),t.set(E1.name,E1),{name:"browserAstPlugin",version:"1.0.0",description:"Browser-compatible AST plugin for X-Fidelity Rule Builder",facts:e,operators:t,async initialize(s){ie.info(`Initializing browserAstPlugin with ${s.files.size} files`);try{await Yc(),ie.info("web-tree-sitter initialized for AST parsing")}catch(i){ie.warn(`Failed to initialize web-tree-sitter: ${i}`),ie.warn("AST-based facts will be limited")}},async cleanup(){ie.debug("Cleaning up browserAstPlugin"),Ck()}}}const Tk=$k();function Ok(e){const t=new Set,n=new Set;function s(i,a){i.type==="identifier"?a.has(i.text)||t.add(i.text):(i.type==="variable_declaration"||i.type==="variable_declarator")&&i.children.filter(d=>d.type==="identifier").forEach(d=>a.add(d.text));for(const u of i.children||[])s(u,a)}return s(e,n),Array.from(t)}function Mk(e,t,n){const s=[];function i(a){if(a.type==="call_expression"){const u=a.children.find(d=>d.type==="identifier");if(u&&(u.text==="useEffect"||u.text==="useMemo"||u.text==="useCallback"||u.text==="useLayoutEffect")){const d=a.children.find(p=>p.type==="arguments");if(d){const p=d.children.find(x=>x.type==="arrow_function"||x.type==="function_expression"),m=d.children.find(x=>x.type==="array"),h=p?Ok(p):[],v=[];m&&m.children.forEach(x=>{x.type==="identifier"&&v.push(x.text)}),s.push({hookName:u.text,dependencies:v,usedVariables:h,location:a.startPosition})}}}for(const u of a.children||[])i(u)}return i(e),s}const k1={name:"hookDependency",description:"Analyzes React hook dependencies",type:"iterative-function",priority:2,async calculate(e,t){var n;try{const s=await t.factValue("fileData");if(!s)return ie.debug("hookDependencyFact: No fileData available"),{missingDependencies:[],unnecessaryDependencies:[],hooks:[]};const i=(n=(s.filePath||s.fileName).split(".").pop())==null?void 0:n.toLowerCase();if(!["jsx","tsx"].includes(i||""))return ie.debug("hookDependencyFact: Not a JSX/TSX file"),{missingDependencies:[],unnecessaryDependencies:[],hooks:[]};let a=null;try{a=await t.factValue("ast")}catch{ie.debug("hookDependencyFact: AST not available")}if(!a||!a.tree)return ie.debug("hookDependencyFact: No AST available"),{missingDependencies:[],unnecessaryDependencies:[],hooks:[]};const u=a.tree,d=u.rootNode||u,p=Mk(d,s.fileName,s.filePath),m=[],h=[],v=[];for(const x of p){const b=x.usedVariables.filter(w=>!x.dependencies.includes(w)),j=x.dependencies.filter(w=>!x.usedVariables.includes(w)),S=b.filter(w=>!["console","window","document","setTimeout","setInterval","clearTimeout","clearInterval","fetch","JSON","Math","Date","Promise","Array","Object","String","Number","Boolean","undefined","null","true","false","useState","useEffect","useMemo","useCallback","useRef","useContext","useReducer","useLayoutEffect"].includes(w));m.push(...S),h.push(...j),v.push({hookName:x.hookName,missing:S,unnecessary:j,location:x.location})}return ie.debug(`hookDependencyFact: Analyzed ${p.length} hooks`),{missingDependencies:[...new Set(m)],unnecessaryDependencies:[...new Set(h)],hooks:v}}catch(s){return ie.error(`hookDependencyFact error: ${s}`),{missingDependencies:[],unnecessaryDependencies:[],hooks:[]}}}};function Ak(e,t,n){const s=[],i=/useEffect\s*\(\s*\(\s*\)\s*=>\s*\{([\s\S]*?)\}\s*,\s*\[[^\]]*\]\s*\)/g;let a;for(;(a=i.exec(e))!==null;){const u=a[1]||"",d=/return\s*\(\s*\)\s*=>\s*\{/.test(u)||/return\s*function/.test(u)||/return\s*\(\s*\)\s*=>\s*[^{]/.test(u),p=e.substring(0,a.index),m=p.split(`
`).length-1,h=p.lastIndexOf(`
`),v=a.index-h-1;s.push({fileName:t,filePath:n,hasCleanup:d,location:{start:{row:m,column:v},end:{row:m,column:v+a[0].length}}})}return s}function Ik(e,t,n){const s=[],i=["addEventListener","setTimeout","setInterval","subscribe","observe"];function a(h){if(h.type==="return_statement")return!!h.children.find(x=>x.type==="arrow_function"||x.type==="function_expression");for(const v of h.children||[])if(a(v))return!0;return!1}function u(h){if(h.type==="call_expression"){const v=h.children.find(b=>b.type==="identifier");if(v&&i.some(b=>v.text.includes(b)))return!0;const x=h.children.find(b=>b.type==="member_expression");if(x){const b=x.children.find(j=>j.type==="property_identifier");if(b&&i.some(j=>b.text.includes(j)))return!0}}for(const v of h.children||[])if(u(v))return!0;return!1}function d(h){if(h.type==="call_expression"){const v=h.children.find(x=>x.type==="identifier");if(v&&v.text==="useEffect"){const x=h.children.find(b=>b.type==="arguments");if(x){const b=x.children.find(j=>j.type==="arrow_function"||j.type==="function_expression");if(b){const j=a(b),S=u(b);s.push({fileName:t,filePath:n,hasCleanup:j,needsCleanup:S,location:{start:h.startPosition,end:h.endPosition}})}}}}for(const v of h.children||[])d(v)}const p=e,m=p.rootNode||p;return d(m),s}const P1={name:"effectCleanup",description:"Checks if useEffect hooks have cleanup functions",type:"iterative-function",priority:2,async calculate(e,t){var n;try{const s=await t.factValue("fileData");if(!s)return ie.debug("effectCleanupFact: No fileData available"),{effects:[],effectsWithoutCleanup:[],effectsWithCleanup:[]};const i=(n=(s.filePath||s.fileName).split(".").pop())==null?void 0:n.toLowerCase();if(!["jsx","tsx","js","ts"].includes(i||""))return ie.debug("effectCleanupFact: Not a JS/TS file"),{effects:[],effectsWithoutCleanup:[],effectsWithCleanup:[]};const a=s.content||s.fileContent;if(!a)return ie.debug("effectCleanupFact: No file content"),{effects:[],effectsWithoutCleanup:[],effectsWithCleanup:[]};let u=[],d=null;try{d=await t.factValue("ast")}catch{ie.debug("effectCleanupFact: AST not available")}d&&d.tree?u=Ik(d.tree,s.fileName,s.filePath):u=Ak(a,s.fileName,s.filePath);const p=u.filter(h=>h.hasCleanup),m=u.filter(h=>!h.hasCleanup);return ie.debug(`effectCleanupFact: Found ${u.length} useEffect calls (${p.length} with cleanup)`),{effects:u,effectsWithoutCleanup:m,effectsWithCleanup:p}}catch(s){return ie.error(`effectCleanupFact error: ${s}`),{effects:[],effectsWithoutCleanup:[],effectsWithCleanup:[]}}}},R1={name:"hasIssues",description:"Checks if React pattern analysis found issues",evaluate(e,t){try{ie.debug(`hasIssues: processing ${typeof e}`);let n=!1;if(typeof e=="boolean")n=e;else if(e&&typeof e=="object"){const i=e;typeof i.hasIssues=="boolean"?n=i.hasIssues:Array.isArray(i.issues)&&(n=i.issues.length>0)}else Array.isArray(e)&&(n=e.length>0);const s=n===!!t;return ie.debug(`hasIssues: hasIssues=${n}, expected=${t}, result=${s}`),s}catch(n){return ie.error(`hasIssues error: ${n}`),!1}}};function Dk(){const e=new Map,t=new Map;return e.set(k1.name,k1),e.set(P1.name,P1),t.set(R1.name,R1),{name:"browserReactPatternsPlugin",version:"1.0.0",description:"Browser-compatible React patterns plugin for X-Fidelity Rule Builder",facts:e,operators:t,async initialize(s){var a;let i=0;for(const u of s.files.keys()){const d=(a=u.split(".").pop())==null?void 0:a.toLowerCase();["jsx","tsx"].includes(d||"")&&i++}ie.info(`Initializing browserReactPatternsPlugin with ${i} React files`)},async cleanup(){ie.debug("Cleaning up browserReactPatternsPlugin")}}}const Lk=Dk();function jl(e,t,n){switch(e){case"==":return t===n;case"!=":return t!==n;case">":return t>n;case">=":return t>=n;case"<":return t<n;case"<=":return t<=n;default:return!1}}function Vs(e,t){return t?t.split(".").reduce((n,s)=>{if(n!=null&&typeof n=="object")return n[s]},e):e}function $1(e,t){switch(t){case"defined":return e!=null;case"nonEmpty":return e!=null&&String(e).length>0;case"isNumber":return typeof e=="number"&&!Number.isNaN(e);case"isString":return typeof e=="string";case"isObject":return e!==null&&typeof e=="object"&&!Array.isArray(e);default:return!1}}function Fk(e,t){const n=e.map(a=>Vs(a.value,t.path));if(t.regex){const a=new RegExp(t.regex,t.flags||""),u=n.map(d=>a.test(String(d)));return t.mode==="all"?u.every(Boolean):t.mode==="none"?u.every(d=>!d):u.some(Boolean)}const s=t.value,i=n.map(a=>a===s);return t.mode==="all"?i.every(Boolean):t.mode==="none"?i.every(a=>!a):i.some(Boolean)}function Al(e,t){var s;if(!t||!Array.isArray(t.matches))return!1;const n=t.matches;if(e.requireMatches&&n.length===0||e.requireNoErrors&&Array.isArray(t.errors)&&t.errors.length>0||e.strategyIs&&!(Array.isArray(e.strategyIs)?e.strategyIs:[e.strategyIs]).includes(t.strategyUsed||"")||e.count&&!jl(e.count.op,n.length,e.count.value))return!1;if(e.distinctCount){const i=e.distinctCount,a=i.of==="by.path"?n.map(d=>Vs(d.value,i.path)):n.map(d=>d.value),u=new Set(a.map(d=>JSON.stringify(d)));if(!jl(i.op,u.size,i.value))return!1}if(e.contains&&!Fk(n,e.contains)||e.every&&!n.every(a=>{var u,d;return $1(Vs(a.value,(u=e.every)==null?void 0:u.path),((d=e.every)==null?void 0:d.predicate)||"defined")})||e.some&&!n.some(a=>{var u,d;return $1(Vs(a.value,(u=e.some)==null?void 0:u.path),((d=e.some)==null?void 0:d.predicate)||"defined")}))return!1;if(e.countWhere){const i=e.countWhere.regex?new RegExp(e.countWhere.regex):void 0,a=n.reduce((u,d)=>{var m,h;const p=Vs(d.value,(m=e.countWhere)==null?void 0:m.path);return i?u+(i.test(String(p))?1:0):((h=e.countWhere)==null?void 0:h.equals)!==void 0?u+(p===e.countWhere.equals?1:0):u},0);if(!jl(e.countWhere.op,a,e.countWhere.value))return!1}if(e.line&&n.length>0){const i=n.find(u=>u.location&&typeof u.location.line=="number"),a=((s=i==null?void 0:i.location)==null?void 0:s.line)??0;if(!jl(e.line.op,a,e.line.value))return!1}return!(e.all&&e.all.length>0&&!e.all.every(i=>Al(i,t))||e.any&&e.any.length>0&&!e.any.some(i=>Al(i,t))||e.none&&e.none.length>0&&!e.none.every(i=>!Al(i,t)))}const T1={name:"matchesSatisfy",description:"Evaluates extractValues result using parameter-driven conditions",evaluate(e,t){try{if(ie.debug(`matchesSatisfy: processing ${typeof e}`),!t||typeof t!="object")return ie.debug("matchesSatisfy: compareValue is not an object"),!1;const n=Al(t,e);return ie.debug(`matchesSatisfy: result is ${n}`),n}catch(n){return ie.error(`matchesSatisfy error: ${n}`),!1}}},O1={name:"globalPatternCount",description:"Checks if the global pattern match count meets a threshold",evaluate(e,t){try{if(ie.debug(`globalPatternCount: processing ${typeof e}`),!t||typeof t!="object")return ie.debug("globalPatternCount: compareValue is not an object"),!1;const n=t.threshold;if(typeof n!="number")return ie.debug("globalPatternCount: threshold is not a number"),!1;let s=0;if(Array.isArray(e))s=e.length;else if(typeof e=="number")s=e;else if(e&&typeof e=="object"){const a=e;s=a.count??a.length??0}const i=s>=n;return ie.debug(`globalPatternCount: count=${s}, threshold=${n}, result=${i}`),i}catch(n){return ie.error(`globalPatternCount error: ${n}`),!1}}},M1={name:"regexMatch",description:"Checks if fact value matches a regular expression pattern",evaluate(e,t){try{ie.debug(`regexMatch: processing ${typeof e} against ${t}`);let n;if(typeof e=="string")n=e;else if(e&&typeof e=="object"){const s=e;n=String(s.value??s.content??s.text??s.path??s.fileName??"")}else n=String(e??"");if(typeof t!="string")return ie.debug("regexMatch: compareValue is not a string"),!1;try{const i=new RegExp(t).test(n);return ie.debug(`regexMatch: testing "${n}" against pattern "${t}" = ${i}`),i}catch{return ie.error(`regexMatch: invalid regex pattern: ${t}`),!1}}catch(n){return ie.error(`regexMatch error: ${n}`),!1}}},A1={name:"globalPatternRatio",description:"Checks if the ratio of pattern matches to total files meets a threshold",evaluate(e,t){try{if(ie.debug(`globalPatternRatio: processing ${typeof e}`),!t||typeof t!="object")return ie.debug("globalPatternRatio: compareValue is not an object"),!1;const n=t.threshold;if(typeof n!="number")return ie.debug("globalPatternRatio: threshold is not a number"),!1;let s=0;if(typeof e=="number")s=e;else if(e&&typeof e=="object"){const a=e;typeof a.ratio=="number"?s=a.ratio:typeof a.matchCount=="number"&&typeof a.totalCount=="number"&&(s=a.totalCount>0?a.matchCount/a.totalCount:0)}const i=s>=n;return ie.debug(`globalPatternRatio: ratio=${s}, threshold=${n}, result=${i}`),i}catch(n){return ie.error(`globalPatternRatio error: ${n}`),!1}}};function zk(){const e=new Map,t=new Map;return t.set(T1.name,T1),t.set(O1.name,O1),t.set(M1.name,M1),t.set(A1.name,A1),{name:"browserPatternsPlugin",version:"1.0.0",description:"Browser-compatible patterns plugin for X-Fidelity Rule Builder",facts:e,operators:t,async initialize(s){ie.info(`Initializing browserPatternsPlugin with ${s.files.size} files`)},async cleanup(){ie.debug("Cleaning up browserPatternsPlugin")}}}const Vk=zk();function I1(){const e=ik(ie);return e.registerPlugin(ck),e.registerPlugin(mk),e.registerPlugin(Tk),e.registerPlugin(Lk),e.registerPlugin(Vk),e}async function Uk(e,t,n,s){const i=performance.now();try{const a=n._runtimeFacts.get(e);if(a!==void 0)return{value:a,success:!0,duration:performance.now()-i};if(e==="fileData")return{value:n._currentFileData,success:!0,duration:performance.now()-i};if(!s.getFact(e))return{value:void 0,success:!1,error:`Unknown fact: ${e}. This fact is not available in the browser plugin system.`,duration:performance.now()-i};const d=await ak(e,t,n,s,ie);return n.addRuntimeFact(e,d),{value:d,success:!0,duration:performance.now()-i}}catch(a){return{value:void 0,success:!1,error:a instanceof Error?a.message:String(a),duration:performance.now()-i}}}function jf(e,t){const n=e.files.get(t)??"",s={fileName:t.split("/").pop()||t,filePath:t,fileContent:n,content:n,relativePath:t};return sk(e,s,ie)}function Hk(e,t){if(!t)return e;const n=t.replace(/^\$\.?/,"");if(!n)return e;const s=n.split(/[.\[\]]/).filter(Boolean);let i=e;for(const a of s){if(i==null||typeof i!="object")return;i=i[a]}return i}const El={equal:(e,t)=>e===t,notEqual:(e,t)=>e!==t,lessThan:(e,t)=>typeof e=="number"&&typeof t=="number"&&e<t,lessThanInclusive:(e,t)=>typeof e=="number"&&typeof t=="number"&&e<=t,greaterThan:(e,t)=>typeof e=="number"&&typeof t=="number"&&e>t,greaterThanInclusive:(e,t)=>typeof e=="number"&&typeof t=="number"&&e>=t,in:(e,t)=>Array.isArray(t)&&t.includes(e),notIn:(e,t)=>Array.isArray(t)&&!t.includes(e),contains:(e,t)=>typeof e=="string"&&typeof t=="string"||Array.isArray(e)?e.includes(t):!1,doesNotContain:(e,t)=>typeof e=="string"&&typeof t=="string"||Array.isArray(e)?!e.includes(t):!0};async function kl(e,t,n,s){var a;const i=performance.now();try{const u=await Uk(e.fact,e.params,n,s);if(!u.success)return{path:t,factName:e.fact,factValue:void 0,operator:e.operator,compareValue:e.value,result:!1,error:u.error,duration:u.duration,params:e.params};let d=u.value;e.path&&(d=Hk(d,e.path));let p,m;if(e.operator in El)try{p=((a=El[e.operator])==null?void 0:a.call(El,d,e.value))??!1}catch(h){p=!1,m=h instanceof Error?h.message:String(h)}else{const h=s.getOperator(e.operator);if(h)try{p=h.evaluate(d,e.value)}catch(v){p=!1,m=v instanceof Error?v.message:String(v)}else p=!1,m=`Unknown operator: ${e.operator}. This operator is not available in the browser plugin system.`}return{path:t,factName:e.fact,factValue:d,operator:e.operator,compareValue:e.value,result:p,error:m,duration:performance.now()-i,jsonPath:e.path,params:e.params}}catch(u){return{path:t,factName:e.fact,factValue:void 0,operator:e.operator,compareValue:e.value,result:!1,error:u instanceof Error?u.message:String(u),duration:performance.now()-i,params:e.params}}}function Us(e){return e!==null&&typeof e=="object"&&"fact"in e}function aw(e){return e!==null&&typeof e=="object"&&("all"in e||"any"in e||"not"in e)}async function Lo(e,t,n,s){const i=[];if(Us(e)){const a=await kl(e,t,n,s);return i.push(a),i}if(!aw(e))return ie.warn(`Invalid condition structure at path: ${t.join(".")}`),i;if("all"in e&&Array.isArray(e.all))for(let a=0;a<e.all.length;a++){const u=e.all[a],d=[...t,"all",String(a)];if(u)if(Us(u)){const p=await kl(u,d,n,s);i.push(p)}else{const p=await Lo(u,d,n,s);i.push(...p)}}if("any"in e&&Array.isArray(e.any))for(let a=0;a<e.any.length;a++){const u=e.any[a],d=[...t,"any",String(a)];if(u)if(Us(u)){const p=await kl(u,d,n,s);i.push(p)}else{const p=await Lo(u,d,n,s);i.push(...p)}}if("not"in e&&e.not){const a=[...t,"not"];if(Us(e.not)){const u=await kl(e.not,a,n,s);i.push({...u,result:!u.result})}else{const u=await Lo(e.not,a,n,s);for(const d of u)i.push({...d,result:!d.result})}}return i}function Ef(e,t){const n=new Map;for(const s of t)n.set(s.path.join("."),s.result);return Il(e,["conditions"],n)}function Il(e,t,n){if(Us(e))return n.get(t.join("."))??!1;if(!aw(e))return!1;if("all"in e&&Array.isArray(e.all)){if(e.all.length===0)return!0;for(let s=0;s<e.all.length;s++){const i=e.all[s];if(!i)continue;const a=[...t,"all",String(s)];if(!Il(i,a,n))return!1}return!0}if("any"in e&&Array.isArray(e.any)){if(e.any.length===0)return!1;for(let s=0;s<e.any.length;s++){const i=e.any[s];if(!i)continue;const a=[...t,"any",String(s)];if(Il(i,a,n))return!0}return!1}if("not"in e&&e.not){const s=[...t,"not"];return!Il(e.not,s,n)}return!1}const qk={id:"node-fullstack",name:"Node.js Full-Stack Fixture",description:"A comprehensive test fixture designed to trigger all 15 rules in the node-fullstack archetype. Contains intentionally problematic code patterns including sensitive data logging, direct database calls, function complexity issues, and outdated dependencies.",archetype:"node-fullstack",triggersRules:["sensitiveLogging-iterative","noDatabases-iterative","functionComplexity-iterative","functionCount-iterative","codeRhythm-iterative","factDoesNotAddResultToAlmanac-iterative","invalidSystemIdConfigured-iterative","lowMigrationToNewComponentLib-global","newSdkFeatureNotAdoped-global","outdatedFramework-global","nonStandardDirectoryStructure-global","missingRequiredFiles-global","openaiAnalysisTop5-global","openaiAnalysisA11y-global","openaiAnalysisTestCriticality-global"],keyFiles:["src/components/UserAuth.tsx","src/components/SensitiveDataLogger.tsx","src/utils/database.js","src/utils/directDatabaseCalls.ts","src/components/ComplexComponent.tsx","src/components/OverlyComplexProcessor.tsx","src/facts/manyFunctionsFact.ts","src/facts/massiveFunctionCollection.ts","src/components/PoorRhythmComponent.tsx","src/facts/problematicFact.ts","src/xfiTestMatch.json","src/components/LegacyComponentLib.tsx","src/utils/sdkUsage.ts","package.json"]},Bk={"UserAuth.tsx":["sensitiveLogging-iterative","noDatabases-iterative"],"SensitiveDataLogger.tsx":["sensitiveLogging-iterative","noDatabases-iterative"],"database.js":["sensitiveLogging-iterative","noDatabases-iterative"],"directDatabaseCalls.ts":["noDatabases-iterative"],"ComplexComponent.tsx":["functionComplexity-iterative"],"OverlyComplexProcessor.tsx":["functionComplexity-iterative"],"ComplexFunction.tsx":["functionComplexity-iterative"],"manyFunctionsFact.ts":["functionCount-iterative"],"massiveFunctionCollection.ts":["functionCount-iterative"],"PoorRhythmComponent.tsx":["codeRhythm-iterative"],"InconsistentStyleComponent.tsx":["codeRhythm-iterative"],"problematicFact.ts":["factDoesNotAddResultToAlmanac-iterative"],"anotherProblematicFact.ts":["factDoesNotAddResultToAlmanac-iterative"],"xfiTestMatch.json":["invalidSystemIdConfigured-iterative"],"anotherTestMatch.json":["invalidSystemIdConfigured-iterative"],"LegacyComponentLib.tsx":["lowMigrationToNewComponentLib-global"],"LegacyUIComponent.tsx":["lowMigrationToNewComponentLib-global"],"AnotherLegacyComponent.tsx":["lowMigrationToNewComponentLib-global"],"sdkUsage.ts":["newSdkFeatureNotAdoped-global"],"minimalSdkUsage.ts":["newSdkFeatureNotAdoped-global"],"AccessibilityIssues.tsx":["openaiAnalysisA11y-global","openaiAnalysisTop5-global"]};function Wk(){return[qk]}function Gk(e){return Wk().find(n=>n.id===e)}function Kk(e){const t=e.split("/").pop()??e;return Bk[t]??[]}class Zk{constructor(){Ln(this,"bundle",null);Ln(this,"loaded",!1)}async load(t){try{let n;switch(t){case"node-fullstack":n=await ow(()=>import("./node-fullstack-HXAfGEFl.js"),[]);break;default:throw new Error(`Unknown fixture: ${t}`)}this.bundle=n.default,this.loaded=!0}catch(n){const s=n instanceof Error?n.message:String(n);throw new Error(`Failed to load fixture "${t}": ${s}`)}}isLoaded(){return this.loaded&&this.bundle!==null}getBundle(){return this.bundle}getName(){var t;return((t=this.bundle)==null?void 0:t.name)??null}getFile(t){if(!this.bundle)return null;const n=this.bundle.files[t];return(n==null?void 0:n.content)??null}getFileEntry(t){return this.bundle?this.bundle.files[t]??null:null}listFiles(t){if(!this.bundle)return[];let n=Object.keys(this.bundle.files);if(t!=null&&t.extensions){const s=t.extensions.map(i=>i.toLowerCase());n=n.filter(i=>{var u;const a=(u=this.bundle)==null?void 0:u.files[i];return a&&s.includes(a.extension.toLowerCase())})}if(t!=null&&t.pathPattern){const s=t.pathPattern.replace(/\*/g,".*").replace(/\?/g,"."),i=new RegExp(s);n=n.filter(a=>i.test(a))}return(t==null?void 0:t.maxSize)!==void 0&&(n=n.filter(s=>{var a;const i=(a=this.bundle)==null?void 0:a.files[s];return i&&i.size<=(t.maxSize??1/0)})),t!=null&&t.directories&&(n=n.filter(s=>{var i;return((i=t.directories)==null?void 0:i.some(a=>s.startsWith(a)))??!1})),t!=null&&t.excludePatterns&&(n=n.filter(s=>{var a;const i=s.split("/").pop()??s;return!((a=t.excludePatterns)!=null&&a.some(u=>{if(u.includes("*")){const d=new RegExp("^"+u.replace(/\*/g,".*")+"$");return d.test(i)||d.test(s)}return i===u||s===u}))})),n.sort()}getPackageJson(){var t;return((t=this.bundle)==null?void 0:t.packageJson)??{}}getFileTree(){var t;return((t=this.bundle)==null?void 0:t.fileTree)??[]}getMetadata(){var t;return((t=this.bundle)==null?void 0:t.metadata)??null}searchFiles(t,n){var u,d;if(!this.bundle)return[];const s=typeof t=="string"?new RegExp(t,"gi"):t,i=[],a=this.listFiles(n);for(const p of a){const m=this.bundle.files[p];if(!m)continue;const h=m.content.split(`
`);for(let v=0;v<h.length;v++)if((u=h[v])==null?void 0:u.match(s)){i.push({path:p,extension:m.extension,size:m.size,snippet:(d=h[v])==null?void 0:d.trim().substring(0,100),lineNumber:v+1});break}}return i}getFilesByExtension(t){const n=t.startsWith(".")?t:`.${t}`;return this.listFiles({extensions:[n]})}getFilesInDirectory(t){const n=t.endsWith("/")?t:`${t}/`;return this.listFiles({directories:[n]})}getTriggeredRules(){var t,n;return((n=(t=this.bundle)==null?void 0:t.metadata)==null?void 0:n.triggersRules)??[]}getFixtureInfo(){const t=this.getName();return t?Gk(t)??null:null}getRulesForFile(t){return Kk(t)}clear(){this.bundle=null,this.loaded=!1}}class Yk{constructor(){Ln(this,"registry");Ln(this,"fixtureLoader");Ln(this,"initialized",!1);Ln(this,"initPromise",null);this.registry=I1(),this.fixtureLoader=new Zk}async initialize(t="node-fullstack",n){if(this.initPromise)return this.initPromise;this.initPromise=this._doInitialize(t,n);try{await this.initPromise}finally{this.initPromise=null}}async _doInitialize(t,n){try{if(n==null||n("Loading fixture data...",10),await this.fixtureLoader.load(t),n==null||n("Initializing AST parser...",40),!iw())try{await Yc()}catch(i){ie.warn("Tree-sitter initialization failed, AST features will be limited",{error:i})}n==null||n("Initializing plugins...",70);const s=this.getFixtureData();s&&await this.registry.initializeAll(s),n==null||n("Ready",100),this.initialized=!0}catch(s){throw this.initialized=!1,s}}isInitialized(){return this.initialized&&this.fixtureLoader.isLoaded()}getAvailableFiles(){return this.fixtureLoader.isLoaded()?this.fixtureLoader.listFiles({excludePatterns:[".gitignore"]}):[]}getFixtureData(){const t=this.fixtureLoader.getBundle();if(!t)return null;const n=new Map;for(const[s,i]of Object.entries(t.files))n.set(s,i.content);return{files:n,packageJson:t.packageJson,fileList:Object.keys(t.files)}}getFixtureLoader(){return this.fixtureLoader}async simulate(t,n,s={}){const i=performance.now();try{if(!this.initialized)return{success:!1,fileName:n,timestamp:new Date,duration:performance.now()-i,conditionResults:[],finalResult:"error",error:"Simulation engine not initialized. Please wait for initialization to complete."};if(!t||!t.conditions)return{success:!1,fileName:n,timestamp:new Date,duration:performance.now()-i,conditionResults:[],finalResult:"error",error:"Invalid rule: missing conditions"};const a=this.getFixtureData();if(!a)return{success:!1,fileName:n,timestamp:new Date,duration:performance.now()-i,conditionResults:[],finalResult:"error",error:"No fixture data loaded"};const u=jf(a,n),d=await Lo(t.conditions,["conditions"],u,this.registry);if(d.some(v=>v.error&&!v.result)&&!s.verbose&&!d.filter(x=>x.error).every(x=>{var b,j;return((b=x.error)==null?void 0:b.includes("Unknown fact"))||((j=x.error)==null?void 0:j.includes("Unknown operator"))}))return{success:!1,fileName:n,timestamp:new Date,duration:performance.now()-i,conditionResults:d,finalResult:"error",error:"One or more conditions failed to evaluate. Check condition results for details."};const m=Ef(t.conditions,d),h=m?Nf(t):void 0;return{success:!0,fileName:n,timestamp:new Date,duration:performance.now()-i,conditionResults:d,finalResult:m?"triggered":"not-triggered",event:h}}catch(a){const u=a instanceof Error?a.message:String(a);return{success:!1,fileName:n,timestamp:new Date,duration:performance.now()-i,conditionResults:[],finalResult:"error",error:`Simulation failed: ${u}`}}}async simulateWithContent(t,n,s,i={}){const a=performance.now();try{if(!this.initialized)return{success:!1,fileName:n,timestamp:new Date,duration:performance.now()-a,conditionResults:[],finalResult:"error",error:"Simulation engine not initialized. Please wait for initialization to complete."};if(!t||!t.conditions)return{success:!1,fileName:n,timestamp:new Date,duration:performance.now()-a,conditionResults:[],finalResult:"error",error:"Invalid rule: missing conditions"};const d=jf({files:new Map([[n,s]]),fileList:[n],packageJson:{}},n),p=await Lo(t.conditions,["conditions"],d,this.registry);if(p.some(x=>x.error&&!x.result)&&!i.verbose&&!p.filter(b=>b.error).every(b=>{var j,S;return((j=b.error)==null?void 0:j.includes("Unknown fact"))||((S=b.error)==null?void 0:S.includes("Unknown operator"))}))return{success:!1,fileName:n,timestamp:new Date,duration:performance.now()-a,conditionResults:p,finalResult:"error",error:"One or more conditions failed to evaluate. Check condition results for details."};const h=Ef(t.conditions,p),v=h?Nf(t):void 0;return{success:!0,fileName:n,timestamp:new Date,duration:performance.now()-a,conditionResults:p,finalResult:h?"triggered":"not-triggered",event:v}}catch(u){const d=u instanceof Error?u.message:String(u);return{success:!1,fileName:n,timestamp:new Date,duration:performance.now()-a,conditionResults:[],finalResult:"error",error:`Simulation failed: ${d}`}}}async simulateAll(t,n={}){const s=new Map,i=this.getAvailableFiles();for(const a of i){const u=await this.simulate(t,a,n);s.set(a,u)}return s}async simulateGlobal(t,n,s={}){const i=performance.now();try{if(!this.initialized)return{success:!1,fileName:"GLOBAL",timestamp:new Date,duration:performance.now()-i,conditionResults:[],finalResult:"error",error:"Simulation engine not initialized. Please wait for initialization to complete."};if(!t||!t.conditions)return{success:!1,fileName:"GLOBAL",timestamp:new Date,duration:performance.now()-i,conditionResults:[],finalResult:"error",error:"Invalid rule: missing conditions"};let a=this.getFixtureData();if(!a)return{success:!1,fileName:"GLOBAL",timestamp:new Date,duration:performance.now()-i,conditionResults:[],finalResult:"error",error:"No fixture data loaded"};if(n&&n.size>0){const v=new Map(a.files),x=[...a.fileList];for(const[b,j]of n)v.set(b,j),x.includes(b)||x.push(b);a={...a,files:v,fileList:x}}const u=jf(a,"GLOBAL"),d=await Lo(t.conditions,["conditions"],u,this.registry);if(d.some(v=>v.error&&!v.result)&&!s.verbose&&!d.filter(x=>x.error).every(x=>{var b,j;return((b=x.error)==null?void 0:b.includes("Unknown fact"))||((j=x.error)==null?void 0:j.includes("Unknown operator"))}))return{success:!1,fileName:"GLOBAL",timestamp:new Date,duration:performance.now()-i,conditionResults:d,finalResult:"error",error:"One or more conditions failed to evaluate. Check condition results for details."};const m=Ef(t.conditions,d),h=m?Nf(t):void 0;return{success:!0,fileName:"GLOBAL",timestamp:new Date,duration:performance.now()-i,conditionResults:d,finalResult:m?"triggered":"not-triggered",event:h}}catch(a){const u=a instanceof Error?a.message:String(a);return{success:!1,fileName:"GLOBAL",timestamp:new Date,duration:performance.now()-i,conditionResults:[],finalResult:"error",error:`Global simulation failed: ${u}`}}}reset(){this.initialized=!1,this.fixtureLoader.clear(),this.registry=I1()}}const Jk=new Yk,Xk={isRunning:!1,isInitialized:!1,error:null,selectedFile:null,availableFiles:[],result:null,initProgress:0,initStep:null};function Qk(e,t={}){const[n,s]=g.useState(Xk),[i,a]=g.useState(new Map),u=g.useRef(Jk),d=g.useRef(!1),p=g.useCallback(async()=>{if(!n.isInitialized){d.current=!1,s(S=>({...S,error:null,initProgress:0,initStep:"Starting initialization..."}));try{if(await u.current.initialize("node-fullstack",(w,N)=>{d.current||s(C=>({...C,initStep:w,initProgress:N}))}),d.current)return;const S=u.current.getAvailableFiles();s(w=>({...w,isInitialized:!0,availableFiles:S,selectedFile:S.length>0?S[0]??null:null,initProgress:100,initStep:null}))}catch(S){if(d.current)return;const w=S instanceof Error?S.message:String(S);s(N=>({...N,error:`Initialization failed: ${w}`,initProgress:0,initStep:null}))}}},[n.isInitialized]),m=g.useCallback(S=>{s(w=>({...w,selectedFile:S,result:null}))},[]),h=g.useCallback(async S=>{if(!e){s(w=>({...w,error:"No rule to simulate. Please create or load a rule first."}));return}if(!n.isInitialized){s(w=>({...w,error:"Simulation engine not initialized. Please wait for initialization."}));return}d.current=!1,s(w=>({...w,isRunning:!0,error:null}));try{const w=await u.current.simulate(e,S,t);if(d.current)return;s(N=>({...N,isRunning:!1,result:w})),a(N=>{const C=new Map(N);return C.set(S,w),C})}catch(w){if(d.current)return;const N=w instanceof Error?w.message:String(w);s(C=>({...C,isRunning:!1,error:`Simulation failed: ${N}`}))}},[e,n.isInitialized,t]),v=g.useCallback(async()=>{n.selectedFile&&await h(n.selectedFile)},[n.selectedFile,h]),x=g.useCallback(async(S,w)=>{if(!e){s(N=>({...N,error:"No rule to simulate. Please create or load a rule first."}));return}if(!n.isInitialized){s(N=>({...N,error:"Simulation engine not initialized. Please wait for initialization."}));return}d.current=!1,s(N=>({...N,isRunning:!0,error:null}));try{const N=await u.current.simulateWithContent(e,S,w,t);if(d.current)return;s(C=>({...C,isRunning:!1,result:N})),a(C=>{const E=new Map(C);return E.set(`manual:${S}`,N),E})}catch(N){if(d.current)return;const C=N instanceof Error?N.message:String(N);s(E=>({...E,isRunning:!1,error:`Simulation failed: ${C}`}))}},[e,n.isInitialized,t]),b=g.useCallback(async S=>{if(!e){s(w=>({...w,error:"No rule to simulate. Please create or load a rule first."}));return}if(!n.isInitialized){s(w=>({...w,error:"Simulation engine not initialized. Please wait for initialization."}));return}d.current=!1,s(w=>({...w,isRunning:!0,error:null}));try{const w=await u.current.simulateGlobal(e,S,t);if(d.current)return;s(N=>({...N,isRunning:!1,result:w})),a(N=>{const C=new Map(N);return C.set("GLOBAL",w),C})}catch(w){if(d.current)return;const N=w instanceof Error?w.message:String(w);s(C=>({...C,isRunning:!1,error:`Global simulation failed: ${N}`}))}},[e,n.isInitialized,t]),j=g.useCallback(()=>{d.current=!0,s(S=>({...S,isRunning:!1,result:null,error:null})),a(new Map)},[]);return g.useEffect(()=>(!n.isInitialized&&!n.error&&p(),()=>{d.current=!0}),[]),g.useEffect(()=>{a(new Map),s(S=>({...S,result:null}))},[e]),{state:n,runSimulation:h,runCurrentSimulation:v,runWithContent:x,runGlobal:b,selectFile:m,reset:j,initialize:p,results:i}}function D1(e){switch(e){case".tsx":case".ts":return"text-blue-500";case".jsx":case".js":return"text-yellow-500";case".json":return"text-orange-500";case".css":case".scss":return"text-pink-500";case".md":return"text-gray-500";default:return"text-foreground-muted"}}function eP(e,t=40){if(e.length<=t)return e;const n=e.split("/");return n.length<=2?e:`${n[0]}/.../${n[n.length-1]}`}function tP({files:e,selectedFile:t,onSelect:n,disabled:s=!1,className:i=""}){const[a,u]=g.useState(!1),[d,p]=g.useState(""),m=g.useRef(null),h=g.useRef(null),v=e.filter(j=>j.toLowerCase().includes(d.toLowerCase()));g.useEffect(()=>{function j(S){m.current&&!m.current.contains(S.target)&&(u(!1),p(""))}return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),g.useEffect(()=>{a&&h.current&&h.current.focus()},[a]);const x=j=>{n(j),u(!1),p("")},b=t?t.substring(t.lastIndexOf(".")):"";return c.jsxs("div",{ref:m,className:`relative ${i}`,children:[c.jsxs("button",{type:"button",onClick:()=>!s&&u(!a),disabled:s,className:`
          flex items-center gap-2 w-full px-3 py-2 text-left
          rounded-md border border-border bg-background
          hover:bg-accent transition-colors focus-ring
          ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        `,"aria-haspopup":"listbox","aria-expanded":a,children:[c.jsx($f,{className:`w-4 h-4 flex-shrink-0 ${D1(b)}`}),c.jsx("span",{className:"flex-1 text-sm truncate text-foreground",children:t?eP(t):"Select a file..."}),c.jsx(St,{className:`w-4 h-4 text-foreground-muted transition-transform ${a?"rotate-180":""}`})]}),a&&c.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-background border border-border rounded-md shadow-lg max-h-64 overflow-hidden",children:[c.jsx("div",{className:"p-2 border-b border-border",children:c.jsx("input",{ref:h,type:"text",value:d,onChange:j=>p(j.target.value),placeholder:"Search files...",className:"w-full px-2 py-1 text-sm bg-accent rounded border-none focus:outline-none focus:ring-1 focus:ring-primary"})}),c.jsx("ul",{className:"overflow-y-auto max-h-48",role:"listbox","aria-label":"Available files",children:v.length===0?c.jsx("li",{className:"px-3 py-2 text-sm text-foreground-muted italic",children:"No files match your search"}):v.map(j=>{const S=j.substring(j.lastIndexOf(".")),w=j===t;return c.jsx("li",{children:c.jsxs("button",{type:"button",onClick:()=>x(j),className:`
                        flex items-center gap-2 w-full px-3 py-1.5 text-left text-sm
                        hover:bg-accent transition-colors
                        ${w?"bg-primary/10 text-primary":"text-foreground"}
                      `,role:"option","aria-selected":w,children:[c.jsx($f,{className:`w-4 h-4 flex-shrink-0 ${D1(S)}`}),c.jsx("span",{className:"truncate",children:j})]})},j)})}),c.jsxs("div",{className:"px-3 py-1.5 border-t border-border text-xs text-foreground-muted",children:[v.length," of ",e.length," files"]})]})]})}function Dl(e){if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="string")return`"${e}"`;if(typeof e=="number"||typeof e=="boolean")return String(e);if(Array.isArray(e))return`Array(${e.length})`;if(typeof e=="object"){const t=Object.keys(e);return`Object { ${t.slice(0,3).join(", ")}${t.length>3?", ...":""} }`}return String(e)}function lw(e){return e===null?"null":e===void 0?"undefined":typeof e=="string"?"string":typeof e=="number"?"number":typeof e=="boolean"?"boolean":Array.isArray(e)?"array":typeof e=="object"?"object":"unknown"}function cw(e){switch(e){case"string":return"text-green-600 dark:text-green-400";case"number":return"text-blue-600 dark:text-blue-400";case"boolean":return"text-purple-600 dark:text-purple-400";case"null":case"undefined":return"text-gray-500";case"array":case"object":return"text-orange-600 dark:text-orange-400";default:return"text-foreground"}}function uw(e){return e==null?!1:typeof e=="object"}function Qf({value:e,depth:t=0,maxDepth:n=3}){const[s,i]=g.useState(t<1),a=lw(e),u=cw(a);if(!(uw(e)&&t<n))return c.jsx("span",{className:u,children:Dl(e)});if(Array.isArray(e))return e.length===0?c.jsx("span",{className:u,children:"[]"}):c.jsxs("span",{children:[c.jsx("button",{type:"button",onClick:()=>i(!s),className:"inline-flex items-center text-foreground-muted hover:text-foreground",children:s?c.jsx(St,{className:"w-3 h-3"}):c.jsx(qn,{className:"w-3 h-3"})}),c.jsx("span",{className:u,children:s?"[":`Array(${e.length})`}),s&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"ml-4 border-l border-border pl-2",children:e.map((p,m)=>c.jsxs("div",{className:"text-sm",children:[c.jsxs("span",{className:"text-foreground-muted",children:[m,": "]}),c.jsx(Qf,{value:p,depth:t+1,maxDepth:n}),m<e.length-1&&c.jsx("span",{className:"text-foreground-muted",children:","})]},m))}),c.jsx("span",{className:u,children:"]"})]})]});if(typeof e=="object"&&e!==null){const p=Object.entries(e);return p.length===0?c.jsx("span",{className:u,children:"{}"}):c.jsxs("span",{children:[c.jsx("button",{type:"button",onClick:()=>i(!s),className:"inline-flex items-center text-foreground-muted hover:text-foreground",children:s?c.jsx(St,{className:"w-3 h-3"}):c.jsx(qn,{className:"w-3 h-3"})}),c.jsx("span",{className:u,children:s?"{":Dl(e)}),s&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"ml-4 border-l border-border pl-2",children:p.map(([m,h],v)=>c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:m}),c.jsx("span",{className:"text-foreground-muted",children:": "}),c.jsx(Qf,{value:h,depth:t+1,maxDepth:n}),v<p.length-1&&c.jsx("span",{className:"text-foreground-muted",children:","})]},m))}),c.jsx("span",{className:u,children:"}"})]})]})}return c.jsx("span",{className:u,children:Dl(e)})}function ep({value:e,label:t,defaultExpanded:n=!1,maxDepth:s=3,className:i=""}){const[a,u]=g.useState(n),[d,p]=g.useState(!1),m=async()=>{try{const v=JSON.stringify(e,null,2);await navigator.clipboard.writeText(v),p(!0),setTimeout(()=>p(!1),2e3)}catch{}},h=uw(e);return c.jsxs("div",{className:`text-sm ${i}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[h&&c.jsxs("button",{type:"button",onClick:()=>u(!a),className:"flex items-center gap-1 text-foreground-muted hover:text-foreground",children:[a?c.jsx(St,{className:"w-4 h-4"}):c.jsx(qn,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs",children:t||"View fact data"})]}),!h&&t&&c.jsxs("span",{className:"text-xs text-foreground-muted",children:[t,":"]}),!h&&c.jsx("span",{className:cw(lw(e)),children:Dl(e)}),c.jsx("button",{type:"button",onClick:m,className:"ml-auto p-1 text-foreground-muted hover:text-foreground rounded hover:bg-accent",title:"Copy to clipboard",children:d?c.jsx(Hn,{className:"w-3 h-3 text-green-500"}):c.jsx(ap,{className:"w-3 h-3"})})]}),h&&a&&c.jsx("div",{className:"mt-2 p-2 rounded bg-accent/50 border border-border font-mono text-xs overflow-x-auto",children:c.jsx(Qf,{value:e,maxDepth:s})})]})}function rP(e){return{equal:"=",notEqual:"",lessThan:"<",lessThanInclusive:"",greaterThan:">",greaterThanInclusive:"",in:"in",notIn:"not in",contains:"contains",doesNotContain:"does not contain",fileContains:"file contains",astComplexity:"ast complexity",outdatedFramework:"outdated framework"}[e]||e}function nP(e){return e===null?"null":e===void 0?"undefined":typeof e=="string"?`"${e}"`:typeof e=="object"?JSON.stringify(e):String(e)}function oP({result:e,index:t,className:n=""}){const s=!!e.error,i=e.result&&!s;let a=i?_r:Fl,u=i?"text-yellow-500":"text-green-500",d=i?"bg-yellow-50 dark:bg-yellow-900/10":"bg-green-50 dark:bg-green-900/10",p=i?"border-yellow-200 dark:border-yellow-800":"border-green-200 dark:border-green-800";return s&&(a=_v,u="text-red-500",d="bg-red-50 dark:bg-red-900/10",p="border-red-200 dark:border-red-800"),c.jsx("div",{className:`rounded-lg border ${p} ${d} p-3 ${n}`,children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(a,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${u}`}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-1 text-sm",children:[c.jsx("code",{className:"font-mono text-blue-600 dark:text-blue-400",children:e.factName}),e.jsonPath&&c.jsxs("span",{className:"text-foreground-muted text-xs",children:["[",e.jsonPath,"]"]}),c.jsx("span",{className:"text-foreground-muted px-1",children:rP(e.operator)}),c.jsx("code",{className:"font-mono text-purple-600 dark:text-purple-400",children:nP(e.compareValue)})]}),c.jsxs("div",{className:"mt-1 text-xs text-foreground-muted flex items-center gap-2",children:[c.jsx("span",{className:i?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",children:i?"MATCHED":"NOT MATCHED"}),e.duration!==void 0&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Cv,{className:"w-3 h-3"}),e.duration.toFixed(1),"ms"]}),e.path.length>0&&c.jsxs("span",{className:"text-foreground-muted/60",children:["@ ",e.path.join(".")]})]}),s&&c.jsx("div",{className:"mt-2 p-2 rounded bg-yellow-100 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700",children:c.jsxs("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[c.jsx("strong",{children:"Error:"})," ",e.error]})}),e.factValue!==void 0&&c.jsx("div",{className:"mt-2",children:c.jsx(ep,{value:e.factValue,label:"Fact returned",defaultExpanded:!1})}),e.params&&Object.keys(e.params).length>0&&c.jsx("div",{className:"mt-2",children:c.jsx(ep,{value:e.params,label:"Parameters",defaultExpanded:!1})})]})]})})}function sP(e){switch(e){case"fatality":return _r;case"warning":return n9;case"info":default:return Nr}}function iP(e){switch(e){case"fatality":return{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",icon:"text-red-500",label:"FATALITY"};case"warning":return{bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-800",icon:"text-yellow-500",label:"WARNING"};case"info":default:return{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",icon:"text-blue-500",label:"INFO"}}}function aP({event:e,triggered:t=!0,className:n=""}){const s=sP(e.type),i=iP(e.type);return c.jsxs("div",{className:`${n}`,children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:t?"Event that would trigger:":"Event (not triggered):"}),c.jsxs("div",{className:`rounded-lg border ${i.border} ${i.bg} p-4`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(s,{className:`w-5 h-5 ${i.icon}`}),c.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${i.icon}`,children:i.label})]}),c.jsx("p",{className:"text-sm text-foreground font-medium mb-2",children:e.message}),e.details&&Object.keys(e.details).length>0&&c.jsx("div",{className:"mt-3 pt-3 border-t border-current/10",children:c.jsx(ep,{value:e.details,label:"Event details",defaultExpanded:!1})})]})]})}function lP(e){switch(e){case"triggered":return{bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-800",icon:_r,iconColor:"text-yellow-500",label:"Rule Triggered",description:"All conditions matched - the event would fire (issue detected)"};case"not-triggered":return{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",icon:Fl,iconColor:"text-green-500",label:"Rule Not Triggered",description:"One or more conditions did not match - no event would fire (no issue)"};case"error":default:return{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",icon:_v,iconColor:"text-red-500",label:"Simulation Error",description:"An error occurred during simulation"}}}function cP({result:e,className:t=""}){const[n,s]=g.useState(!0),i=lP(e.finalResult),a=i.icon,u=e.conditionResults.filter(m=>m.result&&!m.error).length,d=e.conditionResults.filter(m=>!m.result||m.error).length,p=e.conditionResults.length;return c.jsxs("div",{className:`space-y-4 ${t}`,children:[c.jsxs("div",{className:`rounded-lg border ${i.border} ${i.bg} p-4`,children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(a,{className:`w-6 h-6 flex-shrink-0 ${i.iconColor}`}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:i.label}),c.jsx("p",{className:"text-sm text-foreground-muted",children:i.description}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm",children:[c.jsxs("span",{className:"flex items-center gap-1 text-foreground-muted",children:[c.jsx(Cv,{className:"w-4 h-4"}),e.duration.toFixed(1),"ms"]}),c.jsxs("span",{className:"text-foreground-muted",children:["File: ",c.jsx("code",{className:"text-foreground",children:e.fileName})]}),c.jsxs("span",{className:"text-foreground-muted",children:[u,"/",p," conditions matched"]})]})]})]}),e.error&&c.jsx("div",{className:"mt-3 p-3 rounded bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700",children:c.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[c.jsx("strong",{children:"Error:"})," ",e.error]})})]}),e.conditionResults.length>0&&c.jsxs("div",{className:"rounded-lg border border-border bg-background",children:[c.jsxs("button",{type:"button",onClick:()=>s(!n),className:"flex items-center gap-2 w-full p-3 text-left hover:bg-accent/50 transition-colors",children:[n?c.jsx(St,{className:"w-4 h-4 text-foreground-muted"}):c.jsx(qn,{className:"w-4 h-4 text-foreground-muted"}),c.jsx("span",{className:"font-medium text-foreground",children:"Condition Results"}),c.jsxs("span",{className:"ml-auto flex items-center gap-2 text-sm",children:[c.jsxs("span",{className:"text-yellow-600 dark:text-yellow-400",children:[u," matched"]}),c.jsx("span",{className:"text-foreground-muted",children:"|"}),c.jsxs("span",{className:"text-foreground-muted",children:[d," not matched"]})]})]}),n&&c.jsx("div",{className:"p-3 pt-0 space-y-2",children:e.conditionResults.map((m,h)=>c.jsx(oP,{result:m,index:h},`${m.path.join(".")}-${h}`))})]}),e.event&&c.jsx(aP,{event:e.event,triggered:e.finalResult==="triggered"})]})}function uP({step:e,progress:t}){return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-foreground-muted",children:e||"Initializing..."}),c.jsxs("span",{className:"text-foreground-muted",children:[Math.round(t),"%"]})]}),c.jsx("div",{className:"h-2 bg-accent rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${t}%`}})})]})}function dP(){const[e,t]=g.useState(!0),[n,s]=g.useState("fixtures"),[i,a]=g.useState("iterative"),[u,d]=g.useState("example.ts"),[p,m]=g.useState(`// Paste your file content here
`),[h,v]=g.useState([]),x=ke(F=>F.rule),b=K2(x);g.useEffect(()=>{!b&&i==="global"&&a("iterative")},[b,i]);const{state:j,runCurrentSimulation:S,runWithContent:w,runGlobal:N,selectFile:C,reset:E,initialize:P}=Qk(x),{isRunning:k,isInitialized:R,error:$,selectedFile:L,availableFiles:K,result:U,initProgress:G,initStep:te}=j;g.useEffect(()=>{!R&&!$&&P()},[R,$,P]);const re=g.useCallback(async()=>{if(i==="global"){const F=new Map;for(const M of h)M.fileName.trim()&&M.content.trim()&&F.set(M.fileName,M.content);await N(F.size>0?F:void 0)}else n==="manual"?await w(u,p):await S()},[i,n,S,w,N,u,p,h]),ne=g.useCallback(()=>{v(F=>[...F,{id:`file-${Date.now()}`,fileName:"",content:""}])},[]),se=g.useCallback(F=>{v(M=>M.filter(A=>A.id!==F))},[]),le=g.useCallback((F,M,A)=>{v(Z=>Z.map(ee=>ee.id===F?{...ee,[M]:A}:ee))},[]),pe=g.useCallback(()=>{E()},[E]),H=g.useCallback(async()=>{await P()},[P]),X=R&&!k&&x&&L,B=R&&!k&&x&&u.trim()&&p.trim(),I=i==="global"?R&&!k&&x:n==="fixtures"?X:B;return c.jsxs("div",{className:"rounded-lg border border-border bg-background-soft",children:[c.jsxs("button",{type:"button",onClick:()=>t(!e),className:"flex items-center gap-2 w-full p-4 text-left hover:bg-accent/30 transition-colors",children:[e?c.jsx(St,{className:"w-5 h-5 text-foreground-muted"}):c.jsx(qn,{className:"w-5 h-5 text-foreground-muted"}),c.jsx("h3",{className:"font-semibold text-foreground",children:"Rule Simulation"}),c.jsxs("span",{className:"ml-auto flex items-center gap-2 text-sm",children:[!R&&!$&&c.jsxs("span",{className:"flex items-center gap-1 text-yellow-500",children:[c.jsx(Nr,{className:"w-4 h-4"}),"Initializing..."]}),$&&c.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[c.jsx(_r,{className:"w-4 h-4"}),"Error"]}),R&&!$&&!U&&c.jsxs("span",{className:"flex items-center gap-1 text-foreground-muted",children:[c.jsx(Fl,{className:"w-4 h-4"}),"Ready"]}),U&&c.jsxs("span",{className:`flex items-center gap-1 ${U.finalResult==="triggered"?"text-yellow-500":U.finalResult==="error"?"text-red-500":"text-green-500"}`,children:[U.finalResult==="triggered"&&c.jsx(_r,{className:"w-4 h-4"}),U.finalResult==="not-triggered"&&c.jsx(Fl,{className:"w-4 h-4"}),U.finalResult==="error"&&c.jsx(_r,{className:"w-4 h-4"}),U.finalResult==="triggered"?"Triggered":U.finalResult==="error"?"Error":"Not Triggered"]})]})]}),e&&c.jsxs("div",{className:"px-4 pb-4 space-y-4 border-t border-border pt-4",children:[!R&&!$&&c.jsx(uP,{step:te,progress:G}),$&&c.jsx("div",{className:"p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(_r,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200",children:"Simulation Error"}),c.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:$}),c.jsx("button",{type:"button",onClick:H,className:"mt-3 px-3 py-1.5 text-sm rounded-md bg-red-100 dark:bg-red-800 hover:bg-red-200 dark:hover:bg-red-700 text-red-800 dark:text-red-100 transition-colors",children:"Retry Initialization"})]})]})}),R&&!$&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-medium text-foreground-muted uppercase",children:"Scope:"}),c.jsxs("div",{className:"inline-flex rounded-md border border-border overflow-hidden",children:[c.jsxs("button",{type:"button",onClick:()=>a("iterative"),disabled:k,className:`flex items-center gap-1.5 px-3 py-1.5 text-sm transition-colors ${i==="iterative"?"bg-primary text-white":"bg-background hover:bg-accent text-foreground"}`,title:"Test rule against a single file (for iterative rules)",children:[c.jsx(Q9,{className:"w-3.5 h-3.5"}),"Iterative"]}),c.jsxs("button",{type:"button",onClick:()=>a("global"),disabled:k||!b,className:`flex items-center gap-1.5 px-3 py-1.5 text-sm border-l border-border transition-colors ${i==="global"?"bg-primary text-white":b?"bg-background hover:bg-accent text-foreground":"bg-background text-foreground-muted opacity-50 cursor-not-allowed"}`,title:b?"Test rule against entire repository (for REPO_GLOBAL_CHECK rules)":"Enable 'Global Rule' in Rule Properties to use this mode",children:[c.jsx(Tf,{className:"w-3.5 h-3.5"}),"Global"]})]})]}),i==="iterative"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-medium text-foreground-muted uppercase",children:"Input:"}),c.jsxs("div",{className:"inline-flex rounded-md border border-border overflow-hidden",children:[c.jsxs("button",{type:"button",onClick:()=>s("fixtures"),disabled:k,className:`flex items-center gap-1.5 px-3 py-1.5 text-sm transition-colors ${n==="fixtures"?"bg-primary text-white":"bg-background hover:bg-accent text-foreground"}`,children:[c.jsx(cp,{className:"w-3.5 h-3.5"}),"Fixtures"]}),c.jsxs("button",{type:"button",onClick:()=>s("manual"),disabled:k,className:`flex items-center gap-1.5 px-3 py-1.5 text-sm border-l border-border transition-colors ${n==="manual"?"bg-primary text-white":"bg-background hover:bg-accent text-foreground"}`,children:[c.jsx(V9,{className:"w-3.5 h-3.5"}),"Manual"]})]})]})]}),i==="global"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Tf,{className:"w-4 h-4 text-blue-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Global Simulation:"})," Tests against all ",K.length," fixture files. Use this for ",c.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:"REPO_GLOBAL_CHECK"})," rules that evaluate repository-wide facts like ",c.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:"repoFilesystemFacts"})," or ",c.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:"repoDependencyVersions"}),"."]})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"block text-xs font-medium text-foreground-muted uppercase",children:"Additional Files (Optional)"}),c.jsxs("button",{type:"button",onClick:ne,disabled:k,className:"flex items-center gap-1 px-2 py-1 text-xs rounded-md border border-border hover:bg-accent transition-colors",children:[c.jsx(zo,{className:"w-3 h-3"}),"Add File"]})]}),c.jsx("p",{className:"text-xs text-foreground-muted",children:"Add custom files to include in the global analysis alongside fixture files."}),h.length>0&&c.jsx("div",{className:"space-y-3 mt-2",children:h.map((F,M)=>c.jsxs("div",{className:"p-3 rounded-lg border border-border bg-background-soft",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"text-xs font-medium text-foreground-muted",children:["File ",M+1]}),c.jsx("button",{type:"button",onClick:()=>se(F.id),disabled:k,className:"p-1 rounded hover:bg-accent transition-colors","aria-label":"Remove file",children:c.jsx(g9,{className:"w-3 h-3 text-foreground-muted"})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"text",value:F.fileName,onChange:A=>le(F.id,"fileName",A.target.value),disabled:k,placeholder:"src/example.ts",className:"w-full px-2 py-1.5 text-sm rounded-md border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),c.jsx("textarea",{value:F.content,onChange:A=>le(F.id,"content",A.target.value),disabled:k,rows:4,placeholder:"// File content...",className:"w-full px-2 py-1.5 text-sm rounded-md border border-border bg-background text-foreground font-mono focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-y"})]})]},F.id))})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-foreground-muted",children:[c.jsx(n0,{className:"w-3.5 h-3.5 text-green-500"}),c.jsx("span",{children:"* All processing is done locally in your browser."})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:re,disabled:!I,className:`
                        flex items-center gap-2 px-4 py-2 rounded-md font-medium
                        transition-colors focus-ring
                        ${I?"bg-primary text-white hover:bg-primary-dark":"bg-accent text-foreground-muted cursor-not-allowed"}
                      `,"aria-label":"Run global simulation",children:k?c.jsxs(c.Fragment,{children:[c.jsx(Po,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{children:"Running..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Hs,{className:"w-4 h-4"}),c.jsx("span",{children:"Run Global Simulation"})]})}),U&&c.jsxs("button",{type:"button",onClick:pe,disabled:k,className:"flex items-center gap-2 px-3 py-2 rounded-md border border-border hover:bg-accent transition-colors focus-ring","aria-label":"Reset simulation",children:[c.jsx(Po,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Reset"})]})]})]}),i==="iterative"&&n==="fixtures"&&c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex-1 max-w-md",children:[c.jsx("label",{className:"block text-xs font-medium text-foreground-muted uppercase mb-1",children:"Test File"}),c.jsx(tP,{files:K,selectedFile:L,onSelect:C,disabled:k})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-5",children:[c.jsx("button",{type:"button",onClick:re,disabled:!I,className:`
                        flex items-center gap-2 px-4 py-2 rounded-md font-medium
                        transition-colors focus-ring
                        ${I?"bg-primary text-white hover:bg-primary-dark":"bg-accent text-foreground-muted cursor-not-allowed"}
                      `,"aria-label":"Run simulation",children:k?c.jsxs(c.Fragment,{children:[c.jsx(Po,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{children:"Running..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Hs,{className:"w-4 h-4"}),c.jsx("span",{children:"Run Simulation"})]})}),U&&c.jsxs("button",{type:"button",onClick:pe,disabled:k,className:"flex items-center gap-2 px-3 py-2 rounded-md border border-border hover:bg-accent transition-colors focus-ring","aria-label":"Reset simulation",children:[c.jsx(Po,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Reset"})]})]})]}),i==="iterative"&&n==="manual"&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-foreground-muted uppercase mb-1",children:["Filename ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:u,onChange:F=>d(F.target.value),disabled:k,placeholder:"example.ts",className:"w-full max-w-md px-3 py-2 rounded-md border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),c.jsx("p",{className:"text-xs text-foreground-muted mt-1",children:"The filename is used to determine file type for analysis (e.g., .ts, .tsx, .js)"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium text-foreground-muted uppercase mb-1",children:["File Content ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:p,onChange:F=>m(F.target.value),disabled:k,rows:8,placeholder:"Paste your file content here...",className:"w-full px-3 py-2 rounded-md border border-border bg-background text-foreground font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-y"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-foreground-muted",children:[c.jsx(n0,{className:"w-3.5 h-3.5 text-green-500"}),c.jsx("span",{children:"* Your content never leaves your browser. All processing is done locally."})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:re,disabled:!I,className:`
                        flex items-center gap-2 px-4 py-2 rounded-md font-medium
                        transition-colors focus-ring
                        ${I?"bg-primary text-white hover:bg-primary-dark":"bg-accent text-foreground-muted cursor-not-allowed"}
                      `,"aria-label":"Run simulation",children:k?c.jsxs(c.Fragment,{children:[c.jsx(Po,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{children:"Running..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Hs,{className:"w-4 h-4"}),c.jsx("span",{children:"Run Simulation"})]})}),U&&c.jsxs("button",{type:"button",onClick:pe,disabled:k,className:"flex items-center gap-2 px-3 py-2 rounded-md border border-border hover:bg-accent transition-colors focus-ring","aria-label":"Reset simulation",children:[c.jsx(Po,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Reset"})]})]})]}),!x&&c.jsx("div",{className:"p-4 rounded-lg bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800",children:c.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[c.jsx(Nr,{className:"w-5 h-5"}),c.jsx("span",{children:"Create or load a rule to run simulations against fixture data."})]})}),U&&c.jsx(cP,{result:U}),!U&&x&&c.jsx("div",{className:"p-4 rounded-lg bg-accent/50 border border-border",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Nr,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-foreground",children:c.jsx("strong",{children:"How to use:"})}),c.jsxs("ol",{className:"text-sm text-foreground-muted space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Select a file from the fixture to test against"}),c.jsx("li",{children:'Click "Run Simulation" to evaluate your rule'}),c.jsx("li",{children:"Review condition-by-condition results"}),c.jsx("li",{children:"See what event would be triggered (if any)"})]}),c.jsx("p",{className:"text-xs text-foreground-muted mt-2",children:"The simulation uses real browser-based plugins to evaluate facts and operators against the bundled fixture data."})]})]})})]})]})]})}function fP(){const{theme:e,toggleTheme:t}=W7();return c.jsx(b8,{leftPanel:c.jsx(q7,{}),centerPanel:c.jsx(zE,{}),rightPanel:c.jsx(ok,{}),bottomPanel:c.jsx(dP,{}),theme:e,onToggleTheme:t})}const dw=document.getElementById("root");if(!dw)throw new Error("Failed to find root element");x5.createRoot(dw).render(c.jsx(ot.StrictMode,{children:c.jsx(fP,{})}));
//# sourceMappingURL=index-DgrHFEB7.js.map
