"use strict";(self.webpackChunkx_fidelity_website=self.webpackChunkx_fidelity_website||[]).push([[8433],{2456:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"ci-cd/gitlab-ci","title":"GitLab CI Integration","description":"This guide shows how to integrate x-fidelity into your GitLab CI/CD pipelines.","source":"@site/docs/ci-cd/gitlab-ci.md","sourceDirName":"ci-cd","slug":"/ci-cd/gitlab-ci","permalink":"/x-fidelity/docs/ci-cd/gitlab-ci","draft":false,"unlisted":false,"editUrl":"https://github.com/zotoio/x-fidelity/edit/main/website/docs/ci-cd/gitlab-ci.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docs","previous":{"title":"GitHub Actions Integration","permalink":"/x-fidelity/docs/ci-cd/github-actions"},"next":{"title":"Jenkins Integration","permalink":"/x-fidelity/docs/ci-cd/jenkins"}}');var s=n(4848),l=n(8453);const r={sidebar_position:3},c="GitLab CI Integration",a={},o=[{value:"Basic Pipeline Configuration",id:"basic-pipeline-configuration",level:2},{value:"Advanced Configuration",id:"advanced-configuration",level:2},{value:"With OpenAI Integration",id:"with-openai-integration",level:3},{value:"With Local Config",id:"with-local-config",level:3},{value:"With Custom Archetype",id:"with-custom-archetype",level:3},{value:"GitLab CI Specific Features",id:"gitlab-ci-specific-features",level:2},{value:"Caching Dependencies",id:"caching-dependencies",level:3},{value:"Matrix Testing",id:"matrix-testing",level:3},{value:"Pipeline Artifacts",id:"pipeline-artifacts",level:3},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Example Projects",id:"example-projects",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function d(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"gitlab-ci-integration",children:"GitLab CI Integration"})}),"\n",(0,s.jsx)(i.p,{children:"This guide shows how to integrate x-fidelity into your GitLab CI/CD pipelines."}),"\n",(0,s.jsx)(i.h2,{id:"basic-pipeline-configuration",children:"Basic Pipeline Configuration"}),"\n",(0,s.jsxs)(i.p,{children:["Create ",(0,s.jsx)(i.code,{children:".gitlab-ci.yml"})," in your repository:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:'image: node:18\n\nstages:\n  - test\n\nx-fidelity:\n  stage: test\n  before_script:\n    - yarn global add x-fidelity\n    - export PATH="$PATH:$(yarn global bin)"\n  script:\n    - xfidelity . --configServer https://config-server.example.com\n  variables:\n    OPENAI_API_KEY: $OPENAI_API_KEY\n    XFI_SHARED_SECRET: $XFI_SHARED_SECRET\n'})}),"\n",(0,s.jsx)(i.h2,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,s.jsx)(i.h3,{id:"with-openai-integration",children:"With OpenAI Integration"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"x-fidelity:\n  script:\n    - xfidelity . -o true\n  variables:\n    OPENAI_API_KEY: $OPENAI_API_KEY\n    OPENAI_MODEL: 'gpt-4'\n"})}),"\n",(0,s.jsx)(i.h3,{id:"with-local-config",children:"With Local Config"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"x-fidelity:\n  script:\n    - xfidelity . --localConfigPath ./config\n"})}),"\n",(0,s.jsx)(i.h3,{id:"with-custom-archetype",children:"With Custom Archetype"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"x-fidelity:\n  script:\n    - xfidelity . --archetype java-microservice\n"})}),"\n",(0,s.jsx)(i.h2,{id:"gitlab-ci-specific-features",children:"GitLab CI Specific Features"}),"\n",(0,s.jsx)(i.h3,{id:"caching-dependencies",children:"Caching Dependencies"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"x-fidelity:\n  cache:\n    key: ${CI_COMMIT_REF_SLUG}\n    paths:\n      - node_modules/\n      - .yarn\n"})}),"\n",(0,s.jsx)(i.h3,{id:"matrix-testing",children:"Matrix Testing"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"x-fidelity:\n  parallel:\n    matrix:\n      - ARCHETYPE: [node-fullstack, java-microservice]\n  script:\n    - xfidelity . --archetype $ARCHETYPE\n"})}),"\n",(0,s.jsx)(i.h3,{id:"pipeline-artifacts",children:"Pipeline Artifacts"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"x-fidelity:\n  artifacts:\n    reports:\n      junit: results.xml\n    paths:\n      - results.json\n    expire_in: 1 week\n"})}),"\n",(0,s.jsx)(i.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsx)(i.p,{children:"Set these in your GitLab CI/CD variables:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"OPENAI_API_KEY"}),": For OpenAI integration"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"XFI_SHARED_SECRET"}),": For config server authentication"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"CONFIG_SERVER_URL"}),": Your config server URL"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Secrets Management"}),": Use GitLab CI/CD variables for sensitive data"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Caching"}),": Implement proper caching strategy"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Versioning"}),": Pin dependency versions"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Error Handling"}),": Add proper error handling"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Notifications"}),": Configure notifications for failures"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"example-projects",children:"Example Projects"}),"\n",(0,s.jsx)(i.p,{children:"Check out these example repositories:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://gitlab.com/example/x-fidelity-node",children:"x-fidelity-node-example"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://gitlab.com/example/x-fidelity-java",children:"x-fidelity-java-example"})}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(i.p,{children:"Common issues and solutions:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Authentication Failures"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Check variable configuration"}),"\n",(0,s.jsx)(i.li,{children:"Verify environment variables"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Timeout Issues"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Increase job timeout"}),"\n",(0,s.jsx)(i.li,{children:"Optimize analysis scope"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Cache Problems"}),":"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Clear cache"}),"\n",(0,s.jsx)(i.li,{children:"Update cache key"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>c});var t=n(6540);const s={},l=t.createContext(s);function r(e){const i=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(l.Provider,{value:i},e.children)}}}]);