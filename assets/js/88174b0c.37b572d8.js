"use strict";(self.webpackChunkx_fidelity_website=self.webpackChunkx_fidelity_website||[]).push([[2094],{5817:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"openai-integration","title":"OpenAI Integration","description":"x-fidelity offers advanced AI-powered code analysis through integration with OpenAI\'s language models. This feature provides in-depth insights and suggestions for improving your codebase.","source":"@site/docs/openai-integration.md","sourceDirName":".","slug":"/openai-integration","permalink":"/x-fidelity/docs/openai-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/zotoio/x-fidelity/edit/main/website/docs/openai-integration.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11},"sidebar":"docs","previous":{"title":"Exemptions","permalink":"/x-fidelity/docs/exemptions"},"next":{"title":"Library Migration Tracking","permalink":"/x-fidelity/docs/library-migration-tracking"}}');var r=i(4848),l=i(8453);const t={sidebar_position:11},a="OpenAI Integration",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"CLI Options",id:"cli-options",level:3},{value:"Creating OpenAI Rules",id:"creating-openai-rules",level:2},{value:"Response Format",id:"response-format",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Example Rules",id:"example-rules",level:2},{value:"Security Analysis",id:"security-analysis",level:3},{value:"Performance Analysis",id:"performance-analysis",level:3},{value:"Limitations",id:"limitations",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"openai-integration",children:"OpenAI Integration"})}),"\n",(0,r.jsx)(n.p,{children:"x-fidelity offers advanced AI-powered code analysis through integration with OpenAI's language models. This feature provides in-depth insights and suggestions for improving your codebase."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The OpenAI integration:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Analyzes code patterns and practices"}),"\n",(0,r.jsx)(n.li,{children:"Identifies potential issues"}),"\n",(0,r.jsx)(n.li,{children:"Suggests improvements"}),"\n",(0,r.jsx)(n.li,{children:"Provides severity ratings"}),"\n",(0,r.jsx)(n.li,{children:"Supports custom prompts"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Required\nOPENAI_API_KEY=your_api_key_here\n\n# Optional\nOPENAI_MODEL=gpt-4  # Default is 'gpt-4'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"cli-options",children:"CLI Options"}),"\n",(0,r.jsx)(n.p,{children:"Enable OpenAI analysis:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"xfidelity . -o true\n"})}),"\n",(0,r.jsx)(n.h2,{id:"creating-openai-rules",children:"Creating OpenAI Rules"}),"\n",(0,r.jsx)(n.p,{children:"Rules using OpenAI must:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Have names starting with 'openai'"}),"\n",(0,r.jsxs)(n.li,{children:["Use the ",(0,r.jsx)(n.code,{children:"openaiAnalysis"})," fact"]}),"\n",(0,r.jsxs)(n.li,{children:["Use the ",(0,r.jsx)(n.code,{children:"openaiAnalysisHighSeverity"})," operator"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Example rule:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "name": "openaiAnalysisA11y-global",\n    "conditions": {\n        "all": [\n            {\n                "fact": "fileData",\n                "path": "$.fileName",\n                "operator": "equal",\n                "value": "REPO_GLOBAL_CHECK"\n            },\n            {\n                "fact": "openaiAnalysis",\n                "params": {\n                    "prompt": "Identify accessibility issues",\n                    "resultFact": "openaiAnalysisA11y"\n                },\n                "operator": "openaiAnalysisHighSeverity",\n                "value": 7\n            }\n        ]\n    },\n    "event": {\n        "type": "warning",\n        "params": {\n            "message": "OpenAI detected accessibility issues",\n            "details": {\n                "fact": "openaiAnalysisA11y"\n            }\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"response-format",children:"Response Format"}),"\n",(0,r.jsx)(n.p,{children:"OpenAI responses follow this structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "issues": [\n        {\n            "issue": "Missing alt text",\n            "severity": 8,\n            "description": "Images lack alt text for screen readers",\n            "filePaths": ["src/components/Image.tsx"],\n            "suggestion": "Add alt attributes to all img elements",\n            "codeSnippets": [\n                {\n                    "filePath": "src/components/Image.tsx",\n                    "lineNumber": 15,\n                    "before": "<img src=\\"logo.png\\" />",\n                    "after": "<img src=\\"logo.png\\" alt=\\"Company logo\\" />"\n                }\n            ]\n        }\n    ]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cost Management"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use specific prompts"}),"\n",(0,r.jsx)(n.li,{children:"Limit analysis scope"}),"\n",(0,r.jsx)(n.li,{children:"Monitor API usage"}),"\n",(0,r.jsx)(n.li,{children:"Cache results when possible"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Security"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Never send sensitive data"}),"\n",(0,r.jsx)(n.li,{children:"Review code before sending"}),"\n",(0,r.jsx)(n.li,{children:"Use data masking"}),"\n",(0,r.jsx)(n.li,{children:"Set rate limits"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Performance"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use async analysis"}),"\n",(0,r.jsx)(n.li,{children:"Implement timeouts"}),"\n",(0,r.jsx)(n.li,{children:"Handle API errors"}),"\n",(0,r.jsx)(n.li,{children:"Cache responses"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Prompts"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Be specific"}),"\n",(0,r.jsx)(n.li,{children:"Focus on one aspect"}),"\n",(0,r.jsx)(n.li,{children:"Include context"}),"\n",(0,r.jsx)(n.li,{children:"Set clear expectations"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-rules",children:"Example Rules"}),"\n",(0,r.jsx)(n.h3,{id:"security-analysis",children:"Security Analysis"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "name": "openaiSecurityCheck-global",\n    "conditions": {\n        "all": [\n            {\n                "fact": "openaiAnalysis",\n                "params": {\n                    "prompt": "Identify security vulnerabilities",\n                    "resultFact": "securityAnalysis"\n                },\n                "operator": "openaiAnalysisHighSeverity",\n                "value": 9\n            }\n        ]\n    },\n    "event": {\n        "type": "fatality",\n        "params": {\n            "message": "Critical security issues detected",\n            "details": {\n                "fact": "securityAnalysis"\n            }\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"performance-analysis",children:"Performance Analysis"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "name": "openaiPerformance-global",\n    "conditions": {\n        "all": [\n            {\n                "fact": "openaiAnalysis",\n                "params": {\n                    "prompt": "Identify performance bottlenecks",\n                    "resultFact": "performanceAnalysis"\n                },\n                "operator": "openaiAnalysisHighSeverity",\n                "value": 7\n            }\n        ]\n    },\n    "event": {\n        "type": "warning",\n        "params": {\n            "message": "Performance issues detected",\n            "details": {\n                "fact": "performanceAnalysis"\n            }\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cost"}),": API usage incurs charges"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Privacy"}),": Code is sent to OpenAI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rate Limits"}),": API has request limits"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Response Time"}),": Analysis adds processing time"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Accuracy"}),": Results may need human review"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Configure ",(0,r.jsx)(n.a,{href:"local-config",children:"Local Rules"})]}),"\n",(0,r.jsxs)(n.li,{children:["Set up ",(0,r.jsx)(n.a,{href:"remote-config",children:"Remote Configuration"})]}),"\n",(0,r.jsxs)(n.li,{children:["Learn about ",(0,r.jsx)(n.a,{href:"telemetry",children:"Telemetry"})]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var s=i(6540);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);