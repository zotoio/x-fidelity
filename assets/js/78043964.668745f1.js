"use strict";(self.webpackChunkx_fidelity_website=self.webpackChunkx_fidelity_website||[]).push([[6960],{6732:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"github-webhooks","title":"GitHub Webhooks","description":"x-fidelity\'s config server supports GitHub webhooks for real-time configuration updates and pull request checks.","source":"@site/docs/github-webhooks.md","sourceDirName":".","slug":"/github-webhooks","permalink":"/x-fidelity/docs/github-webhooks","draft":false,"unlisted":false,"editUrl":"https://github.com/zotoio/x-fidelity/edit/main/website/docs/github-webhooks.md","tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13},"sidebar":"docs","previous":{"title":"Docker Deployment","permalink":"/x-fidelity/docs/docker-deployment"},"next":{"title":"Telemetry","permalink":"/x-fidelity/docs/telemetry"}}');var t=i(4848),r=i(8453);const l={sidebar_position:13},o="GitHub Webhooks",c={},d=[{value:"Overview",id:"overview",level:2},{value:"Setup",id:"setup",level:2},{value:"Config Update Webhook",id:"config-update-webhook",level:2},{value:"Security",id:"security",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"github-webhooks",children:"GitHub Webhooks"})}),"\n",(0,t.jsx)(n.p,{children:"x-fidelity's config server supports GitHub webhooks for real-time configuration updates and pull request checks."}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"The config server exposes two webhook endpoints:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/github-config-update"}),": Updates local config when repository changes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/github-pull-request-check"}),": Validates pull requests (future feature)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Configure webhook secret:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"export GITHUB_WEBHOOK_SECRET=your_webhook_secret\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["Add webhook in GitHub:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Go to repository/organization settings"}),"\n",(0,t.jsx)(n.li,{children:"Add webhook"}),"\n",(0,t.jsxs)(n.li,{children:["Set payload URL to ",(0,t.jsx)(n.code,{children:"https://your-server/github-config-update"})]}),"\n",(0,t.jsxs)(n.li,{children:["Set content type to ",(0,t.jsx)(n.code,{children:"application/json"})]}),"\n",(0,t.jsxs)(n.li,{children:["Set secret to match ",(0,t.jsx)(n.code,{children:"GITHUB_WEBHOOK_SECRET"})]}),"\n",(0,t.jsxs)(n.li,{children:["Select events: ",(0,t.jsx)(n.code,{children:"Push"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"config-update-webhook",children:"Config Update Webhook"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"/github-config-update"})," endpoint:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Validates webhook signature"}),"\n",(0,t.jsx)(n.li,{children:"Clears server cache"}),"\n",(0,t.jsx)(n.li,{children:"Updates local configuration"}),"\n",(0,t.jsx)(n.li,{children:"Supports branch-specific updates"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example payload:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "ref": "refs/heads/main",\n  "repository": {\n    "name": "x-fidelity-config",\n    "owner": {\n      "name": "organization"\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,t.jsx)(n.p,{children:"The webhook implementation includes:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Signature validation using HMAC-SHA256"}),"\n",(0,t.jsx)(n.li,{children:"Shared secret verification"}),"\n",(0,t.jsx)(n.li,{children:"Rate limiting"}),"\n",(0,t.jsx)(n.li,{children:"Input validation"}),"\n",(0,t.jsx)(n.li,{children:"Path traversal prevention"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Security"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use strong webhook secrets"}),"\n",(0,t.jsx)(n.li,{children:"Enable HTTPS"}),"\n",(0,t.jsx)(n.li,{children:"Implement rate limiting"}),"\n",(0,t.jsx)(n.li,{children:"Validate payloads"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Configuration"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use dedicated config repositories"}),"\n",(0,t.jsx)(n.li,{children:"Follow branch protection rules"}),"\n",(0,t.jsx)(n.li,{children:"Document webhook setup"}),"\n",(0,t.jsx)(n.li,{children:"Monitor webhook activity"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Error Handling"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Log webhook failures"}),"\n",(0,t.jsx)(n.li,{children:"Set up notifications"}),"\n",(0,t.jsx)(n.li,{children:"Monitor server health"}),"\n",(0,t.jsx)(n.li,{children:"Handle timeouts"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set up ",(0,t.jsx)(n.a,{href:"ci-cd/overview",children:"CI/CD Integration"})]}),"\n",(0,t.jsxs)(n.li,{children:["Configure ",(0,t.jsx)(n.a,{href:"remote-configuration",children:"Remote Configuration"})]}),"\n",(0,t.jsxs)(n.li,{children:["Implement ",(0,t.jsx)(n.a,{href:"telemetry",children:"Telemetry"})]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);