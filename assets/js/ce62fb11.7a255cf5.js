"use strict";(self.webpackChunkx_fidelity_website=self.webpackChunkx_fidelity_website||[]).push([[1429],{1368:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"rules/hello-rule","title":"Hello Rule","description":"Create your first rule and run it.","source":"@site/docs/rules/hello-rule.md","sourceDirName":"rules","slug":"/rules/hello-rule","permalink":"/x-fidelity/docs/rules/hello-rule","draft":false,"unlisted":false,"editUrl":"https://github.com/zotoio/x-fidelity/edit/main/website/docs/rules/hello-rule.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1}}');var i=l(4848),r=l(8453);const t={sidebar_position:1},o="Hello Rule",c={},a=[{value:"1. Minimal rule",id:"1-minimal-rule",level:2},{value:"2. Reference in archetype config",id:"2-reference-in-archetype-config",level:2},{value:"3. Run",id:"3-run",level:2},{value:"4. Tips",id:"4-tips",level:2},{value:"5. Next",id:"5-next",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"hello-rule",children:"Hello Rule"})}),"\n",(0,i.jsx)(n.p,{children:"Create your first rule and run it."}),"\n",(0,i.jsx)(n.h2,{id:"1-minimal-rule",children:"1. Minimal rule"}),"\n",(0,i.jsxs)(n.p,{children:["Save a rule file (e.g., ",(0,i.jsx)(n.code,{children:"rules/hello-rule.json"}),") in your config directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "name": "hello-rule",\n  "description": "Flags files containing TODO",\n  "conditions": {\n    "all": [\n      {\n        "fact": "globalFileAnalysis",\n        "operator": "regexMatchWithPosition",\n        "value": {\n          "pattern": "TODO",\n          "flags": "g",\n          "resultFact": "todoMatches"\n        }\n      }\n    ]\n  },\n  "event": {\n    "type": "warning",\n    "params": {\n      "message": "Found TODOs",\n      "details": {\n        "matches": { "fact": "todoMatches" }\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Uses the Patterns plugin facts/operators ",(0,i.jsx)(n.code,{children:"globalFileAnalysis"})," + ",(0,i.jsx)(n.code,{children:"regexMatchWithPosition"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"2-reference-in-archetype-config",children:"2. Reference in archetype config"}),"\n",(0,i.jsxs)(n.p,{children:["Add to your archetype config (e.g., ",(0,i.jsx)(n.code,{children:"node-fullstack.json"}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "name": "node-fullstack",\n  "plugins": ["xfiPluginPatterns"],\n  "rules": ["hello-rule"]\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"3-run",children:"3. Run"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Use local config path\nxfidelity . --localConfigPath /absolute/path/to/config\n"})}),"\n",(0,i.jsx)(n.h2,{id:"4-tips",children:"4. Tips"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"xfiPluginFilesystem"})," and ",(0,i.jsx)(n.code,{children:"xfiPluginAst"})," for deeper checks"]}),"\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"value.resultFact"})," to store matches for use in event params"]}),"\n",(0,i.jsx)(n.li,{children:"Validate rule JSON structure against examples in the docs"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"5-next",children:"5. Next"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Explore the ",(0,i.jsx)(n.a,{href:"./rules-cookbook",children:"Rules Cookbook"})]}),"\n",(0,i.jsxs)(n.li,{children:["Learn about ",(0,i.jsx)(n.a,{href:"../operators",children:"Operators"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>t,x:()=>o});var s=l(6540);const i={},r=s.createContext(i);function t(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);